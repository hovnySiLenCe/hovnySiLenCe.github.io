{"meta":{"title":"h^ovny's blog","subtitle":"Forever","description":"devil.","author":"h^ovny","url":"http://hovnySiLenCe.github.io"},"pages":[{"title":"categories","date":"2019-03-24T10:48:26.000Z","updated":"2020-01-29T03:29:45.099Z","comments":false,"path":"categories/index.html","permalink":"http://hovnySiLenCe.github.io/categories/index.html","excerpt":"","text":"å’• $ing$","keywords":"åˆ†ç±»"},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-11-10T23:50:05.810Z","comments":false,"path":"about/index.html","permalink":"http://hovnySiLenCe.github.io/about/index.html","excerpt":"","text":"h^ovny ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... function bot_ui_ini() { var botui = new BotUI(\"hello-mashiro\"); botui.message.add({ delay: 800, content: \"Hi, there111ğŸ‘‹\" }).then(function () { botui.message.add({ delay: 1100, content: \"è¿™é‡Œæ˜¯ Mashiro\" }).then(function () { botui.message.add({ delay: 1100, content: \"ä¸€ä¸ªå¯çˆ±çš„è“å­©å­~\" }).then(function () { botui.action.button({ delay: 1600, action: [{ text: \"ç„¶åå‘¢ï¼Ÿ ğŸ˜ƒ\", value: \"sure\" }, { text: \"å°‘åºŸè¯ï¼ ğŸ™„\", value: \"skip\" }] }).then(function (a) { \"sure\" == a.value && sure(); \"skip\" == a.value && end() }) }) }) }); var sure = function () { botui.message.add({ delay: 600, content: \"ğŸ˜˜\" }).then(function () { secondpart() }) }, end = function () { botui.message.add({ delay: 600, content: \"![...](https://view.moezx.cc/images/2018/05/06/a1c4cd0452528b572af37952489372b6.md.jpg)\" }) }, secondpart = function () { botui.message.add({ delay: 1500, content: \"ç›®å‰å°±è¯»äºä¸Šæµ·è´¢ç»å¤§å­¦\" }).then(function () { botui.message.add({ delay: 1500, content: \"å‘å¾€æŠ€æœ¯å´è¯¯å…¥å•†ç§‘ï¼Œä½†åæ¥å–œæ¬¢ä¸Šäº†ç»æµå­¦â€¦\" }).then(function () { botui.message.add({ delay: 1200, content: \"å› ä¸ºæ•°æ®åˆ†æä¹Ÿéœ€è¦Coderå˜›\" }).then(function () { botui.message.add({ delay: 1500, content: \"ä¸»æ”» R è¯­è¨€å’Œ Pythonï¼Œç•¥æ‡‚ STATAï¼Œå¶å°”ä¹ŸæŠ˜è…¾ HTML/CSS/JavaScript/PHP\" }).then(function () { botui.message.add({ delay: 1500, content: \"ç ”ç©¶çš„æ–¹å‘ï¼Œæ˜¯ç»æµ/é‡‘èæ–¹å‘çš„æ•°æ®åˆ†æï¼ˆdata scienceï¼‰ä»¥åŠæœºå™¨å­¦ä¹ ï¼ˆmachine learningï¼‰\" }).then(function () { botui.message.add({ delay: 1800, content: \"å–œæ¬¢ç”»ç”»ï¼Œå¸Œæœ›æœ‰ä¸€å¤©èƒ½å¤Ÿè¢«ç§°ä¸ºç”»å¸ˆ\" }).then(function () { botui.action.button({ delay: 1100, action: [{ text: \"ä¸ºä»€ä¹ˆå«Mashiroå‘¢ï¼Ÿ ğŸ¤”\", value: \"why-mashiro\" }] }).then(function (a) { thirdpart() }) }) }) }) }) }) }) }, thirdpart = function () { botui.message.add({ delay: 1E3, content: \"Mashiroä»¥åŠç«™åéƒ½æ¥è‡ªä¸€éƒ¨åŠ¨ç”»ï¼Œå› ä¸ºå’Œä¸»è§’æœ‰ä¸€æ ·çš„çˆ±å¥½~ å¦‚æœæœ‰å…´è¶£å¯ä»¥æ‰¾æ‰¾é¦–é¡µä¸Šçš„è§†é¢‘~\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"ä¸ºä»€ä¹ˆæ˜¯ç™½çŒ«å‘¢ï¼Ÿ ğŸ¤”\", value: \"why-cat\" }] }).then(function (a) { fourthpart() }) }) }, fourthpart = function () { botui.message.add({ delay: 1E3, content: \"å› ä¸ºå¯¹GitHubæœ‰ç§æ‰§å¿µâ€¦ \" }).then(function () { botui.message.add({ delay: 1100, content: \"è€Œä¸”æˆ‘çœŸçš„æ˜¯çŒ«æ§ï¼\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"åŸŸåæœ‰ä»€ä¹ˆå«æ„å—ï¼Ÿ(à¸‡ â€¢_â€¢)à¸‡\", value: \"why-domain\" }] }).then(function (a) { fifthpart() }) }) }) }, fifthpart = function () { botui.message.add({ delay: 1E3, content: \"emmmmï¼Œçœ‹å¤‡æ¡ˆä¿¡æ¯ä½ å°±çŸ¥é“äº†=.= æœ¬æ¥æƒ³è¦zheng.xinçš„ï¼Œä½†50ä¸‡çœŸä¹°ä¸èµ·ã€‚ã€‚\" }).then(function () { botui.message.add({ delay: 1600, content: \"é‚£ä¹ˆï¼Œä»”ç»†çœ‹çœ‹æˆ‘çš„åšå®¢å§ï¼Ÿ ^_^\" }) }) } } bot_ui_ini()","keywords":"å…³äº"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"client/index.html","permalink":"http://hovnySiLenCe.github.io/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-11-12T09:44:59.545Z","comments":false,"path":"bangumi/index.html","permalink":"http://hovnySiLenCe.github.io/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-06-01T14:21:46.000Z","comments":true,"path":"comment/index.html","permalink":"http://hovnySiLenCe.github.io/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"Links","date":"2019-11-12T13:26:29.000Z","updated":"2019-11-12T13:26:41.725Z","comments":true,"path":"links/index.html","permalink":"http://hovnySiLenCe.github.io/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"Lab","date":"2019-01-05T13:47:59.000Z","updated":"2020-01-29T02:55:54.638Z","comments":false,"path":"lab/index.html","permalink":"http://hovnySiLenCe.github.io/lab/index.html","excerpt":"","text":"everything here is just for test. ab\\\\ab$AtCoder$ å±…ç„¶è¦åœ¨è¾“å‡ºæœ€åæ¢è¡Œâ€¦â€¦ ç›®å‰å‘ç°çš„ $bug$ å°±æ˜¯æ’å…¥è§†é¢‘åä¸‹é¢ä»€ä¹ˆéƒ½æ²¡äº† &lt;iframe src=&quot;//player.bilibili.com/player.html?aid=å¯¹åº”aid&amp;amp;cid=å¯¹åº”cid&amp;amp;page=1&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot; width=&quot;95%&quot; height=&quot;600&quot;&gt; &lt;/iframe&gt; &lt;center&gt;&lt;video src=&quot;https://cdn.jsdelivr.net/gh/hovnySiLenCe/cdn@1.1/videos/Believer.mp4&quot; /&gt;&lt;/center&gt;","keywords":"Labå®éªŒå®¤"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"donate/index.html","permalink":"http://hovnySiLenCe.github.io/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"ã€ŒProblem Listsã€","date":"2019-12-21T14:48:31.000Z","updated":"2020-06-13T06:47:05.720Z","comments":false,"path":"lists/index.html","permalink":"http://hovnySiLenCe.github.io/lists/index.html","excerpt":"","text":"äº¤äº’é¢˜ [x] CF1336D Yui and Mahjong Set [ ] CF1365G Secure Password [x] CF1363D Guess The Maximums(å·®ç‚¹å°±åƒæ˜¾å¡äº†)","keywords":"ã€ŒProblem Listsã€"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-11-12T13:48:20.871Z","comments":false,"path":"music/index.html","permalink":"http://hovnySiLenCe.github.io/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"èµ„æº","date":"2019-11-23T01:52:06.000Z","updated":"2020-01-23T09:37:11.436Z","comments":false,"path":"source/index.html","permalink":"http://hovnySiLenCe.github.io/source/index.html","excerpt":"","text":"$Solfware\\ Download$CCR-Plus","keywords":"èµ„æº"},{"title":"rss","date":"2019-10-24T07:26:21.000Z","updated":"2019-10-24T07:26:47.649Z","comments":true,"path":"rss/index.html","permalink":"http://hovnySiLenCe.github.io/rss/index.html","excerpt":"","text":""},{"title":"ã€ŒAuthor's Choiceã€","date":"2019-12-21T14:48:31.000Z","updated":"2020-08-06T08:05:33.176Z","comments":false,"path":"startdash/index.html","permalink":"http://hovnySiLenCe.github.io/startdash/index.html","excerpt":"","text":"mistakes2020-7-30 åŸæ¥ double çš„ç²¾åº¦ 15 ä½æ˜¯åŒ…æ‹¬æ•´éƒ¨çš„ï¼ï¼ï¼ $\\mathtt{Luogu\\ P4166}$ 2020-7-29 åŸæ¥ 1&lt;&lt;k ä¹Ÿè¦æ³¨æ„å¼€ LL çš„ $\\mathtt{Luogu\\ P4140}$ åˆåˆåˆæ²¡å¼€ LLï¼ŒF å’Œ G ä¸¤ä¸ª $tag$ æ•°ç»„æ²¡å¼€ LL $\\mathtt{CF1114F}$ 2020-6-2 æ‰“ $CF$ æ¨¡æ‹Ÿèµ›åˆåˆåˆåˆæ²¡çœ‹æ¸…é¢˜æ„/qiao 2020-5-28 æ‰“ $CF$ æ¨¡æ‹Ÿèµ›çš„æ—¶å€™ç¬¬ä¸‰æ¬¡æ²¡çœ‹æ¸…é¢˜æ„ $\\mathtt{CF1344C\\ Quantifier\\ Question}$ 2020-5-24 çŠ¶å‹æ–¹å‘å¼„åäº† $\\mathtt{Link}$ æ•°ç»„æ’åºåæ²¡å–æœ€å°å€¼&amp;çˆ† int äº† $\\mathtt{Link}$ tips2020-8-6 å¯¹äºè¿™ç±»æ±‚ä¸€æ®µåŒºé—´çš„æƒå€¼ $=length\\times value$ çš„ max æˆ– min å€¼é¢˜ç›®ï¼Œä¸€èˆ¬é‡‡å–ç”¨åˆ†æ²»çš„æ€æƒ³è§£å†³ 2020-8-1 æ—‹è½¬å¡å£³æœ€å¤§å¤–æ¥çŸ©å½¢æ—¶ç»´æŠ¤å·¦å³è¾¹ç•Œå¯ä»¥ä½¿ç”¨ç‚¹ç§¯ 2020-4-4 å¸¦æƒå¹¶æŸ¥é›† $\\mathtt{Link}$ 2020-2-7 å¤„ç†æ•°æ®çš„é¡ºåºè¦çµæ´»å˜æ¢ $\\mathtt{Link}$ 2020-2-5 çº¿æ®µæ ‘åŒºé—´åˆå¹¶å¯ä»¥ä½¿ç”¨é‡è½½è¿ç®—ç¬¦æ¥ç®€åŒ–ä»£ç å¤æ‚åº¦ å¯¹ $Treap$ å¯ä»¥ç”¨ä¸­åºéå†è¿›è¡Œçº¿æ€§åŒ– 2020-2-4 æ ‘ä¸Š $DP$ å¯ä»¥è½¬æ¢ä¸º $DFS$ åºåè§£å†³ $DP$ é‡åˆ°å›°éš¾ï¼Œè¦è€ƒè™‘æ”¹å˜çŠ¶æ€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæœ‰é—®é¢˜å°±æ‰¾ $DP$ çŠ¶æ€ï¼Œå¦‚ï¼šè¡Œå…ˆæ”¹å˜ä¸ºåˆ—å…ˆ ä½¿ç”¨ for(i=S;i;i=S&amp;(i-1)) æ¥éå†é›†åˆçš„æ‰€æœ‰å­é›† 2020-1-30 åº•æ•°ä¸å˜çš„çŸ©é˜µå¿«é€Ÿå¹‚å¯ä»¥ç”¨åˆ†å—ä¼˜åŒ– Todo List [ ] çº¿æ®µæ ‘åˆ†æ²»ï¼Ÿï¼ [ ] åç¼€å®¶æ— [ ] æ¦‚ç‡æœŸæœ› [x] æ—‹è½¬å¡å£³ $\\mathtt{Link}$ something wrong2020-5-24è¿™ä¸ªåŸæœ¬åº”è¯¥æ˜¯æ˜¨å¤©å†™çš„ï¼Œä½†æ˜¯ç¡®å®ç”±äºæ²¡æœ‰ç”µè„‘åªå¥½ä»Šå¤©å›æ ¡å†æ¥å†™ï¼Œç¡®å®è¿˜æœ‰å¸Œæœ›ï¼Œè¦ç›¸ä¿¡è‡ªå·±ï¼Œæ…¢æ…¢æ¥ï¼Œå¯ä»¥çš„ï¼ 2020-5-10å±…ç„¶è¿æé«˜+çš„é¢˜éƒ½åšä¸æ¥äº†â€¦â€¦è¦åŠ æ²¹å•Šï¼â€¦â€¦ 2020-3-29æ—¶éš”å°†è¿‘ä¸¤ä¸ªæœˆäº†ï¼Œæˆ‘ç»ˆäºå›æ¥äº†ï¼Œæ„Ÿè§‰å®åœ¨æ˜¯æ— èƒ½ï¼Œç”Ÿæ´»è¿‡äºé¢“åºŸï¼Œæ— èƒ½å•Š 2020-2-7æ„Ÿè§‰ä¸æ˜¯å¾ˆå¥½ï¼ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬è‡ªæˆ‘è°ƒæ•´ï¼ŒæŒ£æ‰åˆ°æœ€åå‘ç°è‡ªå·±ä¸è¿‡è¿˜æ˜¯ä¸ªäººâ€¦â€¦","keywords":"ã€ŒAuthor's Choiceã€"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2020-01-23T14:26:03.499Z","comments":false,"path":"theme-sakura/index.html","permalink":"http://hovnySiLenCe.github.io/theme-sakura/index.html","excerpt":"","text":"Hexo ä¸»é¢˜ Sakura ä¿®æ”¹è‡ª WordPress ä¸»é¢˜ Sakuraï¼Œæ„Ÿè°¢åŸä½œè€… Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"ã€ŒAuthor's Choiceã€","date":"2019-12-21T14:48:31.000Z","updated":"2020-08-06T08:05:22.612Z","comments":false,"path":"startdashface/index.html","permalink":"http://hovnySiLenCe.github.io/startdashface/index.html","excerpt":"","text":"mistakes2020-7-30 åŸæ¥ double çš„ç²¾åº¦ 15 ä½æ˜¯åŒ…æ‹¬æ•´éƒ¨çš„ï¼ï¼ï¼ $\\mathtt{Luogu\\ P4166}$ 2020-7-29 åŸæ¥ 1&lt;&lt;k ä¹Ÿè¦æ³¨æ„å¼€ LL çš„ $\\mathtt{Luogu\\ P4140}$ åˆåˆåˆæ²¡å¼€ LLï¼ŒF å’Œ G ä¸¤ä¸ª $tag$ æ•°ç»„æ²¡å¼€ LL $\\mathtt{CF1114F}$ 2020-6-2 æ‰“ $CF$ æ¨¡æ‹Ÿèµ›åˆåˆåˆåˆæ²¡çœ‹æ¸…é¢˜æ„/qiao 2020-5-28 æ‰“ $CF$ æ¨¡æ‹Ÿèµ›çš„æ—¶å€™ç¬¬ä¸‰æ¬¡æ²¡çœ‹æ¸…é¢˜æ„ $\\mathtt{CF1344C\\ Quantifier\\ Question}$ 2020-5-24 çŠ¶å‹æ–¹å‘å¼„åäº† $\\mathtt{Luogu\\ P1391}$ æ•°ç»„æ’åºåæ²¡å–æœ€å°å€¼&amp;çˆ† int äº† $\\mathtt{CF161B\\ Discounts}$ tips2020-8-6 å¯¹äºè¿™ç±»æ±‚ä¸€æ®µåŒºé—´çš„æƒå€¼ $=length\\times value$ çš„ max æˆ– min å€¼é¢˜ç›®ï¼Œä¸€èˆ¬é‡‡å–ç”¨åˆ†æ²»çš„æ€æƒ³è§£å†³ 2020-8-1 æ—‹è½¬å¡å£³æœ€å¤§å¤–æ¥çŸ©å½¢æ—¶ç»´æŠ¤å·¦å³è¾¹ç•Œå¯ä»¥ä½¿ç”¨ç‚¹ç§¯ 2020-4-4 å¸¦æƒå¹¶æŸ¥é›† $\\mathtt{Luogu\\ P4079}$ 2020-2-7 å¤„ç†æ•°æ®çš„é¡ºåºè¦çµæ´»å˜æ¢ $\\mathtt{Link}$ 2020-2-5 çº¿æ®µæ ‘åŒºé—´åˆå¹¶å¯ä»¥ä½¿ç”¨é‡è½½è¿ç®—ç¬¦æ¥ç®€åŒ–ä»£ç å¤æ‚åº¦ å¯¹ $Treap$ å¯ä»¥ç”¨ä¸­åºéå†è¿›è¡Œçº¿æ€§åŒ– 2020-2-4 æ ‘ä¸Š $DP$ å¯ä»¥è½¬æ¢ä¸º $DFS$ åºåè§£å†³ $DP$ é‡åˆ°å›°éš¾ï¼Œè¦è€ƒè™‘æ”¹å˜çŠ¶æ€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæœ‰é—®é¢˜å°±æ‰¾ $DP$ çŠ¶æ€ï¼Œå¦‚ï¼šè¡Œå…ˆæ”¹å˜ä¸ºåˆ—å…ˆ ä½¿ç”¨ for(i=S;i;i=S&amp;(i-1)) æ¥éå†é›†åˆçš„æ‰€æœ‰å­é›† 2020-1-30 åº•æ•°ä¸å˜çš„çŸ©é˜µå¿«é€Ÿå¹‚å¯ä»¥ç”¨åˆ†å—ä¼˜åŒ–","keywords":"ã€ŒAuthor's Choiceã€"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-01-29T03:29:42.757Z","comments":false,"path":"tags/index.html","permalink":"http://hovnySiLenCe.github.io/tags/index.html","excerpt":"","text":"å’• $ing$","keywords":"æ ‡ç­¾"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-10-29T00:30:58.470Z","comments":false,"path":"video/index.html","permalink":"http://hovnySiLenCe.github.io/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"ã€ŒLuogu P5502ã€[JSOI2015]æœ€å¤§å…¬çº¦æ•° è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P5502-[JSOI2015]MaximumGcd-Solution","date":"2020-08-06T08:03:41.000Z","updated":"2020-08-06T08:41:28.971Z","comments":true,"path":"2020/08/06/Luogu_P5502-[JSOI2015]MaximumGcd-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/08/06/Luogu_P5502-[JSOI2015]MaximumGcd-Solution/","excerpt":"","text":"é¢˜é¢æ±‚ä¸€æ®µåŒºé—´çš„æƒå€¼ $=length\\times value$ çš„ $max$ å€¼é¢˜ç›® è§£é¢˜æ€è·¯æ–¹æ³•ä¸€ï¼šSTè¡¨+å€å¢+è´ªå¿ƒæ˜¾ç„¶ï¼š å¦‚æœåŒºé—´å·¦ç«¯ç‚¹ $l$ ç¡®å®šï¼Œè¯¥åŒºé—´å¯èƒ½çš„ $gcd$ å–å€¼æœ€å¤šåªæœ‰ $log_2a_l$ ç§ å¦‚æœ $gcd$ ç¡®å®šï¼ŒåŒºé—´é•¿åº¦è¶Šé•¿ï¼Œç­”æ¡ˆè¶Šä¼˜ å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æšä¸¾ $l$ï¼Œç”¨å€å¢æ±‚æ¯ä¸€ä¸ª $gcd$ å¯èƒ½å€¼çš„æœ€å³ç«¯ç‚¹ $r$ï¼Œç”±äºéšç€ $r$ çš„å˜åŒ–ï¼Œ$gcd$ çš„å–å€¼æœ€å¤šæœ‰ $log_2a_l$ ç§ï¼Œå°±ç®—ä¹˜ä¸Šå€å¢çš„ $log_2(n-l+1)+1$ ï¼Œå¤æ‚åº¦ä¹Ÿæ˜¯å…è®¸çš„ï¼Œåªéœ€ç”¨ $ST$ è¡¨äº‹å…ˆå¤„ç†åŒºé—´ $gcd$ å³å¯ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline LL read() { rll s=0;rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,b[19],Log[N];LL f[N][19],ans,res; inline LL calc(rint l,rint r) { rint k=Log[r-l+1]; return __gcd(f[l][k],f[r-b[k]+1][k]); } inline void solve(rint l) {//åˆ†åˆ«æ±‚å‡ºæ¯ç§gcdçš„å·¦å³ç«¯ç‚¹ rint k,r=l;LL c; while(r&lt;=n) { for(k=Log[n-l+1],c=calc(l,r);k&gt;=0;--k) if(r+b[k]-1&lt;=n&amp;&amp;c==calc(l,r+b[k]-1)) r+=b[k]; cmax(ans,c*(r-l)); } } int main() { rint i,j;n=read(),Log[0]=-1,b[0]=1; for(i=1;i&lt;=n;i++) f[i][0]=read(),Log[i]=Log[i&gt;&gt;1]+1;m=Log[n]; for(i=1;i&lt;=m;++i) b[i]=b[i-1]&lt;&lt;1; for(j=1;j&lt;=m;j++)//STè¡¨ for(i=1;i+(1&lt;&lt;j)&lt;=n+1;++i) f[i][j]=__gcd(f[i][j-1],f[i+(1&lt;&lt;(j-1))][j-1]); for(i=1;i&lt;=n;i++) solve(i);//æšä¸¾å·¦ç«¯ç‚¹ printf(&quot;%lld&quot;,ans); return 0; } æ–¹æ³•äºŒï¼šåˆ†æ²»è¿™æ³¢æ˜¯ä»é¢˜è§£å­¦åˆ°çš„ ä¸‹ä¸ºåŸè¯ å¯¹äºè¿™ç±»æ±‚ä¸€æ®µåŒºé—´çš„æƒå€¼ $=length \\times value$ çš„ $max$ æˆ– $min$ å€¼é¢˜ç›®ï¼Œä¸€èˆ¬é‡‡å–ç”¨åˆ†æ²»çš„æ€æƒ³è§£å†³ è®¾ $\\large mid=\\frac {l+r} 2$ï¼Œåˆ™ $[l,mid]$ ä¸ $[mid+1,r]$ åˆå¹¶æ—¶ï¼Œä¸€å®šä¼šåŒ…å« $a_{mid}$ ç”±äºè¿ç”¨çš„æ˜¯åˆ†æ²»ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒå½’å¹¶æ’åºä¸­ $[a_l&lt;b_r]$ çš„ $cmp$ æ¡ä»¶ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ $\\large gcd(al,a{mid})$ ä¸ $\\large gcd(ar,a{mid})$ çš„å¤§å°å…³ç³»ä½œä¸ºæ‹“å±•æ¡ä»¶ ä»¥ $mid$ ä¸ºä¸­å¿ƒï¼Œå°† $l,r$ å‘ $gcd$ è¾ƒå¤§çš„æ–¹å‘æ‹“å±•ï¼Œé€šè¿‡è´ªå¿ƒå¯ä»¥è¯æ˜è¿™æ ·çš„é€‰æ³•æ˜¯æ›´ä¼˜çš„ï¼Œæ¯æ¬¡è®¡ç®—å¾—ç­”æ¡ˆå³å¯ æ—¶é—´å¤æ‚åº¦ï¼ˆä¸ç®— $gcd$ æ—¶é—´ï¼‰ä¸º $nlog_2n$ Codeå½“ç„¶æ˜¯å«–çš„ $Link$ %:pragma GCC optimize(2) %:pragma GCC optimize(3) #include &lt;bits/stdc++.h&gt; using namespace std; #define ll long long #define ull unsigned long long #define lll __int128 const int N = 100005; ll a[N]; int n; ll gcd(ll x, ll y) { return y ? gcd(y, x % y) : x; } ll dfs(int l, int r) { if (l == r) return a[l]; int mid = (l + r) &gt;&gt; 1; ll ans = max(dfs(l, mid), dfs(mid + 1, r)); ll g = gcd(a[mid], a[mid + 1]); ans = max(ans, 2LL * g); int x = mid, y = mid + 1; while (x &gt; l &amp;&amp; y &lt; r) { if (gcd(g, a[x - 1]) &gt; gcd(g, a[y + 1])) {//é€‰æ‹©æ‹“å±•æ–¹å‘ g = gcd(g, a[x - 1]); x--; } else { g = gcd(g, a[y + 1]); y++; } ans = max(ans, (ll)(y - x + 1) * g); } while (x &gt; l) {//å¯èƒ½ä¸€ä¾§å·²ç»æ‹“å±•å®Œäº† g = gcd(g, a[x - 1]); x--; ans = max(ans, (ll)(y - x + 1) * g); } while (y &lt; r) { g = gcd(g, a[y + 1]); y++; ans = max(ans, (ll)(y - x + 1) * g); } return ans; } int main() { scanf(&quot;%d&quot;, &amp;n); for (int i = 1; i &lt;= n; i++) { scanf(&quot;%lld&quot;, &amp;a[i]); } printf(&quot;%lld\\n&quot;, dfs(1, n)); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://hovnySiLenCe.github.io/tags/è´ªå¿ƒ/"},{"name":"åˆ†æ²»","slug":"åˆ†æ²»","permalink":"http://hovnySiLenCe.github.io/tags/åˆ†æ²»/"},{"name":"STè¡¨","slug":"STè¡¨","permalink":"http://hovnySiLenCe.github.io/tags/STè¡¨/"},{"name":"å€å¢","slug":"å€å¢","permalink":"http://hovnySiLenCe.github.io/tags/å€å¢/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2523ã€[HAOI2011]Problem c è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2523-[HAOI2011]Problem_c-Solution","date":"2020-06-08T13:36:54.000Z","updated":"2020-06-08T14:23:14.294Z","comments":true,"path":"2020/06/08/Luogu_P2523-[HAOI2011]Problem_c-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/06/08/Luogu_P2523-[HAOI2011]Problem_c-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯åŠ¨æ€è§„åˆ’ åˆ†ææ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬å¯¹æ¯ä¸ªç¡®å®šçš„ä½ç½®è¿›è¡Œæ ‡è®°ï¼Œç„¶ååšä¸€ä¸ªåç¼€å’Œï¼Œå°±å¯ä»¥å¾—å‡ºæ— è§£çš„æƒ…å†µï¼Œå¾—å‡º $i$ ä½ç½®åæœ€å¤šèƒ½æ”¾å…ƒç´ çš„ä¸ªæ•° æ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬å¯¹è¿™ä¸ªåç¼€å’Œä»å‰å¾€åå–ä¸ª $min$ çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœŸæ­£æ„ä¹‰ä¸Šçš„å‡º $i$ ä½ç½®åæœ€å¤šèƒ½æ”¾çš„å…ƒç´ ä¸ªæ•°ï¼ˆç„¶è€Œè¿™å¹¶æ²¡æœ‰ä»€ä¹ˆè½¯ç”¨ å®é™…æœ‰ç”¨çš„å°±æ˜¯æ€ä¹ˆå»è®¡ç®—æ–¹æ¡ˆ æ˜¾ç„¶ç›´æ¥æš´ä¸Šç»„åˆæ•°æ˜¯ä¼šç‚¸çš„ï¼ˆæ— æ³•è®¡ç®—é‡å¤çš„éƒ¨åˆ†ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°± $DP$ è½¬ç§»æ–¹ç¨‹ä¸ºï¼š \\large f_{i,j}=\\sum_{k=0}^{s_i}\\binom{j}{k}f_{i+1,j-k} \\pmod p$f_{i,j}$ è¡¨ç¤ºå€’åºåšåˆ° $i$ è¿™ä¸ªä½ç½®ï¼Œå®‰æ’äº† $j$ ä¸ªäººçš„æ–¹æ¡ˆæ•°ï¼Œ$\\large \\binom{j}{k}$ è¡¨ç¤ºä»è¿™ $j$ ä¸ªäººä¸­é€‰å‡º $k$ ä¸ªï¼Œå®‰æ’åœ¨ $i$ è¿™ä¸ªä½ç½®çš„æ–¹æ¡ˆï¼Œè½¬ç§»å³å¯ å°±åšå®Œäº† Warning1ã€è®°å¾—å¼€ long long 2ã€ç´¯åŠ  Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 303 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,p,T; int s[N],f[N][N],C[N][N]; inline int dec(rint x) {return (x&gt;=p)?x-p:x;} int main() { rint i,j,k;T=read(); while(T--) {n=read(),m=read(),p=read(); memset(s,0,sizeof(s)), memset(f,0,sizeof(f)); for(i=1;i&lt;=m;i++) read(),++s[read()]; for(i=n;i;--i) if((s[i]+=s[i+1])&gt;n-i+1) break; if(i) printf(&quot;NO\\n&quot;); else {m=n-m,C[0][0]=1; for(i=1;i&lt;=m;i++) { C[i][0]=1; for(j=1;j&lt;=i;j++) C[i][j]=dec(C[i-1][j-1]+C[i-1][j]); }s[0]=inf; for(i=1;i&lt;=n;++i) s[i]=min(s[i-1],n-i+1-s[i]);//æ±‚æœ€å¤šçš„ä¸ªæ•°ï¼Œæ²¡ä»€ä¹ˆç”¨ f[n+1][0]=1;//è®°å¾—åˆå§‹å€¼ for(i=n;i;i--) { for(j=0;j&lt;=s[i];++j) { for(k=0;k&lt;=j;k++) f[i][j]=dec(f[i][j]+(LL)C[j][k]*f[i+1][j-k]%p);//è½¬ç§»å°±å®Œäº† } }printf(&quot;YES %d\\n&quot;,f[1][m]); } } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF1344Dã€RÃ©sumÃ© Review è§£é¢˜æŠ¥å‘Š","slug":"CF1344D-Resume_Review-Solution","date":"2020-05-29T13:29:29.000Z","updated":"2020-07-23T08:31:00.514Z","comments":true,"path":"2020/05/29/CF1344D-Resume_Review-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/05/29/CF1344D-Resume_Review-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ¨ç†+äºŒåˆ†+è§£æ–¹ç¨‹ åˆ†æè¿™æ‰‹æ“ä½œæœ‰ç‚¹éªš æˆ‘ä»¬é¦–å…ˆå¯ä»¥åˆ†æä¸€æ‰‹è¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆæ€§è´¨ \\sum_{i=1}^nb_i(a_i-b_i^2),b_i\\in [0,a_i]æœ‰ç‚¹å°å¤´ç§ƒï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ†æä¸€æ‰‹å•ä¸ªå‡½æ•°çš„å˜åŒ– ä¸éš¾å‘ç°ï¼Œ$b_i(a_i-b_i^2)$ éšç€ $b_i$ å˜åŒ–çš„å¢é‡æ˜¯å•è°ƒé€’å‡çš„ ä»¤ $f(b)=b(a-b^2),f(b+1)=(b+1)(a-(b+1)^2)$ï¼Œ f(b+1)-f(b)=ab+a-(b+1)^3-ab-b^3 f(b+1)-f(b)=a-3b^2-3b-1æ•´ç†å¯å¾—ï¼š f(b+1)-f(b)=-3b^2-3b+a-1å¯¹ç§°è½´ä¸º $x=\\frac 1 2$ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå‡½æ•°æ˜¯åœ¨ $\\Z ^+$ ä¸Šå•è°ƒé€’å‡ï¼ˆä¸å« $0$ )ï¼Œ è¿™æ ·å­å°±å¯å‘æˆ‘ä»¬ï¼Œå¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°æ‹†å¼€çœ‹ï¼Œå°±ç­‰åŒäº ç°åœ¨æœ‰ $n$ å †æ•°ï¼Œè¦ä»ä¸­å–å‡º $K$ ä¸ªæ•°ä½¿å¾—ç»“æœæœ€å¤§ è¿™æ ·ä¸€ä¸‹å­è´ªå¿ƒæ˜¾ç„¶æ˜¯æˆç«‹çš„ï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªä¸ªå–çš„è¯â€¦â€¦ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¯·å‡ºæˆ‘ä»¬çš„äºŒåˆ†äº†ï¼ ä¸éš¾æƒ³åˆ°æˆ‘ä»¬å¯ä»¥äºŒåˆ† é€‰ä¸­çš„æ•°çš„æœ€å°å€¼ï¼Œæ˜¾ç„¶è¿™ä¸œè¥¿æ˜¯å•è°ƒçš„ å³ï¼Œæœ€å°å€¼è¶Šå°ï¼Œè¶Šæœ‰å¯èƒ½é€‰å‡º $K$ ä¸ªï¼Œ å¤§åˆ™ç›¸å ç„¶åç“¶é¢ˆå°±è½¬å‘äº†å¦‚ä½•æ±‚å‡ºæ¯å †ä¸­è¦é€‰å‡ ä¸ª æˆ‘ä»¬å¯ä»¥æŠŠ $f(b+1)-f(b)$ è®°ä¸º $g(b)=-3b^2-3b+a-1$ï¼Œ åªéœ€è§£ $g(b)=-3b^2-3b+a-1\\ge mid$ ï¼ˆ $mid$ ä¸ºäºŒåˆ†çš„æœ€å°å€¼ï¼‰ï¼Œå³å¯ ç”±æ±‚æ ¹å…¬å¼å¯å¾—ï¼Œ$\\large x=\\lfloor \\frac {3-\\sqrt{9+4(a-1-mid)}} {-6}\\rfloor$ æœ€åè¦æˆ‘ä»¬è¾“å‡ºæ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆæ±‚ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œå¯èƒ½æˆ‘ä»¬é€‰çš„æ•°æ€»å’Œä¼šè¶…å‡º $K$ï¼Œå› ä¸ºæœ‰äº›æ•°ä¼šå¡åœ¨æœ€å°å€¼é‚£ä¸ªçº¿ä¸Š æˆ‘ä»¬åªè¦åˆ¤æ–­ä¸€ä¸‹å»æ‰å³å¯ äºæ˜¯å°±åšå®Œäº† Warning1ã€åˆ«å¿˜äº† long long 2ã€æ³¨æ„æ±‚æ ¹æ— è§£çš„çŠ¶å†µ 3ã€æ³¨æ„ç²¾åº¦ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100007 using namespace std; const long double A=-3,B=-3; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline LL read() { rll s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } LL n,a[N],l,r,m,K,sum,Ans[N],ans; inline LL calc(long double C) {//æ±‚æ ¹ if(A+B+C&lt;0) return 0; return (-B-sqrt(B*B-4*A*C))/(2*A); } inline LL solve(rll m) {//åˆ¤æ–­æ˜¯å¦æ»¡è¶³Kä¸ª sum=0; for(rint i=1;i&lt;=n;i++) sum+=min(calc(a[i]-1-m),a[i]); return sum; } inline void work_out(rll m) { sum=0; for(rint i=1;i&lt;=n;i++) sum+=Ans[i]=min(calc(a[i]-1-m),a[i]); } int main() { rint i;n=read(),K=read(),l=inf; for(i=1;i&lt;=n;i++) a[i]=read(),cmax(r,a[i]),cmin(l,a[i]-3*a[i]*a[i]-3*a[i]-1); while(l&lt;=r) { m=(l+r)&gt;&gt;1; if(solve(m)&gt;=K) ans=m,l=m+1; else r=m-1; }work_out(ans); for(i=1;i&lt;=n;i++) { if(sum&gt;K&amp;&amp;a[i]-3*Ans[i]*Ans[i]-3*Ans[i]-1==ans) --Ans[i],--sum;//åˆ¤æ‰å¤šå‡ºçš„ printf(&quot;%lld &quot;,Ans[i]); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"http://hovnySiLenCe.github.io/tags/äºŒåˆ†/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF1344Cã€Quantifier Question è§£é¢˜æŠ¥å‘Š","slug":"CF1344C-Quantifier_Question-Solution","date":"2020-05-28T08:32:11.000Z","updated":"2020-07-23T08:34:51.835Z","comments":true,"path":"2020/05/28/CF1344C-Quantifier_Question-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/05/28/CF1344C-Quantifier_Question-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ‹“æ‰‘æ’åº ä¸€å¼€å§‹æ²¡çœ‹æ‡‚é¢˜ç›®ï¼Œæ„Ÿè§‰å¤æ‚çš„ï¼Œåæ¥å°±æ„Ÿè§‰è¿˜æ˜¯å¯ä»¥çš„ åˆ†æé¦–å…ˆï¼Œæˆ‘ä»¬è¦æ˜ç¡®ï¼Œå¦‚æœæœ‰ç›¸å…³çš„è‹¥å¹²ä¸ªå‘½é¢˜ï¼Œä¸€å®šè¦å…ˆå‡ºç° $\\forall$ï¼Œå†å‡ºç° $\\exist$ï¼Œå› æ­¤æœ‰äº†è¿™ä¸ªé™åˆ¶ä¹‹åï¼Œæˆ‘ä»¬æƒ³é¢˜ç›®å°±ä¼šæ–¹ä¾¿å¾ˆå¤š æ˜¾ç„¶ï¼Œå¦‚æœæœ‰ç¯è‚¯å®šæ˜¯ä¸æˆç«‹çš„ æˆ‘ä»¬å…ˆè€ƒè™‘å¯¹äºä¸€ä¸ªç‚¹ $i$ï¼Œå¦‚æœ $i$ ç‚¹èƒ½åˆ°è¾¾çš„ç‚¹ æˆ–è€… èƒ½åˆ°è¾¾ $i$ ç‚¹çš„ç‚¹çš„ $id &lt; i$ ï¼Œæ˜¾ç„¶ $i$ ç‚¹ä¸èƒ½ä¸º $\\forall$ï¼Œå¦åˆ™å°±èƒ½ä¸º $\\forall$ï¼Œè¿™æ ·å°±åšå®Œäº† Warning1ã€æ³¨æ„æ˜¯æ‰€æœ‰èƒ½åˆ° $i$ æˆ–è€… $i$ èƒ½åˆ°çš„ç‚¹ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 200007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int HF[N],HL[N],n,m,t,d[N],S[N],ans; int ver[N&lt;&lt;1],nxt[N&lt;&lt;1],P[N],vis[N],o[N];//åˆ«å¿˜äº†N&lt;&lt;1 inline void Add(rint x,rint y) { ver[++t]=y,nxt[t]=HF[x],HF[x]=t; ver[++t]=x,nxt[t]=HL[y],HL[y]=t; } inline bool solve_P() { rint i,c,to,sum=0;queue&lt;int&gt;p; memset(P,inf,(n+1)&lt;&lt;2); for(i=1;i&lt;=n;i++) if(!d[i]) p.push(i); while(!p.empty()) { c=p.front(),p.pop(),++sum; for(i=HF[c];i;i=nxt[i]) { --d[to=ver[i]],cmin(P[to],min(P[c],c)); if(!d[to]) p.push(to); } } return sum&lt;n; } inline void solve_S() { rint i,c,to;queue&lt;int&gt;p; memset(S,inf,(n+1)&lt;&lt;2); for(i=1;i&lt;=n;i++) if(!o[i]) p.push(i); while(!p.empty()) { c=p.front(),p.pop(); for(i=HL[c];i;i=nxt[i]) { --o[to=ver[i]],cmin(S[to],min(S[c],c)); if(!o[to]) p.push(to); } } } int main() { rint i,x,y; n=read(),m=read(); for(i=1;i&lt;=m;i++) ++o[x=read()],++d[y=read()],Add(x,y);//è¦å»ºæ­£åå›¾è·‘ä¸€è·‘ if(solve_P()) {printf(&quot;-1&quot;);return 0;}solve_S(); for(i=1;i&lt;=n;i++) if(P[i]&gt;i&amp;&amp;i&lt;S[i]) vis[i]=1,++ans; printf(&quot;%d\\n&quot;,ans); for(i=1;i&lt;=n;i++) printf(&quot;%c&quot;,vis[i]?&#39;A&#39;:&#39;E&#39;); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ‹“æ‰‘æ’åº","slug":"æ‹“æ‰‘æ’åº","permalink":"http://hovnySiLenCe.github.io/tags/æ‹“æ‰‘æ’åº/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP2916ã€GSS5 - Can you answer these queries V è§£é¢˜æŠ¥å‘Š","slug":"SP2916-GSS5-Can_you_answer_these_queries_V-Solution","date":"2020-05-12T07:27:55.000Z","updated":"2020-05-28T08:46:45.157Z","comments":true,"path":"2020/05/12/SP2916-GSS5-Can_you_answer_these_queries_V-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/05/12/SP2916-GSS5-Can_you_answer_these_queries_V-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯çº¿æ®µæ ‘ åˆ†æåˆ†æä¸€æ‰‹ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µè®¨è®º ä¸¤åŒºé—´æ²¡æœ‰ç›¸äº¤çš„éƒ¨åˆ† è¿™ç§æƒ…å†µè¿˜æ˜¯æ¯”è¾ƒå¥½å¤„ç†çš„ï¼Œåªè¦æ‰¾å‡ºå·¦è¾¹çš„æœ€å¤§å³å­æ®µå’Œï¼Œæ‰¾å‡ºå³è¾¹çš„æœ€å¤§å·¦å­æ®µå’Œ ä¸¤åŒºé—´æœ‰ç›¸äº¤çš„éƒ¨åˆ† è®¾å·¦ç«¯ç‚¹ $l$ æ‰€åœ¨åŒºé—´ä¸º $A$ï¼Œå³ç«¯ç‚¹ $r$ æ‰€åœ¨åŒºé—´ä¸º $B$ï¼Œåˆ™ä»¤ $A \\cap B=C$ æ˜¾ç„¶ï¼Œæœ‰è¿™æ ·å‡ ç§æƒ…å†µï¼š $l \\in \\complement_AC,r \\in B$ï¼Œå˜æˆäº†æ²¡æœ‰ç›¸äº¤çš„æƒ…å†µ $l \\in C,r\\in C$ï¼Œç›´æ¥æ™®é€šæ±‚å°±å¥½ $l\\in A,r\\in \\complement_BC$ï¼Œä¹Ÿæ˜¯æ²¡æœ‰ç›¸äº¤çš„æƒ…å†µ ç›´æ¥å†™å°±å¥½ Warning1ã€å…«å€å››å€ç©ºé—´ 2ã€æ³¨æ„æ™®é€šæ±‚è§£æ“ä½œ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 10003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rgt int s=0,p=1; rgt char c=getchar(); while(!isdigit(c)) p=(c==&#39;-&#39;)?-1:1,c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s*p; } int T,n,m,a[N],f[N&lt;&lt;2],Fl[N&lt;&lt;2],Sum; int Fr[N&lt;&lt;2],sum[N&lt;&lt;2],s[N],ans,res,Ans;//Anså’Œansçš„åŒºåˆ« inline void Update(rint k,rint ls,rint rs) {//æ›´æ–° f[k]=max(max(f[ls],f[rs]),Fr[ls]+Fl[rs]), Fl[k]=max(Fl[ls],Fl[rs]+sum[ls]), Fr[k]=max(Fr[rs],Fr[ls]+sum[rs]), sum[k]=sum[ls]+sum[rs]; } inline void built(rint k,rint l,rint r) { if(l==r) {f[k]=Fl[k]=Fr[k]=sum[k]=a[l];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,m),built(ls|1,m+1,r), Update(k,ls,ls|1); } inline void Query(rint k,rint l,rint r,rint L,rint R) {//æ™®é€š if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { cmax(ans,max(f[k],res+Fl[k])), res=max(Fr[k],res+sum[k]); return; }rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query(ls,l,m,L,R),Query(ls|1,m+1,r,L,R); } inline void Query_Left(rint k,rint l,rint r,rint L,rint R) {//æœ€å¤§å³å­æ®µå’Œ if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {cmax(ans,res+Fr[k]),res+=sum[k];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query_Left(ls|1,m+1,r,L,R), Query_Left(ls,l,m,L,R); } inline void Query_Right(rint k,rint l,rint r,rint L,rint R) {//æœ€å¤§å·¦å­æ®µå’Œ if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {cmax(ans,res+Fl[k]),res+=sum[k];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query_Right(ls,l,m,L,R), Query_Right(ls|1,m+1,r,L,R); } inline int Q(rint L,rint R) { ans=-inf,res=0,Sum=0,Query(1,1,n,L,R); return ans; } inline int QL(rint L,rint R) { if(L&lt;=R) { ans=-inf,res=0,Query_Left(1,1,n,L,R); return ans; }return 0; } inline int QR(rint L,rint R) {//è¿™ä¸€ä¸²æ˜¯ä¸ºäº†æ–¹ä¾¿è¿”å›å€¼ if(L&lt;=R) { ans=-inf,res=0,Query_Right(1,1,n,L,R); return ans; }return 0; } int main() { rint i,lx,rx,ly,ry;T=read(); while(T--) {n=read(); for(i=1;i&lt;=n;i++) a[i]=read(),s[i]=s[i-1]+a[i]; built(1,1,n),m=read(); for(i=1;i&lt;=m;i++) { lx=read(),rx=read(),ly=read(),ry=read(); if(rx&lt;ly) printf(&quot;%d\\n&quot;,QL(lx,rx)+s[ly-1]-s[rx]+QR(ly,ry));//æ³¨æ„ä¸­é—´å‰ç¼€å’Œå¤„ç† else { Ans=Q(ly,rx), cmax(Ans,QL(lx,ly-1)+QR(ly,ry)), cmax(Ans,QL(lx,rx)+QR(rx+1,ry)),//åˆ†æƒ…å†µè®¨è®º printf(&quot;%d\\n&quot;,Ans); } } } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3963ã€[TJOI2013]å¥–å­¦é‡‘ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3963-[TJOI2013]Scholarship-Solution","date":"2020-02-07T10:12:52.000Z","updated":"2020-07-23T08:34:51.059Z","comments":true,"path":"2020/02/07/Luogu_P3963-[TJOI2013]Scholarship-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/02/07/Luogu_P3963-[TJOI2013]Scholarship-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯è¿™æ˜¯ä¸€é“ç”¨ priority\\_queue æ˜¾ç„¶å¯åšçš„é¢˜ï¼Œç„¶è€Œæ˜æ˜å¯ä»¥åç€åšï¼Œæˆ‘å´ä¸€å®šè¦æ­£åºåšâ€¦â€¦ æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å°â€¦â€¦ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 200007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int sco,rew; inline void in() { sco=read(),rew=read(); } inline bool operator&lt; (const node x) const{ return sco&lt;x.sco; } }b[N]; int n,m,ans=-1; LL sum,res,f[N]; priority_queue&lt;int&gt;pl,pr; int main() { rint i,k,c; k=(read()-1)&gt;&gt;1,n=read(),m=read(); for(i=1;i&lt;=n;i++) b[i].in(); if(!k) { for(i=1;i&lt;=n;i++) if(b[i].rew&lt;=m) cmax(ans,b[i].sco); printf(&quot;%d&quot;,ans);return 0; }sort(b+1,b+n+1); for(i=n-k+1;i&lt;=n;i++) res+=b[i].rew,pr.push(b[i].rew); for(i=n-k;i&gt;k;--i) { f[i]=res;//åªä¸è¿‡æ­£åºåšå°±ä¸ç”¨è®°å½•ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæ„Ÿè§‰åç€åšæœ‰ç‚¹æŠ•æœºå–å·§â€¦â€¦ if(pr.top()&gt;b[i].rew) res=res-pr.top()+b[i].rew, pr.pop(),pr.push(b[i].rew); } for(i=1;i&lt;=k;i++) sum+=b[i].rew,pl.push(b[i].rew); for(i=k+1;i&lt;=n-k;i++) { if(sum+b[i].rew+f[i]&lt;=m) ans=b[i].sco; if(pl.top()&gt;b[i].rew) sum=sum-pl.top()+b[i].rew, pl.pop(),pl.push(b[i].rew); }printf(&quot;%d\\n&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ä¼˜å…ˆé˜Ÿåˆ—","slug":"ä¼˜å…ˆé˜Ÿåˆ—","permalink":"http://hovnySiLenCe.github.io/tags/ä¼˜å…ˆé˜Ÿåˆ—/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒæŸè®²ç¨¿ã€æ‰«æçº¿ å­¦ä¹ ç¬”è®°","slug":"LectureNotes-ScanningLine-Notes","date":"2020-01-27T13:52:15.000Z","updated":"2020-01-31T12:37:55.055Z","comments":true,"path":"2020/01/27/LectureNotes-ScanningLine-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2020/01/27/LectureNotes-ScanningLine-Notes/","excerpt":"","text":"å‰è¨€æ‰«æçº¿ä¹Ÿä¸ç®—æ˜¯ä¸€ä¸ªå¾ˆå†·é—¨çš„ç®—æ³•å§ï¼Œä½†æ˜¯å®ç°çš„æ—¶å€™è¿˜æ˜¯ç¨å¾®æœ‰ç‚¹é—®é¢˜ï¼Œè¿™é‡Œå°±ç¨ä½œåˆ†æ æ­£æ–‡æ‰«é¢çº¿å¼€å¹•é›·å‡» æ‰«æçº¿ä¸€èˆ¬ç”¨äºè§£å†³å›¾å½¢é¢ç§¯ã€å‘¨é•¿ç­‰é—®é¢˜ï¼Œæœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯å¤„ç†çŸ©å½¢é¢ç§¯å¹¶ã€å‘¨é•¿å¹¶ç±»é—®é¢˜ çŸ©å½¢é¢ç§¯å¹¶é¢˜é¢ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š æ±‚ $n$ ä¸ªçŸ©å½¢çš„é¢ç§¯å¹¶ï¼Œæ¯ä¸ªçŸ©å½¢ä»¥å·¦ä¸‹è§’ $(x_1,y_1)$ å’Œå³ä¸Šè§’ $(x_2,y_2)$ çš„å½¢å¼ç»™å‡º (1\\le n \\le 10^5,0\\le x_1< x_2\\le 10^9,0\\le y_1< y_2\\le 10^9) æœ‰äº›æ—¶å€™åæ ‡è¿˜ä¸æ˜¯æ•´æ•°ï¼Œå½“ç„¶å•¦ï¼Œè¿™äº›éƒ½ä¸æ˜¯é—®é¢˜ æ¥åº·åº·ä¸‹é¢çš„ä¾‹å­ æœ‰æ•ˆé¢ç§¯ä¸ºï¼š é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥æŒ‰ç…§å°å­¦æ•°å­¦æ–¹æ³•â€”â€”å‰²è¡¥æ³•æ¥æ±‚ï¼ŒæŒ‰ç…§ $x$ çš„é¡ºåºä»å·¦åˆ°å³å‰²æˆè‹¥å¹²ä¸ªçŸ©å½¢ï¼Œç„¶åä»å·¦åˆ°å³åƒæ‰«æä¸€æ ·ä¾æ¬¡æ±‚è§£ï¼Œè¿™å°±å«åšæ‰«æçº¿ æ ¹æ® $x$ å€¼çš„ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå¹³é¢å›¾å½¢åˆ‡æˆå¥½å‡ éƒ¨åˆ†ï¼Œæ¯ä¸€éƒ¨åˆ†éƒ½å¯ä»¥çœ‹åšè§„åˆ™çš„çŸ©å½¢æ¥æ±‚è§£ï¼Œè€ŒçŸ©å½¢çš„é•¿ $a$ æ˜¯æ˜¾ç„¶çš„ï¼Œä¸ºä¸¤æ¡çº¿ç›¸é‚» $x$ çš„å·®ï¼Œå…³é”®åœ¨äºå¦‚ä½•ç»´æŠ¤çŸ©å½¢çš„å®½ $b$ï¼Œä¹Ÿå°±æ˜¯ $y$ ä¸Šå›¾ä»¥ç¬¬ä¸€ã€äºŒæ¡çº¿ä¸ºä¾‹ï¼Œ$a=3-1=2,b=(6-3)+(2-1)=4$ å¦‚å›¾ç”±äºæ¯æ¡çº¿æ®µçš„å«ä¹‰ä¸åŒï¼Œåˆ†ä¸º $+1$ å’Œ $-1$ ä¸¤ç§ï¼Œé€šè¿‡å·®åˆ†æ¥è¡¨ç¤ºæŸæ®µ $y$ åŒºé—´è¢«è¦†ç›–çš„æ¬¡æ•°ï¼Œç”±æ­¤å¯ä»¥å¾—çŸ¥ $b$ï¼Œå³æœ‰æ•ˆçš„ $y$ åŒºé—´å¤§å°ã€‚å…¶å®ç»´æŠ¤ç‚¹æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºä¼šå‡ºç°ç‚¹å¤ªå¤šå’Œç‚¹åœ¨å®æ•°èŒƒå›´çš„æƒ…å†µï¼Œå®é™…ä¸Šï¼Œå¯¹äºä¸€æ¡çº¿æ®µæ¥è¯´ï¼Œå·¦å³ç«¯ç‚¹ä¹‹é—´çš„ç‚¹æœ¬è´¨æ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤åŒºé—´å³å¯ å°±æ¯”å¦‚ä¸Šå›¾ä¸­ $A,B,C,D$ å››ç‚¹æ‰€åœ¨çš„ç›´çº¿ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹æˆç”±å››ä¸ªç‚¹åˆ†å‡ºçš„äº”ä¸ªéƒ¨åˆ†æ¥ç»´æŠ¤ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬ä¸ç»´æŠ¤ç‚¹ï¼Œè€Œæ˜¯å°†æ¯ä¸ªç‚¹ç¦»æ•£åŒ–åç»´æŠ¤ä¸¤ç‚¹ä¹‹é—´çš„åŒºé—´ p[++t]=ly,p[++t]=ry;//æ‰€æœ‰yå€¼ä¸€èµ·ç¦»æ•£ï¼Œå°±å¥½åƒä¸Šå›¾Aå’ŒEä¹‹é—´ä¹Ÿåº”æœ‰ä¸€æ®µåŒºé—´ sort(p+1,p+t+1),t=unique(p+1,p+t+1)-p-1; æ¯”è¾ƒéš¾ä»¥ç†è§£çš„å°±æ˜¯ç”¨çº¿æ®µæ ‘å®ç°éƒ¨åˆ† tag[k] ç»´æŠ¤çš„æ˜¯å·®åˆ†æ•°ç»„ï¼Œf[k] è¡¨ç¤ºæœ‰æ•ˆ $y$ å€¼ï¼Œä¹Ÿå°±æ˜¯ $b$ inline void Update(rint k,rint l,rint r) { if(tag[k]) f[k]=p[r+1]-p[l];//è¡¨ç¤ºè¿™æ®µåŒºé—´éƒ½è¢«è¦†ç›–äº†ï¼Œåˆ™bä¸ºè¿™æ®µåŒºé—´çš„é•¿åº¦ï¼Œr+1æ˜¯å› ä¸ºç«¯ç‚¹åŸå›  else if(l==r) f[k]=0;//ä¸€ä¸ªç‚¹æ— æ³•æ„æˆåŒºé—´ï¼Œä¸º0 else f[k]=f[k&lt;&lt;1]+f[k&lt;&lt;1|1];//å¦åˆ™ä»å„¿å­å¤„æ›´æ–° } inline void Modify(rint k,rint l,rint r,rint op) {//op=+1/-1ï¼Œè¡¨ç¤ºå½“å‰çº¿æ®µç±»å‹ if(r&lt;L||R&lt;l) return;//[L,R]è¡¨ç¤ºä¿®æ”¹åŒºé—´ if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]+=op;return Update(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m,op),Modify(ls|1,m+1,r,op), Update(k,l,r); } ç›´æ¥è¿™æ ·æ‰“æ ‡è®°ä¼šä¸ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Ÿ ç¡®å®ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸èƒ½æŸ¥è¯¢ä»»æ„ä¸€ä¸ªåŒºé—´ï¼Œç„¶è€Œæ‰«æçº¿æŸ¥è¯¢çš„æ˜¯æ‰€æœ‰åŒºé—´çš„æ€»å’Œï¼Œä¹Ÿå°±æ˜¯ f[1]ï¼Œå› æ­¤ä¸ä¼šå‡ºé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è®¨è®ºä¸€ä¸‹ è®¾ $k$ ä¸ºå½“å‰åŒºé—´ï¼Œ$ls$ è¡¨ç¤ºå½“å‰åŒºé—´çš„å·¦å­åŒºé—´ï¼Œ$ls|1$ ä¸ºå³å­åŒºé—´ï¼Œå°±å’Œçº¿æ®µæ ‘ä¸€æ ·å“ˆ è®¨è®ºè¦†ç›–çš„æƒ…å†µ å‡è®¾ $k$ æ²¡æœ‰è¢«è¦†ç›–é‚£ä¹ˆè¦†ç›–äº† $k$ çš„å­åŒºé—´ä¹‹åï¼Œf[k] ä¼šä» f[ls]&amp;f[ls|1] å¤„æ›´æ–°ï¼Œç»“æœæ˜¯æ­£ç¡®çš„ å‡è®¾ $k$ è¢«è¦†ç›–äº†é‚£ä¹ˆè¦†ç›– $k$ çš„å­åŒºé—´å¯¹ $k$ æ˜¯æ²¡æœ‰å½±å“çš„ï¼Œf[k] ç”±è‡ªèº«çš„åŒºé—´é•¿åº¦å†³å®š ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—çŸ¥ f[1] æ˜¯è‚¯å®šæ­£ç¡®çš„ï¼Œemmmï¼Œæ„Ÿè§‰è¿™è¯æ˜å¥½åƒæ²¡æœ‰ä»€ä¹ˆç”¨ è®¨è®ºè¦†ç›–å’Œåˆ é™¤å¹¶å­˜æƒ…å†µ æŒ‰ç…§å¹³å¸¸è‚¯å®šæ˜¯ä¼šå‡ºé—®é¢˜çš„ï¼Œä½†æ˜¯ï¼ŒçŸ©å½¢æœ‰ä¸ªä¼˜ç¾çš„æ€§è´¨ï¼šå¯¹è¾¹å¹³è¡Œä¸”ç›¸ç­‰ï¼Œæœ‰è¦†ç›–è‚¯å®šæœ‰åˆ é™¤ï¼Œä¸ä¼šå‡ºé”™ï¼Œå› æ­¤ç›´æ¥å†™æˆä¸Šè¿°é‚£æ ·æ˜¯æ²¡é—®é¢˜çš„ æ¥åº·åº·ä¸»å‡½æ•°å’‹å†™ int main() { int i,x,y;n=read(); for(i=1;i&lt;=n;i++) {//x,L,y,Råˆ†åˆ«æ˜¯x1,y1,x2,y2 x=read(),L=read(),y=read(),R=read(), p[++t]=L,b[t]=seg(x,L,R,1), p[++t]=R,b[t]=seg(y,L,R,-1);//å­˜çº¿æ®µ }n&lt;&lt;=1; sort(b+1,b+n+1,cmp),sort(p+1,p+t+1);//bæ•°ç»„æŒ‰ç…§xæ’åºï¼Œpæ˜¯yçš„æ•°ç»„ç”¨äºç¦»æ•£åŒ– t=unique(p+1,p+t+1)-p-1;//å»é‡ R=lower_bound(p+1,p+t+1,b[1].r)-p-1,//å¾—åˆ°åŒºé—´çš„ç¦»æ•£å€¼ï¼Œè®°å¾—ç«¯ç‚¹å’ŒåŒºé—´çš„åŒºåˆ« L=lower_bound(p+1,p+t+1,b[1].l)-p,Modify(1,1,t,b[1].op); for(i=2;i&lt;=n;i++) { ans+=(LL)(b[i].p-b[i-1].p)*f[1];//b[i].p-b[i-1].p=a,f[1]=b L=lower_bound(p+1,p+t+1,b[i].l)-p, R=lower_bound(p+1,p+t+1,b[i].r)-p-1, Modify(1,1,t,b[i].op); }printf(&quot;%lld&quot;,ans); return 0; } æ‰«æçº¿è¿˜æ˜¯æ¯”è¾ƒå•çº¯çš„ é™¤äº†ä¼šæ‰“å‡ºç‚’é¢çº¿ã€è‰è‹—çº¿ã€æ‰«é¢çº¿ä¹‹å¤– CodeLuogu P5490 ã€æ¨¡æ¿ã€‘æ‰«æçº¿ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct seg{//çº¿æ®µ int p,l,r,op; seg(rint a,rint b,rint c,rint d):p(a),l(b),r(c),op(d){} seg(){} }b[N&lt;&lt;1]; int n,f[N&lt;&lt;3],tag[N&lt;&lt;3],p[N&lt;&lt;1],L,R,t;//æ³¨æ„æ•°ç»„å¤§å° LL ans; inline void Update(rint k,rint l,rint r) { if(tag[k]) f[k]=p[r+1]-p[l]; else if(l==r) f[k]=0; else f[k]=f[k&lt;&lt;1]+f[k&lt;&lt;1|1]; } inline void Modify(rint k,rint l,rint r,rint op) { if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]+=op;return Update(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m,op),Modify(ls|1,m+1,r,op), Update(k,l,r); } inline bool cmp(rgt seg a,rgt seg b) {//æŒ‰ç…§xæ’åºæ‰«æ return a.p&lt;b.p; } int main() { rint i,x,y;n=read(); for(i=1;i&lt;=n;i++) { x=read(),L=read(),y=read(),R=read(), p[++t]=L,b[t]=seg(x,L,R,1), p[++t]=R,b[t]=seg(y,L,R,-1); }n&lt;&lt;=1; sort(b+1,b+n+1,cmp),sort(p+1,p+t+1); t=unique(p+1,p+t+1)-p-1; R=lower_bound(p+1,p+t+1,b[1].r)-p-1, L=lower_bound(p+1,p+t+1,b[1].l)-p,Modify(1,1,t,1); for(i=2;i&lt;=n;i++) { ans+=(LL)(b[i].p-b[i-1].p)*f[1];//b[i].p-b[i-1].p=a,f[1]=b L=lower_bound(p+1,p+t+1,b[i].l)-p, R=lower_bound(p+1,p+t+1,b[i].r)-p-1, Modify(1,1,t,b[i].op);//ä¿®æ”¹ }printf(&quot;%lld&quot;,ans); return 0; } çŸ©å½¢å‘¨é•¿å¹¶çŸ©å½¢å‘¨é•¿å¹¶çš„æ€è·¯å’Œé¢ç§¯å¹¶ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é€šè¿‡æ‰«æçº¿ä¸€æ¡ä¸€æ¡è¿›è¡Œå¤„ç† æ¥çœ‹å¦‚ä¸‹ä¾‹å­ï¼š å¯ä»¥çœ‹å‡ºï¼ŒåŸæœ¬çŸ©å½¢çš„è¾¹ä¼šäº’ç›¸å½±å“ï¼Œå¹¶ä¸”å¤šä¸ªçŸ©å½¢æ„æˆçš„æ–°å›¾å½¢å¯èƒ½å†…éƒ¨æ˜¯ç©ºçš„ å½“ç„¶äº†ï¼Œè¿™äº›é—®é¢˜æ‰«æçº¿éƒ½å¯ä»¥å¤„ç† ä¾æ—§æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ï¼Œä»å·¦å¾€å³æ‰«æ è®¡ç®—å¹³è¡Œäº y è½´çš„è¾¹é•¿å¹³è¡Œäº $y$ è½´çš„è¾¹é•¿å¯ä»¥çœ‹æˆæ˜¯åœ¨ $y$ è½´ä¸Šè¦†ç›–åŒºé—´é•¿åº¦ï¼Œæ¯æ‰«ä¸€æ¡çº¿ï¼Œ$y$ è½´ä¸Šè¦†ç›–çš„åŒºé—´å°±ä¼šå˜åŒ–ï¼Œè€Œè¿™ä¸ªå˜åŒ–çš„å¤§å°å°±æ˜¯æœ‰æ•ˆçš„è¾¹é•¿é•¿åº¦ ç”¨ f[1] è¡¨ç¤ºç”¨çº¿æ®µæ ‘ç»´æŠ¤çš„åœ¨ $y$ è½´ä¸Šçš„è¦†ç›–åŒºé—´å¤§å° ä¾‹å¦‚ä» 1 è¿‡æ¸¡åˆ°äº† 2ï¼Œf[1] ä» $2$ å˜æˆäº† $4$ï¼Œé‚£ä¹ˆæœ‰æ•ˆçš„è¾¹é•¿å°±ä¸º $abs(4-2)=2,ans=0+2=2$ï¼Œ ä» 3-4ï¼Œf[1] ä» $5\\to6$ï¼Œæœ‰æ•ˆè¾¹é•¿ä¸º $1,ans=5+1=6$ï¼Œ ä» 4-5ï¼Œf[1] ä» $6\\to5$ï¼Œæœ‰æ•ˆè¾¹é•¿ä¸º $abs(5-6)=1,ans=6+1=7$ï¼Œ ä» 7-8ï¼Œf[1] ä» $6\\to6$ï¼Œæ— å˜åŒ–ï¼Œ ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠæ‰«æçš„é¡ºåºæ¢ä¸€ä¸‹ï¼Œå˜æˆ 8-7ï¼Œf[1] ä» $1\\to 6$ï¼Œ$abs(1-6)=5$ï¼Œç„¶è€Œæœ‰æ•ˆè¾¹é•¿å®é™…ä¸Šä¸º $0$ï¼Œè¿™å°±å‡ºç°äº†é—®é¢˜ å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æ’åºçš„æ—¶å€™æŠŠ $x$ è½´åæ ‡ç›¸åŒçš„ï¼ŒæŒ‰ç…§ $op$ ç±»å‹æ’åºï¼Œå…ˆ $+1$ å $-1$ struct seg{ int p,l,r,op; seg(rint a,rint b,rint c,rint d):p(a),l(b),r(c),op(d){} seg(){} inline bool operator&lt; (const seg x) const{ return (p!=x.p)?p&lt;x.p:op&gt;x.op; } } åŒæ—¶ä¸è¦å¿˜è®°ç¬¬ä¸€æ¬¡æ‰«ææ‰€å¸¦æ¥çš„æœ‰æ•ˆè¾¹é•¿ è®¡ç®—å¹³è¡Œäº x è½´çš„è¾¹é•¿å¦‚æœæŒ‰ç…§ä»å·¦åˆ°å³å¤„ç†çš„è¯ï¼Œä¸¤æ¬¡æ‰«æä¹‹é—´çš„ $x$ åæ ‡çš„å·®å€¼æ˜¯å¾ˆå®¹æ˜“å¾—å‡ºçš„ï¼Œéœ€è¦çŸ¥é“çš„å°±æ˜¯åœ¨è¿™ä¸¤æ¬¡æ‰«æä¹‹é—´å¹³è¡Œäº $x$ è½´çš„çº¿æ®µçš„æ•°ç›®ï¼Œæ˜¾ç„¶ï¼Œè¿™ä¸ªåªéœ€è¦ç»´æŠ¤ $y$ è½´è¦†ç›–åŒºé—´å½¢æˆçš„çº¿æ®µæ•°å³å¯ è¿™å°±éœ€è¦æˆ‘ä»¬å¤šè®°å½•å‡ ä¸ªå€¼ï¼Œbool fl[k],fr[k] åˆ†åˆ«è¡¨ç¤ºå·¦å³ç«¯ç‚¹æ˜¯å¦è¢«è¦†ç›–ï¼Œint g[k] è¡¨ç¤ºçº¿æ®µæ•° $Update()$ è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼Œå°±ä¸å†èµ˜è¿°ï¼Œå…¶ä½™éƒ¨åˆ†ä»€ä¹ˆå¤šå¤§åŒºåˆ« inline void Update(rint k,rint l,rint r) { if(tag[k]) f[k]=p[r+1]-p[l],g[k]=fl[k]=fr[k]=1; else if(l==r) f[k]=g[k]=fl[k]=fr[k]=0; else { rint ls=k&lt;&lt;1; f[k]=f[ls]+f[ls|1], g[k]=g[ls]+g[ls|1]-(fr[ls]&amp;&amp;fl[ls|1]), fl[k]=fl[ls],fr[k]=fr[ls|1]; } } å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥çºµå‘æ‰«æå•Šï¼Œä¹Ÿå°±æ˜¯å†åšä¸€æ¬¡ç±»ä¼¼å¹³è¡Œ $y$ è½´çš„æ“ä½œï¼Œè‡³äºç é‡å˜›ï¼Œè¿™ä¸ªä½ è‡ªå·±å¥½å¥½æ€è€ƒä¸€ä¸‹è°æ›´ä¼˜ç§€ æœ€åè¿˜éœ€è¦æ³¨æ„ï¼Œæ¯æ¡çº¿æ®µæœ‰ä¸¤ä¸ªç«¯ç‚¹ CodeLuogu P1856 [USACO5.5]çŸ©å½¢å‘¨é•¿Picture #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 5003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0,p=1; rgt char c=getchar(); while(!isdigit(c)) {if(c==&#39;-&#39;) p=-1;c=getchar();} while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s*p; } struct seg{ int p,l,r,op; seg(rint a,rint b,rint c,rint d):p(a),l(b),r(c),op(d){} seg(){} inline bool operator&lt; (const seg x) const{ return (p!=x.p)?p&lt;x.p:op&gt;x.op; } }b[N&lt;&lt;1]; int n,L,R,p[N&lt;&lt;1],t,c,ans; int f[N&lt;&lt;3],g[N&lt;&lt;3],tag[N&lt;&lt;3]; bool fl[N&lt;&lt;3],fr[N&lt;&lt;3]; inline void Update(rint k,rint l,rint r) { if(tag[k]) f[k]=p[r+1]-p[l],g[k]=fl[k]=fr[k]=1; else if(l==r) f[k]=g[k]=fl[k]=fr[k]=0; else { rint ls=k&lt;&lt;1; f[k]=f[ls]+f[ls|1], g[k]=g[ls]+g[ls|1]-(fr[ls]&amp;&amp;fl[ls|1]), fl[k]=fl[ls],fr[k]=fr[ls|1]; } } inline void Modify(rint k,rint l,rint r,rint op) { if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]+=op;return Update(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m,op),Modify(ls|1,m+1,r,op), Update(k,l,r); } int main() { rint i,x,y;n=read(); for(i=1;i&lt;=n;i++) { x=read(),L=read(),y=read(),R=read(), p[++t]=L,b[t]=seg(x,L,R,1), p[++t]=R,b[t]=seg(y,L,R,-1); }n&lt;&lt;=1; sort(b+1,b+t+1),sort(p+1,p+t+1); t=unique(p+1,p+t+1)-p-1, R=lower_bound(p+1,p+t+1,b[1].r)-p-1, L=lower_bound(p+1,p+t+1,b[1].l)-p, Modify(1,1,t,1),ans=c=f[1];//ç¬¬ä¸€æ¬¡æ‰«æçš„æœ‰æ•ˆé•¿åº¦ for(i=2;i&lt;=n;i++) { ans+=2*g[1]*(b[i].p-b[i-1].p), L=lower_bound(p+1,p+t+1,b[i].l)-p, R=lower_bound(p+1,p+t+1,b[i].r)-p-1, Modify(1,1,t,b[i].op),ans+=abs(f[1]-c),c=f[1]; }printf(&quot;%lld&quot;,ans); return 0; } Problem List [x] Luogu P5490 ã€æ¨¡æ¿ã€‘æ‰«æçº¿ [x] Luogu P3875 [TJOI2010]è¢«æ±¡æŸ“çš„æ²³æµ [x] Luogu P1502 çª—å£çš„æ˜Ÿæ˜Ÿ [x] Luogu P1856 [USACO5.5]çŸ©å½¢å‘¨é•¿Picture [x] ã€ŒHDU1542ã€Atlantis [x] ã€ŒHDU1828ã€Picture (å¤šç»„æ•°æ®) [ ] ã€ŒHDU3265ã€Posters","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"},{"name":"æ‰«æçº¿","slug":"æ‰«æçº¿","permalink":"http://hovnySiLenCe.github.io/tags/æ‰«æçº¿/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒLuogu P4404ã€[JSOI2010]ç¼“å­˜äº¤æ¢ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4404-JSOI2010-CacheSwap-Solution","date":"2019-12-21T01:09:32.000Z","updated":"2019-12-21T01:37:51.545Z","comments":true,"path":"2019/12/21/Luogu_P4404-JSOI2010-CacheSwap-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/12/21/Luogu_P4404-JSOI2010-CacheSwap-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯ä¼˜å…ˆé˜Ÿåˆ—&amp;è´ªå¿ƒ åˆ†æä¸€å¼€å§‹ç»™çš„æ•°æ®èŒƒå›´è¿‡å¤§ï¼Œå…ˆç¦»æ•£åŒ– $\\to$ ç›´æ¥ä¸Šæ¿å­æ¥ç€æœ‰æ˜¾ç„¶çš„ç»“è®ºï¼Œåˆ å» $Cache$ ä¸­å†å‡ºç°çš„ä½ç½®æœ€åçš„å…ƒç´ æ˜¯æœ€ä¼˜çš„ï¼Œåªè¦ç”¨ priority\\_queue ç»´æŠ¤å³å¯ å¦‚ä½•è¯æ˜è´ªå¿ƒçš„æ­£ç¡®æ€§ çœŸÂ·æ˜¾ç„¶ï¼Œå¦‚æœåˆ å»å†å‡ºç°ä½ç½®è¾ƒå‰çš„ï¼Œå½“åšåˆ°è¿™ä¸ªä½ç½® $i$ æ—¶éœ€è¦é‡æ–°åŠ å…¥ä¸€æ¬¡ï¼Œè€Œåˆ å»è¾ƒåçš„å…ƒç´ ï¼Œåœ¨ $i$ ä½ç½®æ—¶ï¼Œå°±ä¸éœ€è¦é‡æ–°åŠ å…¥ å…³äºä¼˜å…ˆé˜Ÿåˆ— ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æœ€å¤§å€¼å¯ä»¥è¯´æ˜¯é™æ€çš„ï¼Œå½“æ¯”è¾ƒçš„å…³é”®å­—åœ¨å¤–éƒ¨æ”¹å˜æ—¶ï¼Œä¼˜å…ˆé˜Ÿåˆ—å†…éƒ¨æ˜¯ä¸ä¼šåšå‡ºè°ƒæ•´çš„æ¯”å¦‚ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­æ¯”è¾ƒå…³é”®å­—ä¸º f[x]ï¼Œå¦‚æœ f[x] åœ¨è¯¥å…ƒç´ æ’å…¥ä¹‹åæ”¹å˜ï¼Œè¯¥å…ƒç´ åœ¨ä¼˜å…ˆé˜Ÿåˆ—å†…éƒ¨çš„é¡ºåºä¸ä¼šæ”¹å˜ä¸ä»…å¦‚æ­¤ï¼Œéšä¹‹å¸¦æ¥çš„ä¸€ç³»åˆ—è¿·ä¹‹æ“ä½œæ ¹æœ¬åœä¸ä¸‹æ¥ warningå°±ç®—ä¸€ä¸ªå€¼å·²ç»å‡ºç°åœ¨äº† $Cache$ ä¸­ï¼Œç›¸åº”çš„ä¿¡æ¯ä¹Ÿè¦æ›´æ–° Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 1000007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,t,p[N],b[N],f[N],ls[N],ans; bool vis[N]; struct cmp{ inline bool operator() (const int a,const int b) { return f[a]&lt;f[b]; } }; priority_queue&lt;int,vector&lt;int&gt;,cmp&gt;P;//é‡è½½è¿ç®—ç¬¦ï¼Œæ ¹æ®ä¸€ä¸ªå…ƒç´ ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½® int main() { rint i;n=read(),m=read(); for(i=1;i&lt;=n;i++) p[i]=b[i]=read(); sort(p+1,p+n+1),t=unique(p+1,p+n+1)-p-1; for(i=1;i&lt;=n;++i) b[i]=lower_bound(p+1,p+t+1,b[i])-p;//ç¦»æ•£åŒ– memset(ls,inf,(t+1)&lt;&lt;2); for(i=n;i;--i) f[i]=ls[b[i]],ls[b[i]]=i;//ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½® for(i=1,t=0;i&lt;=n;i++) { if(vis[b[i]]) {P.push(i);continue;}//å­˜åœ¨äºCacheä¸­ä¹Ÿè¦æ›´æ–° if(t&lt;m) ++t; else vis[b[P.top()]]=0,P.pop(); ++ans,vis[b[i]]=1,P.push(i); }printf(&quot;%d&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ä¼˜å…ˆé˜Ÿåˆ—","slug":"ä¼˜å…ˆé˜Ÿåˆ—","permalink":"http://hovnySiLenCe.github.io/tags/ä¼˜å…ˆé˜Ÿåˆ—/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://hovnySiLenCe.github.io/tags/è´ªå¿ƒ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3409ã€å€¼æ—¥ç­é•¿å€¼å‘¨ç­é•¿ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3409-DailyMonitors-Solution","date":"2019-12-12T07:21:11.000Z","updated":"2019-12-12T08:02:24.843Z","comments":true,"path":"2019/12/12/Luogu_P3409-DailyMonitors-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/12/12/Luogu_P3409-DailyMonitors-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ•°å­¦ä¸ Ex\\_gcd åˆ†ææ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ—å‡ºå¦‚ä¸‹çš„æ–¹ç¨‹ç»„ï¼Œè®¾ $w$ ä¸ºå‘¨æ•°ï¼Œ$bit$ ä¸ºç¦»è¿™å‘¨çš„å‘¨äº”è¿˜æœ‰å‡ å¤© \\begin{equation} \\left\\{ \\begin{aligned} (5w-bit)\\%n=m\\ \\ \\ \\ \\ \\ (1)\\\\ w\\%p=q\\ \\ \\ \\ \\ \\ \\ (2) \\end{aligned} \\right. \\end{equation}å…ˆå°† $(2)$ è½¬æ¢å½¢å¼å¾—ï¼š w=px+q\\ \\ \\ \\ \\ \\ (3)å°† $(3)$ ä»£å…¥ $(1)$ å¾—ï¼š (5px+5q-bit)\\%n=m\\\\ 5px+5q-bit=ny+m\\\\æ•´ç†å¾—ï¼š 5px+ny=m-5q+bit\\\\ä»¤ï¼š \\begin{equation} \\left\\{ \\begin{aligned} a=5p\\\\ b=n\\\\ c=m-5q+bit \\end{aligned} \\right. \\end{equation}åŸå¼å°±å¯ä»¥å˜æˆï¼š ax+by=cè¿™æ ·çš„è¯ï¼Œ$x$ çš„å€¼å°±å¯ä»¥é€šè¿‡ Ex\\_gcd å¾—å‡ºä¸€ä¸ªæœ€å°æ­£æ•´æ•°è§£ï¼Œé‚£ä¹ˆä¹Ÿå°±å¯ä»¥å¾—å‡º $w$ çš„å€¼ï¼Œä»è€Œå¾—å‡ºæœ€å°æ»¡è¶³æ¡ä»¶çš„å¤©æ•° æœ€åé€šè¿‡æšä¸¾ $bit$ æ¥æ£€éªŒæ¯ä¸ªè§£å³å¯ Warningæ³¨æ„èŒƒå›´ä»¥åŠè¾“å‡ºæ ¼å¼ï¼Œæ¯å‘¨åªæœ‰äº”å¤©ï¼Œä¸è¦ç®—å‘¨æœ«çš„æ—¶é—´ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } LL n,m,p,q,a,b,c,d,x,y,ans,res; inline LL Ex_gcd(rll a,rll b,rll &amp;x,rll &amp;y) { if(!b){x=1,y=0;return a;} rll d=Ex_gcd(b,a%b,y,x); y-=a/b*x;return d; } int main() { rint i; while(~scanf(&quot;%lld%lld%lld%lld&quot;,&amp;n,&amp;m,&amp;p,&amp;q)) { a=5*p,b=n,c=m-5*q,ans=-1;//ä¸æƒ³èµ‹inf d=Ex_gcd(a,b,x,y),a/=d,b/=d; for(i=0;i&lt;5;i++) {//æšä¸¾ if((c+i)%d) continue;//æœ‰æ²¡æœ‰è§£ res=((x*(c+i)/d%b)+b)%b;//å¾—å‡ºæœ€å°æ­£æ•´æ•°x res=res*5*p+5*q-i;//å¾—å‡ºå¤©æ•° if(~ans) cmin(ans,res); else ans=res; } if(~ans) printf(&quot;%lld\\n&quot;,ans); else printf(&quot;Orz mgh!!!\\n&quot;); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"},{"name":"æ‰©å±•æ¬§å‡ é‡Œå¾—","slug":"æ‰©å±•æ¬§å‡ é‡Œå¾—","permalink":"http://hovnySiLenCe.github.io/tags/æ‰©å±•æ¬§å‡ é‡Œå¾—/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP17247ã€PR003004 - Digit Sum è§£é¢˜æŠ¥å‘Š","slug":"SP17247-PR003004_DigitSum-Solution","date":"2019-12-05T06:27:23.000Z","updated":"2019-12-05T06:54:35.408Z","comments":true,"path":"2019/12/05/SP17247-PR003004_DigitSum-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/12/05/SP17247-PR003004_DigitSum-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ•°ä½ $DP$ åˆ†æå…³äºæ•°çš„ç›¸å…³è®¡ç®—ï¼Œå¾ˆå®¹æ˜“ä½¿äººæƒ³åˆ°æ•°ä½ $DP$ï¼Œç›´æ¥è®°æœå³å¯ å¦‚ä½• $DP$ï¼Ÿ ä¼—æ‰€å‘¨çŸ¥ï¼Œè¿™é‡Œæˆ‘ä»¬åªè¦å…ˆæŠŠæ¯ä¸ªæ•°æ‹†æˆå‡ ä¸ªæ•°å­—ï¼Œç„¶å $dfs$ çš„æ—¶å€™è®°å½• $k,st,op$ï¼Œåˆ†åˆ«è¡¨ç¤ºå½“å‰æ˜¯ä»æœ€ä½ä½å¼€å§‹çš„ç¬¬ $k$ ä½ï¼Œ$st$ è¡¨ç¤ºå½“å‰å·²æšä¸¾çš„å‰å‡ ä½çš„å’Œï¼Œ$op$ è¡¨ç¤ºæ˜¯å¦å‰å‡ ä½æ˜¯å¦è¾¾åˆ°ä¸Šç•Œï¼Œå¼€æ•°ç»„è®°å¿†åŒ–å³å¯ Warning1ã€ä¼ å€¼çš„æ—¶å€™æ³¨æ„ $long\\ long$ 2ã€æ³¨æ„æ•°ç»„ $st$ é‚£ç»´çš„å¤§å° Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} int num[19],t,nm,T; LL f[19][191][2],l,r; inline LL dfs(rint k,rint st,rint op) { if(!k) return st; if(~f[k][st][op]) return f[k][st][op]; rint i,t=op?num[k]:9;rll res=0; for(i=0;i&lt;=t;i++) res+=dfs(k-1,st+i,op&amp;(i==t)); return f[k][st][op]=res; } inline LL solve(rll c) { t=0;while(c) num[++t]=c%10,c/=10; memset(f,-1,sizeof(f));//è®°å¾—åˆå§‹åŒ–ä¸º0 return dfs(t,0,1); } int main() { scanf(&quot;%d&quot;,&amp;T); while(T--) scanf(&quot;%lld%lld&quot;,&amp;l,&amp;r),l=max(l-1,0ll),//ä¸èƒ½ä¸º-1 printf(&quot;%lld\\n&quot;,solve(r)-solve(l));//å·®åˆ† return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ•°ä½DP","slug":"æ•°ä½DP","permalink":"http://hovnySiLenCe.github.io/tags/æ•°ä½DP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒNowCoder51271ã€Katu Puzzle è§£é¢˜æŠ¥å‘Š","slug":"NowCoder51271-Katu_Puzzle-Solution","date":"2019-11-28T07:17:23.000Z","updated":"2019-11-28T13:34:55.075Z","comments":true,"path":"2019/11/28/NowCoder51271-Katu_Puzzle-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/28/NowCoder51271-Katu_Puzzle-Solution/","excerpt":"","text":"é¢˜é¢æœ‰ $N(1\\le N \\le 1000)$ ä¸ªå˜é‡ $X_{1\\cdots N}$ï¼Œæ¯ä¸ªå˜é‡çš„å¯èƒ½å–å€¼æ˜¯ $0$ æˆ– $1$ï¼Œç°æœ‰ $M(1\\le M\\le 10^6)$ ä¸ªé™åˆ¶æ¡ä»¶ï¼Œæ¯ä¸ªæ¡ä»¶çš„å½¢å¼ä¸ºï¼š X_i\\ op \\ X_j=c,c\\in \\{0,1\\},op\\in\\{and,or,xor\\}æ±‚æ˜¯å¦æœ‰åˆæ³•çš„æ–¹æ¡ˆï¼Œä½¿æ‰€æœ‰æ¡ä»¶æˆç«‹ï¼Œè¾“å‡º YES æˆ– NO è§£é¢˜æ€è·¯$2-SAT\\&amp;SCC$ åˆ†ææ¯ä¸ªå˜é‡åªæœ‰ä¸¤ç§é€‰æ‹©ï¼Œæ˜æ˜¾æ˜¯ä¸€ä¸ª $2-SAT$ é—®é¢˜æ¨¡æ¿ï¼Œè€ƒè™‘å¦‚ä½•å»ºå›¾ å¯¹äºæ¯ç§ $op$ åˆ†æƒ…å†µè®¨è®ºï¼š $x\\ and\\ y=0$è€ƒè™‘ä»€ä¹ˆæ—¶å€™éœ€è¦é™åˆ¶ï¼Œæ˜¾ç„¶ï¼Œå½“ $x,y$ ä¸¤è€…æœ‰ä¸€ä¸ªä¸º $1$ æ—¶ï¼Œå¦ä¸€ä¸ªå¿…ä¸º $0$å› æ­¤å»ºç«‹æœ‰å‘è¾¹ï¼š$x+n\\to y,y+n\\to x$ $x\\ and\\ y=1$ä»ç„¶è€ƒè™‘ä»€ä¹ˆæ—¶å€™éœ€è¦é™åˆ¶ï¼Œæ˜¾ç„¶ï¼Œ$x,y$ éƒ½å¿…é¡»ä¸º $1$ï¼Œä¹Ÿå°±æ˜¯ $x,y$ éƒ½ä¸èƒ½ä¸º $0$ç›´æ¥è®©ä¸¤è€…åŒæ—¶ä¸æ»¡è¶³å³å¯ï¼Œå› æ­¤å»ºæœ‰å‘è¾¹ï¼š$x\\to x+n,y\\to y+n$ï¼Œæ˜¾ç„¶ $x,y$ ä¸º $0$ æ—¶ï¼Œä¸Šè¿°æ¡ä»¶æ— æ³•æ»¡è¶³ $x \\ or \\ y=0$$x,y$ éƒ½å¿…é¡»ä¸º $0$ï¼Œä¸æƒ…å†µ 2 ç±»ä¼¼ï¼Œå»ºæœ‰å‘è¾¹ï¼š$x+n\\to x,y+n\\to y$ $x\\ or\\ y=1$ä¸ 1 ç±»ä¼¼ï¼Œå»ºç«‹æœ‰å‘è¾¹ï¼š$x\\to y+n,y\\to x+n$ $x\\ xor\\ y=0$$x,y$ çš„å€¼å¿…é¡»ç›¸åŒï¼Œå»ºæœ‰å‘è¾¹ï¼š$x\\to y,y\\to x,x+n\\to y+n,y+n\\to x+n$ $x\\ xor\\ y=1$$x,y$ çš„å€¼å¿…é¡»ä¸åŒï¼Œå»ºæœ‰å‘è¾¹ï¼š$x\\to y+n,y\\to x+n,y+n\\to x,x+n\\to y$ æ€»ç»“å³ä¸ºï¼š $x\\ and\\ y=0$$x+n\\to y,y+n\\to x$ $x\\ and\\ y=1$$x\\to x+n,y\\to y+n$ $x \\ or \\ y=0$$x+n\\to x,y+n\\to y$ $x\\ or\\ y=1$$x\\to y+n,y\\to x+n$ $x\\ xor\\ y=0$$x\\to y,y\\to x,x+n\\to y+n,y+n\\to x+n$ $x\\ xor\\ y=1$$x\\to y+n,y\\to x+n,y+n\\to x,x+n\\to y$ ä¹‹åç”¨ $tarjan$ æ±‚å‡º $SCC$ åˆ¤æ–­æ˜¯å¦å­˜åœ¨ $i$ï¼Œä½¿å¾— $i,i+n$ åœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡å†…å³å¯ Warning1ã€è¾¹çš„æ•°é‡ä¸Šé™ä¸ºæ¡ä»¶æ•°çš„å››å€ 2ã€å˜é‡çš„ä¸‹æ ‡ä» $0$ å¼€å§‹ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 1000003 #define N 1003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline char getc() {//è¯»ä¸ªæ“ä½œï¼Œä¸ªäººçˆ±å¥½è€Œå·² rgt char c=getchar(); while(c&lt;&#39;A&#39;||c&gt;&#39;Z&#39;) c=getchar(); return c; } int head[N&lt;&lt;1],ver[M&lt;&lt;2],nxt[M&lt;&lt;2],t,n,m,res;//è¾¹å¼€å››å€ int dfn[N&lt;&lt;1],low[N&lt;&lt;1],bl[N&lt;&lt;1],St[N&lt;&lt;1],top,num;//å…¶ä½™å¼€ä¸¤å€ inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline void tarjan(rint k) { rint i,to; dfn[k]=low[k]=++num,St[++top]=k; for(i=head[k];i;i=nxt[i]) { to=ver[i]; if(!dfn[to]) tarjan(to),cmin(low[k],low[to]); else if(!bl[to]) cmin(low[k],dfn[to]); } if(dfn[k]==low[k]) { bl[k]=++res; while(St[top]!=k) bl[St[top--]]=res; --top; } } int main() { rint i,x,y,c;char op; n=read(),m=read(); for(i=1;i&lt;=m;i++) { x=read()+1,y=read()+1,//ä¸‹æ ‡+1ï¼Œä¸åŠ å½±å“ä¸å¤§ï¼ˆä¸ªäººå–œå¥½ c=read(),op=getc(); if(op==&#39;A&#39;) {//åˆ†æƒ…å†µåŠ è¾¹ if(c) add(x,x+n),add(y,y+n); else add(x+n,y),add(y+n,x); } else if(op==&#39;O&#39;) { if(c) add(x,y+n),add(y,x+n); else add(x+n,x),add(y+n,y); } else { if(c) add(x,y+n),add(y,x+n),add(x+n,y),add(y+n,x); else add(x,y),add(y,x),add(x+n,y+n),add(y+n,x+n); } } for(i=1;i&lt;=(n&lt;&lt;1);i++) if(!dfn[i]) tarjan(i); for(i=1;i&lt;=n;i++) if(bl[i]==bl[i+n]) {//åœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡å†…å°±æ— è§£ printf(&quot;NO&quot;);return 0; } printf(&quot;YES&quot;); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"2-SAT","slug":"2-SAT","permalink":"http://hovnySiLenCe.github.io/tags/2-SAT/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3825ã€[NOI2017]æ¸¸æˆ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3825-[NOI2017]Game-Solution","date":"2019-11-22T14:28:17.000Z","updated":"2019-12-01T07:28:27.640Z","comments":true,"path":"2019/11/22/Luogu_P3825-[NOI2017]Game-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/22/Luogu_P3825-[NOI2017]Game-Solution/","excerpt":"","text":"é¢˜é¢$2-SAT$ é—®é¢˜çš„ç›¸å…³åº”ç”¨ è§£é¢˜æ€è·¯$2-SAT+SCC$ åˆ†æç”±äºæ¡ä»¶é™åˆ¶ï¼Œæ¯åœºæ¯”èµ›åªèƒ½ç”±ä¸¤ç§è½¦å‚åŠ ï¼Œå› æ­¤å°±èƒ½æŠŠä¸‰ç§è½¦å‹ç¼©æˆä¸¤ç§ï¼Œæ¯”å¦‚ï¼Œå½“å‰çš„åœ°å›¾ç±»å‹ä¸º $a$ï¼Œé‚£ä¹ˆåªç”¨ $B$ å’Œ $C$ ç±»å‹è½¦èƒ½ä½¿ç”¨ï¼Œè¿™æ ·å°±èƒ½æŠŠä¸‰ç§çŠ¶æ€ç¼©æˆä¸¤ç§çŠ¶æ€ï¼Œç”¨ $2-SAT$ è§£å†³å³å¯ è€ƒè™‘å¦‚ä½•å¤„ç† $x$ ç±»å‹åœ°å›¾ç”±äº $x$ ç±»å‹åœ°å›¾çš„æ•°é‡å¾ˆå°‘ï¼Œæœ€å¤šåªæœ‰ $8$ ä¸ªï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æšä¸¾ $x$ ç±»åœ°å›¾çš„çŠ¶æ€ï¼Œå³å¯ä»¥å°† $x$ ç±»å‹åœ°å›¾çœ‹åšå…¶ä»–ç±»å‹çš„åœ°å›¾ï¼Œä½†è¿™æ ·çš„å¤æ‚åº¦æ˜¯ $O(3^8(n+m))$ï¼Œç¨³ $T$ã€‚ä¸è¿‡ä¸éš¾å‘ç°ï¼Œå°† $x$ ç±»åœ°å›¾çœ‹åš $a$ ç±»åœ°å›¾æ—¶ï¼Œ$B$ å’Œ $C$ è½¦èƒ½åœ¨è¯¥åœ°å›¾ä¸Šä½¿ç”¨ï¼Œå°† $x$ ç±»åœ°å›¾çœ‹åš $b$ ç±»åœ°å›¾æ—¶ï¼Œ$A$ å’Œ $C$ è½¦èƒ½åœ¨è¯¥åœ°å›¾ä¸Šä½¿ç”¨ï¼Œè¿™æ ·ä¸‰ç§è½¦éƒ½å‡ºç°è¿‡äº†ï¼Œå› æ­¤æšä¸¾ä¸‰ç§çŠ¶æ€æ˜¯æ— å¿…è¦çš„ï¼Œåªè¦æšä¸¾ä¸¤ç§çŠ¶æ€å³å¯ï¼Œè¿™æ ·å¤æ‚åº¦å°±é™è‡³äº† $O(2^8(n+m))$ è€ƒè™‘å¦‚ä½•å»ºå›¾å¯¹äºæ¯ä¸ªé™åˆ¶ï¼Œå½“ç„¶è¦åˆ¤æ–­è¿™ç§é™åˆ¶æ˜¯å¦åˆæ³•ï¼Œæ¯”å¦‚å¦‚ä¸‹æ ·ä¾‹ï¼š 10 0 abbbacabab 20 5 A 3 B 9 A 4 C 4 C 10 A 8 B 3 C 6 C 10 A 5 A 9 C 8 A 2 C 5 A 8 B 10 A 10 A 5 B 4 B 6 C 10 C 2 C 4 B 5 C 7 B 5 A 10 B 3 A 7 B 6 B 4 B 3 C 8 B 1 B 3 B 4 B 3 C 8 A 2 A CAAACABCBA å¯¹äºä¸Šè¿°ç¬¬ $13$ è¡Œçš„é™åˆ¶ï¼Œå½“ç¬¬ $5$ åœºæ¯”èµ›ä½¿ç”¨ $B$ ç±»è½¦æ—¶ï¼Œç¬¬ $4$ åœºæ¯”èµ›å¿…é¡»ç”¨ $B$ ç±»è½¦ï¼Œæ˜¾ç„¶å¯¹äºç¬¬ $4$ åœºæ¯”èµ›ï¼Œè¿™æ˜¯ä¸åˆæ³•çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ¡ä»¶ä»ç„¶æ˜¯æœ‰çº¦æŸåŠ›çš„ï¼Œå³é€ æˆç¬¬ $5$ åœºæ¯”èµ›ä¸èƒ½ä½¿ç”¨ $B$ ç±»è½¦ï¼Œé‚£ä¹ˆå¦‚ä½•å»ºå›¾ç»´æŠ¤è¿™ç§çº¦æŸå‘¢ï¼Ÿ æ˜¾ç„¶ï¼Œæˆ‘ä»¬åªéœ€è¦è¿ä¸€æ¡ $5B$ å‘ $5C$ çš„å•å‘è¾¹å³å¯ï¼Œè¿™æ ·å°±è¡¨æ˜å¦‚æœå– $5B$ é‚£ä¹ˆä¸€å®šè¦å– $5C$ ï¼Œæ˜æ˜¾æ˜¯ä¸åˆæ³•çš„ï¼Œæœ€åè¾“å‡ºæ–¹æ¡ˆçš„æ—¶å€™å°±ä¸ä¼šè¾“å‡º $5B$ ä¹Ÿæœ‰å¯èƒ½å½¢å¦‚ä¸Šè¿°ç¬¬ $4$ è¡Œçš„é™åˆ¶ï¼Œè¿™ç§é™åˆ¶ç”±äºæ²¡æœ‰ $5A$ è¿™ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿè¿ä¸å‡ºè¾¹ï¼Œç›´æ¥èˆå¼ƒå³å¯ å…¶ä»–ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”±äºé™åˆ¶ç±»å‹æ˜¯ x_p \\ and \\ y_qï¼Œå› æ­¤ä¸€æ–¹é¢è¦å»º x_p \\to y_q çš„è¾¹ï¼ŒåŒæ—¶ä¹Ÿè¦å»º y_{1-q} \\to x_{1-p} çš„è¾¹ Warning1ã€ä¸Šè¿°çš„ä¸¤ç§æƒ…å†µ 2ã€æ•°ç»„å¤§å° Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 100007 #define N 50003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline int getc() { rgt char c=getchar(); while(c&lt;&#39;A&#39;||c&gt;&#39;Z&#39;) c=getchar(); return (c-&#39;A&#39;); } struct node{ int x,y,vx,vy; inline void in() {x=read(),vx=getc(),y=read(),vy=getc();} }b[M]; int head[N&lt;&lt;1],ver[M&lt;&lt;1],nxt[M&lt;&lt;1],n,m,t,d,num,ans,p[11]; int dfn[N&lt;&lt;1],low[N&lt;&lt;1],St[N&lt;&lt;1],bl[N&lt;&lt;1],res,top,D; char s[N]; inline void add(rint x,rint y) {//å»ºå•å‘è¾¹ ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline void tarjan(rint k) {//æ±‚SCC rint i,to; dfn[k]=low[k]=++num,St[++top]=k; for(i=head[k];i;i=nxt[i]) { to=ver[i]; if(!dfn[to]) tarjan(to),cmin(low[k],low[to]); else if(!bl[to]) cmin(low[k],dfn[to]); } if(dfn[k]==low[k]) { bl[k]=++res; while(St[top]!=k) bl[St[top--]]=res; --top; } } int main() { rint i,j,x,y,vx,vy; n=read(),d=read(),scanf(&quot;%s&quot;,s+1),m=read(); for(i=1;i&lt;=m;i++) b[i].in();D=1&lt;&lt;d; for(i=1;i&lt;=n;i++) if(s[i]==&#39;x&#39;) p[t++]=i; for(j=0;j&lt;D;j++) {//æšä¸¾xå›¾çŠ¶æ€ for(t=0;t&lt;d;++t) s[p[t]]=(j&gt;&gt;t)&amp;1?&#39;a&#39;:&#39;b&#39;;//æ›´æ–°çŠ¶æ€ t=num=res=0,ans=1; memset(bl,0,(n+1)&lt;&lt;3), memset(dfn,0,(n+1)&lt;&lt;3), memset(head,0,(n+1)&lt;&lt;3);//åˆå§‹åŒ– for(i=1;i&lt;=m;i++) { x=b[i].x,y=b[i].y; if(b[i].vx==s[x]-&#39;a&#39;) continue;//æ— ç”¨çš„é™åˆ¶ if(s[x]==&#39;c&#39;) vx=b[i].vx&gt;0; else vx=b[i].vx&gt;1; if(b[i].vy==s[y]-&#39;a&#39;) add(x+vx*n,x+(vx^1)*n);//ä¸€ä¸ªç‚¹ä¸èƒ½å–çš„é™åˆ¶ else {//ä¸€èˆ¬æƒ…å†µ if(s[y]==&#39;c&#39;) vy=b[i].vy&gt;0; else vy=b[i].vy&gt;1; add(x+vx*n,y+vy*n), add(y+(vy^1)*n,x+(vx^1)*n); } } for(i=1;i&lt;=(n&lt;&lt;1);i++) if(!dfn[i]) tarjan(i); for(i=1;i&lt;=n;i++) if(bl[i]==bl[i+n]) {ans=0;break;} if(ans) { for(i=1;i&lt;=n;i++) { x=bl[i]&lt;bl[i+n];//å°çš„å…ˆé€‰è‚¯å®šæ˜¯æœ€ä¼˜çš„ if(s[i]==&#39;a&#39;) printf(&quot;%c&quot;,x?&#39;B&#39;:&#39;C&#39;); else if(s[i]==&#39;b&#39;) printf(&quot;%c&quot;,x?&#39;A&#39;:&#39;C&#39;); else printf(&quot;%c&quot;,x?&#39;A&#39;:&#39;B&#39;);//åˆ†æƒ…å†µè®¨è®º } return 0; } } printf(&quot;-1&quot;); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"2-SAT","slug":"2-SAT","permalink":"http://hovnySiLenCe.github.io/tags/2-SAT/"},{"name":"ç¼©ç‚¹","slug":"ç¼©ç‚¹","permalink":"http://hovnySiLenCe.github.io/tags/ç¼©ç‚¹/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒæŸè®²ç¨¿ã€ 2-SAT å­¦ä¹ ç¬”è®°","slug":"LectureNotes-2-SAT-Notes","date":"2019-11-21T08:27:23.000Z","updated":"2019-12-01T07:33:27.241Z","comments":true,"path":"2019/11/21/LectureNotes-2-SAT-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/21/LectureNotes-2-SAT-Notes/","excerpt":"","text":"å†™åœ¨å‰é¢å¥½å­©çº¸å†™å­¦ä¹ ç¬”è®°è¦æœ‰æ ¼å¼ é¢˜ç›®å¼•å…¥å°±ç”¨ $2-SAT$ æ¨¡æ¿è¶´ï¼Œä½†å…¶å®æ„Ÿjioç¬¬äºŒé¢˜æ›´åŠ ç»å…¸ ã€ŒLuogu P4782ã€ã€æ¨¡æ¿ã€‘2-SATé—®é¢˜é¢˜ç›®èƒŒæ™¯$2-SAT$ é—®é¢˜ æ¨¡æ¿ é¢˜ç›®æè¿°æœ‰ $n$ ä¸ªå¸ƒå°”å˜é‡ $x_i$ï¼Œå¦æœ‰ $m$ ä¸ªéœ€è¦æ»¡è¶³çš„æ¡ä»¶ï¼Œæ¯ä¸ªæ¡ä»¶çš„å½¢å¼éƒ½æ˜¯ â€œ$x_i$ ä¸º $true/false$ æˆ– $x_j$ ä¸º $true/false$ â€œã€‚æ¯”å¦‚ â€œ$x_1$ ä¸º $ture$ æˆ– $x_3$ ä¸º $false$ â€œã€â€$x_7$ ä¸º $false$ æˆ– $x_2$ ä¸º $false$â€ã€‚$2-SAT$ é—®é¢˜çš„ç›®æ ‡æ˜¯ç»™æ¯ä¸ªå˜é‡èµ‹å€¼ä½¿å¾—æ‰€æœ‰æ¡ä»¶å¾—åˆ°æ»¡è¶³ã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•° $n$ å’Œ $m$ï¼Œæ„ä¹‰å¦‚ä½“é¢æ‰€è¿°ã€‚ æ¥ä¸‹æ¥ $m$ è¡Œæ¯è¡Œ $4$ ä¸ªæ•´æ•° $i\\ a\\ j\\ b$ï¼Œè¡¨ç¤º â€œ$x_i$ ä¸º $a$ æˆ– $x_j$ ä¸º $b$â€$(a,b\\in {0,1})$ è¾“å‡ºæ ¼å¼å¦‚æ— è§£ï¼Œè¾“å‡º IMPOSSIBLEï¼› å¦åˆ™è¾“å‡º POSSIBLEï¼Œä¸‹ ä¸€è¡Œ $n$ ä¸ªæ•´æ•° $x_i(x_i\\in {0,1})$ï¼Œè¡¨ç¤ºæ„é€ å‡ºçš„è§£ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹ #1ï¼š3 1 1 1 3 0 è¾“å‡ºæ ·ä¾‹ #1ï¼šPOSSIBLE 0 0 0 è¯´æ˜/æç¤º$1\\le n,m\\le1e6$ï¼Œå‰ $3$ ä¸ªç‚¹å¡å°é”™è¯¯ï¼Œåé¢ $5$ ä¸ªç‚¹å¡æ•ˆç‡ï¼Œç”±äºæ•°æ®éšæœºç”Ÿæˆï¼Œå¯èƒ½ä¼šå«æœ‰ 10 0 10 0 ä¹‹ç±»çš„å‘ ã€ŒNowCoder51271ã€ Katu Puzzleé¢˜ç›®æè¿° Katu Puzzle is presented as a directed graph G(V, E) with each edge e(a, b) labeled by a boolean operator op (one of AND, OR, XOR) and an integer $c (0 \\leq c \\leq 1)$. One Katu is solvable if one can find each vertex Vi a value $X_i (0 â‰¤ X_i â‰¤ 1)$ such that for each edge e(a, b) labeled by op and c, the following formula holds: $X_a\\ op\\ X_b = c$ The calculating rules are: Given a Katu Puzzle, your task is to determine whether it is solvable. è¾“å…¥æ ¼å¼The first line contains two integers $N (1 \\leq N \\leq 1000)$ and $M(0 \\leq M \\leq 1,000,000)$, indicating the number of vertices and edges.The following M lines contain three integers $a (0 \\leq a \\lt N)$, $b(0 \\leq b \\lt N)$, $c$ and an operator op each, describing the edges. è¾“å‡ºæ ¼å¼Output a line containing YES or NO. è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹ #1ï¼š4 4 0 1 1 AND 1 2 1 OR 3 2 0 AND 3 0 0 XOR è¾“å‡ºæ ·ä¾‹ #1ï¼šYES //æ­¤è¡Œçº¯ç²¹æ˜¯ä¸ºäº†è¡Œå· è¯´æ˜/æç¤º$X_0 = 1, X_1 = 1, X_2 = 0$. æ­£æ–‡$SAT$ æ˜¯ $satisfiability$ çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç±»é€‚åº”æ€§é—®é¢˜çš„ç®€ç§°ï¼Œä¸€èˆ¬å½¢å¼ä¸º $k-$é€‚åº”æ€§é—®é¢˜ï¼Œç®€ç§° $k-SAT$ $2-SAT$ æ˜¯ $k-SAT$ çš„ä¸€ç§æƒ…å†µï¼Œå› ä¸ºå½“ $k&gt;2$ æ—¶ $k-SAT$ é—®é¢˜æ˜¯ $NP$ é—®é¢˜ï¼Œæ‰€ä»¥â€¦â€¦ åƒä¸Šè¿°é¢˜ç›®ä¸€æ ·ï¼Œ$2-SAT$ å½¢å¼ä¸€èˆ¬ä¸ºï¼šç»™å‡º $n$ ä¸ªå˜é‡ï¼Œä»¥åŠ $m$ ä¸ªé™åˆ¶æ¡ä»¶ï¼Œæ¯ä¸ªé™åˆ¶æ¡ä»¶å½¢å¦‚ $(not)a_i\\ op\\ (not)a_j=0/1$ï¼Œæ±‚æ˜¯å¦å­˜åœ¨å¯¹ $n$ ä¸ªå˜é‡çš„åˆæ³•èµ‹å€¼æ–¹æ¡ˆï¼Œä½¿ $m$ ä¸ªæ¡ä»¶å‡å¾—åˆ°æ»¡è¶³ã€‚å…¶ä¸­ $a_i,a_j\\in {0,1}$ï¼Œ$op$ å¯ä»¥æ˜¯ $or,and,xor$ ç­‰ï¼Œä¹Ÿå°±æ˜¯ $bool$ ç±»å‹è¿ç®—ï¼Œé™¤äº†ä¸Šè¿°çš„ç±»å‹å¤–ï¼Œè²Œä¼¼å…¶ä»–çš„ä¸æ˜¯å¾ˆå¸¸è§ åˆ¤å®šæ–¹æ³•$2-SAT$ é—®é¢˜çš„åˆ¤å®šæ–¹æ³•å¦‚ä¸‹ï¼š 1ã€å»ºç«‹ $2n$ ä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ï¼Œæ¯ä¸ªå˜é‡çš„ $a_i$ å¯¹åº” $2$ ä¸ªèŠ‚ç‚¹ï¼Œä¸€èˆ¬è®¾ä¸º $i$ å’Œ $i+n$ 2ã€è€ƒè™‘æ¯ä¸ªæ¡ä»¶ï¼Œå½¢å¦‚ â€œè‹¥ $a_i$ ä¸º $p$ åˆ™ $a_j$ å¿…é¡»ä¸º $q$â€ï¼Œ$p,q\\in {0,1}$ã€‚å»ºç«‹ $i+p\\times n \\to j+q\\times n$ çš„å•å‘è¾¹ã€‚å½“ç„¶ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°æ¡ä»¶è•´å«ç€å®ƒçš„é€†å¦å‘½é¢˜ â€œè‹¥ $a_j$ ä¸º $1-q$ åˆ™ $a_i$ å¿…é¡»ä¸º $1-p$â€ï¼Œå› æ­¤åœ¨å»ºå›¾çš„æ—¶å€™è¿˜åº”è¯¥å»ºç«‹ $j+(1-q)\\times n\\to i+(1-p)\\times n$ çš„å•å‘è¾¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç‚¹æ•°å’Œè¾¹æ•°éƒ½åº”æ˜¯å˜é‡æ•°å’Œæ¡ä»¶æ•°çš„ä¸¤å€ï¼Œå¼€æ•°ç»„ï¼Œåˆå§‹åŒ–çš„æ—¶å€™åº”ç‰¹åˆ«æ³¨æ„ 3ã€è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨ $tarjan$ç®—æ³•æ±‚å‡ºæœ‰å‘å›¾ä¸­æ‰€æœ‰çš„å¼ºè¿é€šåˆ†é‡ 4ã€è‹¥å­˜åœ¨ $i\\in [1,n]$ï¼Œæ»¡è¶³ $i$ å’Œ $i+n$ å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œåˆ™è¡¨æ˜ï¼šè‹¥ $a_i$ èµ‹å€¼ä¸º $p$ï¼Œåˆ™ $a_i$ å¿…é¡»èµ‹å€¼ä¸º $1-p$ï¼Œæ˜¾ç„¶çŸ›ç›¾ï¼Œè¯´æ˜é—®é¢˜æ— è§£ã€‚å¦åˆ™é¢˜ç›®ä¸€å®šæœ‰è§£ã€‚ æ—¶é—´å¤æ‚åº¦ $O(n+m)$ æ¥åº·ä¸ªæ —å­ 3 2 1 1 3 0 2 1 3 1 æ ¹æ®ä¸Šè¿°æ–¹æ³•å»ºå›¾ï¼Œå¯å¾—ï¼š ä¸å­˜åœ¨ $i,i+n$ å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡é‡Œï¼Œå› æ­¤ä¸€å®šæœ‰è§£ è€Œä¸‹å›¾åˆ™ç”±äºå­˜åœ¨ $i,i+n$ å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡è€Œæ— è§£ åˆæ³•æ–¹æ¡ˆä»¥ä¸‹å›¾ä¸ºä¾‹ åœ¨ $tarjan$ å¾—å‡ºæ¯ä¸ªå¼ºè¿é€šåˆ†é‡çš„åŸºç¡€ä¸Šï¼Œè€ƒè™‘å¦‚ä½•æ„é€ åˆæ³•æ–¹æ¡ˆ æ˜¾ç„¶ï¼Œåœ¨ä¸€ä¸ª $SCC$ ä¸­ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå˜é‡ç¡®å®šäº†ï¼Œé‚£ä¹ˆå®ƒä¹‹åçš„ä¸€ç³»åˆ—å˜é‡çš„å€¼ä¹Ÿç¡®å®šäº†ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç¼©ç‚¹æ¥åšã€‚åˆå› ä¸ºï¼Œäº’ä¸º â€œé€†å¦å‘½é¢˜â€çš„æœ‰å‘è¾¹åœ¨å›¾ä¸­æˆå¯¹å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªç‚¹çš„å…¥åº¦ä¸º $0$ï¼Œé‚£ä¹ˆå…¶å¯¹ç«‹ç‚¹çš„å‡ºåº¦å³ä¸º $0$ï¼Œæ˜¾ç„¶é€‰æ‹©å…¥åº¦ä¸º $0$ çš„ç‚¹ä¼šä½¿å…¶å¯¹ç«‹ç‚¹è¢«é€‰ï¼Œè€Œé€‰å‡ºåº¦ä¸º $0$ çš„ç‚¹åˆ™ä¸ä¼šäº§ç”Ÿè¿™ç§å½±å“ï¼Œå¦‚ä¸Šå›¾ $3,6$ äº’ä¸ºå¯¹ç«‹ç‚¹ï¼Œé€‰ $6$ ä¸è¡Œï¼Œä½†æ˜¯é€‰ $3$ æ»¡è¶³ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ç¼©ç‚¹åå»ºå‡ºåå›¾ï¼Œå…¶ä¸­åå›¾ä¸­çš„ä¸€ä¸ªç‚¹å³ä¸ºåŸå›¾çš„ä¸€ä¸ª $SCC$ï¼Œç„¶åæˆ‘ä»¬åœ¨åå›¾ä¸Šæ‰§è¡Œæ‹“æ‰‘æ’åºå³å¯ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„æ˜¯ç¼©ç‚¹åå›¾çš„æ‹“æ‰‘åºçš„ååºï¼Œå…·ä½“å®ç°ç•™ä¸è¯»è€…è‡ªè¡Œæ€è€ƒï¼Œè¿™é‡Œä¸åšè¯¦ç»†åˆ†æ è€ƒè™‘å¦‚ä½•ä¼˜åŒ–ï¼Œä¸éš¾å‘ç°ï¼Œåœ¨ $tarjanâ€‹$ æ±‚ $SCCâ€‹$ çš„æ—¶å€™ï¼Œç”±äº $tarjanâ€‹$ æ˜¯é€’å½’è¿›è¡Œçš„ï¼Œæœ€å…ˆå¾—å‡ºçš„ $SCCâ€‹$ è‚¯å®šæ˜¯å‡ºåº¦ä¸º $0â€‹$ çš„ï¼Œç¬¬äºŒå‡ºåº¦å†å…¶æ¬¡ï¼Œå…¶å®å·²ç»å¾ˆåƒæˆ–è€…è¯´ å°±æ˜¯ç”¨é€’å½’æ±‚å‡ºäº†æ‹“æ‰‘åºçš„ååºï¼Œå³è”é€šå—çš„ç¼–å·çš„é¡ºåºå°±æ˜¯ç¼©ç‚¹åå›¾çš„ååºï¼Œç›´æ¥æ ¹æ®è”é€šå—çš„ç¼–å·åˆ¤æ–­è´ªå¿ƒçš„å–å³å¯ å¯¹äºç‚¹ $i$ å’Œ $i+n$ï¼Œå¦‚æœ $bl[i]\\lt bl[i+n]$ï¼Œä¹Ÿå°±æ˜¯è¯´ $i$ æ‰€åœ¨çš„ $SCC$ ç¼–å·å°äº $i+n$ï¼Œæ­¤æ—¶å– $i$ï¼Œå¦åˆ™å– $i+n$ ä¾‹é¢˜é€‰è®²ã€ŒLuogu P4782ã€ã€æ¨¡æ¿ã€‘2-SATé—®é¢˜ç”±äºæˆ–çš„æ€§è´¨ï¼Œåªè¦åœ¨ä¸€ä¾§ä¸æ»¡è¶³çš„æƒ…å†µä¸‹å‘å¦ä¸€ä¾§æ»¡è¶³çš„æƒ…å†µè¿æ¥æœ‰å‘è¾¹è¡¨ç¤ºé™åˆ¶å³å¯ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 1000003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int head[N&lt;&lt;1],ver[N&lt;&lt;1],nxt[N&lt;&lt;1],n,m,t,num; int bl[N&lt;&lt;1],St[N&lt;&lt;1],top,dfn[N&lt;&lt;1],low[N&lt;&lt;1],res; bool vis[N],w[N]; inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline void tarjan(rint k) { rint i,to; dfn[k]=low[k]=++num,St[++top]=k; for(i=head[k];i;i=nxt[i]) { to=ver[i]; if(!dfn[to]) tarjan(to),cmin(low[k],low[to]); else if(!bl[to]) cmin(low[k],dfn[to]); } if(dfn[k]==low[k]) { bl[k]=++res; while(St[top]!=k) bl[St[top]]=res,--top; --top; } } inline void dfs(rint k) { rint i,to; if(k&gt;n) vis[k-n]=1,w[k-n]=1; else vis[k]=1; for(i=head[k];i;i=nxt[i]) { to=ver[i]&gt;n?ver[i]-n:ver[i]; if(!vis[to]) dfs(ver[i]); } } int main() { rint i,x,y,vx,vy; n=read(),m=read(); for(i=1;i&lt;=m;i++) { x=read(),vx=read(), y=read(),vy=read(), add(y+(vy^1)*n,x+vx*n),//ä¸€ä¾§å‘½é¢˜ä¸ºå‡æ—¶å‘å¦ä¸€ä¾§å‘½é¢˜ä¸ºçœŸè¿è¾¹è¡¨ç¤ºé™åˆ¶ add(x+(vx^1)*n,y+vy*n); } for(i=1;i&lt;=(n&lt;&lt;1);i++) if(!dfn[i]) tarjan(i); for(i=1;i&lt;=n;i++) if(bl[i]==bl[i+n]) { printf(&quot;IMPOSSIBLE&quot;);//æ— è§£ return 0; } printf(&quot;POSSIBLE\\n&quot;); for(i=1;i&lt;=n;i++) printf(&quot;%d &quot;,bl[i]&gt;bl[i+n]);//æ ¹æ®ååºæˆ–è€…è¯´SCCç¼–å· return 0; } ã€ŒNowCoder51271ã€ Katu Puzzle$Solutionâ€™s\\ Link$ æ¨èé¢˜ç›®ç±»ä¼¼äºæ¨¡æ¿ Luogu P4171 [JSOI2010]æ»¡æ±‰å…¨å¸­NowCoder51346 Priest Johnâ€™s Busiest Day","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"2-SAT","slug":"2-SAT","permalink":"http://hovnySiLenCe.github.io/tags/2-SAT/"},{"name":"ç¼©ç‚¹","slug":"ç¼©ç‚¹","permalink":"http://hovnySiLenCe.github.io/tags/ç¼©ç‚¹/"},{"name":"SCC","slug":"SCC","permalink":"http://hovnySiLenCe.github.io/tags/SCC/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCSP2019æ¸¸è®°ã€","slug":"CSP2019-Travel-Notes","date":"2019-11-16T13:55:14.000Z","updated":"2019-11-17T08:25:49.226Z","comments":true,"path":"2019/11/16/CSP2019-Travel-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/16/CSP2019-Travel-Notes/","excerpt":"","text":"æˆ–è®¸è¿™æ‰æ˜¯å¼€å§‹ Day0ä»Šå¤©åœ¨é…’åº—å…¥ä½äº†ã€‚æ™šä¸Šå’Œ $louhc$ ä¸€èµ·åƒäº†ä¸ªé”…ï¼Œå›é…’åº—ç¨å¾®å¨±ä¹äº†ä¸€ä¸‹ï¼Œç¨ç¨å†™ç‚¹æ¸¸è®°ï¼Œå‡†å¤‡ç¡äº† Day1æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° æ—©ä¸Š $5:44$ å°±è‡ªç„¶é†’äº†ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç´§å¼ ï¼Œä»ç„¶æœ‰ç‚¹å›°ï¼Œåˆç¡åˆ° $6:53$ ä¸‹æ¥¼å»åƒæ—©é¥­ã€‚è¯è¯´æ—©ä¸Šçš„é¢å‘³é“è¿˜çœŸçš„ä¸æ˜¯æœ‰ç‚¹æ€ªï¼Œå†·çƒ­çš„ä¸œè¥¿éƒ½åƒäº†å±…ç„¶è¿˜æ²¡äº‹ï¼Œæ„Ÿè§‰å¯èƒ½æ˜¯è‡ªå·± $RP++$ äº†ï¼ˆå¤šè°¢å·¨ä½¬ åå…¬äº¤è½¦åˆ°å­¦å†›ï¼Œäººæ˜¯çœŸçš„æœ‰ç‚¹å¤šï¼Œä½†æ˜¯æ²¡å¤šå¤§åœ¨æ„ï¼Œå¿ƒé‡Œæ¯”è¾ƒå¹³æ·¡ã€‚çœ‹äº†çœ‹è€ƒåœºè¿˜æœ‰å•æ‰€ï¼Œè¿™å•æ‰€çœŸçš„æ˜¯è®©äººä¸æ•¢æ­ç»´ã€‚çœ‹å®‰è£…åŒ…ä¸‹é¢ï¼ŒåŸæœ¬ä»¥ä¸ºèƒ½ç”¨ $Sublime$ çš„ï¼Œç»“æœå®‰è£…åŒ…æŸåï¼Œåªå¥½ä½œç½¢ å‡†å¤‡äº†ä¸€ç›’é»‘ç¬”ï¼Œä¸€æ”¯è“ç¬”ï¼Œä¸€æ”¯çº¢ç¬”ï¼Œè¿˜æœ‰ä¸€æ•´åŒ…çº¸ï¼Œè‡ªå¸¦çš„æ¸©æ°´ï¼Œæ„Ÿè§‰è¦åšåˆ°ä¸‡äº‹å…·å¤‡äº† è§£å‹æ–‡ä»¶çš„æ—¶å€™ï¼Œå’Œçœé€‰ä¸€æ ·ï¼Œå¿½ç•¥äº†æœ€åçš„é—®å·ï¼Œé”™è¯¯äº†ä¸€æ¬¡ï¼Œä¸è¿‡å¿ƒé‡Œæ²¡å¤šå¤§å½±å“ï¼Œåè€Œç¬‘äº†ç¬‘ $T1$ ç›¸å¯¹è¿˜æ˜¯æ¯”è¾ƒè½»æ¾çš„ï¼Œæ‰‹ç©äº†å‡ ç»„æ•°æ®ï¼Œç„¶åå°±æŠŠç»†èŠ‚å†™ä¸‹æ¥äº†ï¼Œæ³¨æ„åˆ°äº† $n\\le 64$ï¼Œå¼€äº† $unsigned\\ long\\ long$ï¼Œå¤§æ¦‚å°±åŠä¸ªå°æ—¶è¿‡å»äº† $T2$ çœ‹äº†é¢˜ç›®ä¹‹åè¿˜æ˜¯æ¯”è¾ƒæœ‰æ€è·¯çš„ï¼Œç›´æ¥å°±æ‰“äº†ä¸ª $dfs$ï¼Œç»´æŠ¤äº†å‡ ä¸ªä¿¡æ¯ï¼Œç»“æœç¬¬äºŒä¸ªæ ·ä¾‹æ²¡è¿‡ï¼Œæœ‰ç‚¹å°ç´§å¼ ï¼Œå…ˆå†™äº†ä¸ªæš´åŠ›ï¼Œç„¶åæ‰“äº†ä¸ªå¯¹æ‹ï¼Œå¯¹æ‹ä¸€æ—¶é—´æ‰¾ä¸å‡ºä»€ä¹ˆé—®é¢˜ï¼Œå°±å†æ€è€ƒäº†ä¸€ä¸‹ï¼Œå‘ç°æ˜¯æ²¡æœ‰åˆ¤ $AB$ çš„æƒ…å†µï¼Œå†…å¿ƒå¤æ‚ï¼Œæ„Ÿè§‰æœ‰ç‚¹éš¾ç»´æŠ¤ï¼Œæ€è€ƒäº†ä¸€ä¸‹æ‰“äº†ä¸ªæ ˆï¼Œä»ç„¶æ²¡è¿‡ï¼Œåˆå‘ç°æ˜¯ $AB$ æ˜¯è¦è¿ç»­çš„ï¼Œç»´æŠ¤äº†ä¸€ä¸ª $fa[k]$ï¼Œ$St[top]$ è¡¨ç¤ºæˆäº†ä½ç½®ï¼Œå†å¯¹äº†ä¸€ä¼šæ‹ï¼Œæ˜¾ç¤º $2000$ çš„æ•°æ®ï¼Œçœ‹è²Œä¼¼æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œåˆå¯¹äº† $30000$ çš„æ•°æ®ï¼Œä¸€ä¼šæ²¡å‡ºç°ä»€ä¹ˆé—®é¢˜å°±æ‰”äº†ï¼Œç°åœ¨æƒ³æƒ³æœ‰ç‚¹å°æ…Œï¼Œéƒ½å› ä¸º $T3$ æˆ‘è§‰å¾— $T3$ åº”è¯¥æ˜¯æˆ‘ $Day1$ æœ€å¤§çš„è´¥ç¬”äº†å§ã€‚å¿ƒé‡Œä¸€ç›´æƒ³ç€å®ç°é‚£ä¸ªè¿›å†¬ä»¤è¥çš„ç›®æ ‡ï¼Œå¯¹è‡ªå·±çš„å‹åŠ›ç«Ÿæœ‰äº›å¤§äº†ï¼Œè„‘å­ä¸€æ—¶é—´è½¬ä¸è¿‡æ¥ï¼Œæƒ³è¦æŠŠ $T3$ æ­£è§£æƒ³å‡ºæ¥ï¼Œæƒ³è¦ $Day1$ æ‹¿ $300pts$ï¼Œç„¶åæ‰æœ‰æœºä¼šè¿›ä»»æ„å†¬ä»¤è¥ã€‚ä½†æ˜¯æˆ‘ä¼¼ä¹æƒ³å¤´äº†ï¼Œå¤§æ¦‚èŠ±äº†å¾ˆä¹…æƒ³è¿™é“é¢˜ï¼ŒåŠä¸ªå°æ—¶é‡Œæ²¡ä»€ä¹ˆæ€è·¯ï¼Œéšä¾¿æ‰“äº†ä¸ª $n\\le10$ çš„æš´åŠ›ï¼Œè²Œä¼¼å¸¸æ•°æœ‰ç‚¹å¤§ï¼Œæ ·ä¾‹ $T$ äº†ï¼Œç„¶åå°±æŠ±ç€å†å°è¯•ä¸€ä¸‹çš„å¿ƒç†ï¼Œç»§ç»­æƒ³ã€‚åˆ°äº†è¿˜æœ‰å¤§æ¦‚ $35min$ çš„æ—¶å€™ï¼Œæƒ³å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒæ­£ç¡®çš„ç®—æ³•ï¼Œå°±æ˜¯ç»´æŠ¤æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”å¤æ‚åº¦è²Œä¼¼æœ‰é—®é¢˜ï¼Œè™½ç„¶è·‘ä¸æ»¡ï¼Œå°±æ˜¯æƒ³çš„ä¸æ˜¯å¾ˆå‘¨å…¨ï¼Œä¸€ä¼šååˆå‘ç°è‡ªå·±æƒ³æ³•çš„ä¸€ç‚¹ç¼ºé™·ï¼Œæ„Ÿè§‰å°±ç®—æƒ³å‡ºæ¥äº†ä¹Ÿæ‰“ä¸å‡ºæ¥ï¼Œæ”¾å¼ƒäº†ã€‚å¿ƒé‡Œä¸€ç›´åœ¨çº ç»“ï¼Œæ˜¯æ‰“æš´åŠ›è¿˜æ˜¯æƒ³æ­£è§£ï¼Œå¾ˆçŠ¹è±«ï¼Œç„¶åæœ€å $30min$ åˆå¤ªç´§å¼ ï¼Œæš´åŠ›æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œä¹Ÿæ²¡æœ‰æ‰“ï¼Œæ„Ÿè§‰æ•°æ®ä¸ä¼šé‚£ä¹ˆè‰¯å¿ƒï¼Œå¿ƒæ€çˆ†ç‚¸ï¼Œæ„Ÿè§‰åˆ«äººéƒ½ $AK$ äº† $Day1$ï¼Œåªæœ‰ä¸€ä¸ªå®åŠ›ä¸è¶³çš„è‡ªå·±æœ€å¤šèƒ½æ‹¿ $200pts$ï¼Œè¶Šæƒ³åè€Œè¶Šç´§å¼ äº†ï¼Œå¯¹ $10pts$ ä¹Ÿæ”¾å¼ƒäº†ï¼Œè€Œåˆå¿ƒå­˜ä¾¥å¹¸åœ°æ‰“äº†ä¸ªå¾ˆé”™è¯¯ã€æ²¡æœ‰ä¸æ¯«ä¾æ®çš„è§£æ³•ï¼Œçº¯ç²¹æ˜¯ä¸€ç§ä¾¥å¹¸å¿ƒç†ï¼ŒçœŸçš„æ„Ÿè§‰è‡ªå·±çš„å¿ƒæ€å¾ˆä¸å¥½ï¼Œæ”¾å¼ƒäº†ï¼Œå‰ä¸¤é¢˜æ²¡ä»”ç»†æŸ¥è¿‡ï¼Œ$T3$ åˆæ²¡æ‰“æš´åŠ›ï¼Œå¾ˆåæ‚” å¯èƒ½ä¹Ÿæ˜¯è‡ªå·±å®šçš„ç›®æ ‡æœ‰ç‚¹å¤šä¸”å¤§äº†å§ï¼Œç”šè‡³æåˆ°è‡ªå·±åœ¨è€ƒåœºä¸Šéƒ½è‡ªå‘äº†ï¼Œå‡ºæ¥é—®äº†ä¸€ä¸‹ï¼Œè²Œä¼¼ $T3$ æ²¡æœ‰å¤šå°‘äººæƒ³æ‰“å‡ºæš´åŠ›ï¼Œæœ€å¤šä¹Ÿå°± $10pts$ï¼Œ$bzt$ å’Œ $louhc$ å¤šæ‰“äº†èŠèŠ±å›¾çš„æƒ…å†µï¼Œæœ‰ $35pts$ï¼Œå¿ƒæ€æœ‰ç‚¹åƒä¸æ¶ˆï¼Œæ‰å‘ç°è‡ªå·±æ‹¿å»å¹´çš„æˆç»©åšå¯¹æ¯”æ˜¯æœ‰å¤šä¹ˆè ¢ã€‚æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° $Day2$ ä¸çŸ¥é“èƒ½ä¸èƒ½ç¿»ç›˜ï¼ŒåŠ æ²¹äº†ï¼Œä¸ºäº†è‡ªå·±çš„æ¢¦ï¼Œå‘ç°å…¶å®è‡ªå·±ä¹Ÿè¿˜ä¸æ˜¯é‚£ä¹ˆæˆç†Ÿï¼Œæœ‰äº›æƒ…å†µç”šè‡³æœ‰ç‚¹å¹¼ç¨šäº†ï¼Œå¾ˆæ— å¥ˆï¼Œåº”è¯¥æ›´åŠ å®¢è§‚ä¸€ç‚¹ï¼Œæ—©ç¡äº†ï¼Œä½†è¿˜æ˜¯æ€•æƒ³å¤ªå¤šâ€¦ Day2æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° ä»€ä¹ˆéƒ½ä¸å¤šè¯´äº†ï¼Œåªæ˜¯æ„Ÿè§‰è‡ªå·±å¤ªå¼±äº†ã€‚çœŸçš„ å¤ªå¼±äº† æˆ–è®¸æ›¾ç»å®ˆç€è¿‡å»çš„è£è€€ï¼Œå¦‚ä»ŠçœŸçš„ä»€ä¹ˆéƒ½æ²¡æœ‰äº†ï¼Œæ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° æ˜¨å¤©æ™šä¸Šè¿˜æ˜¯å’Œ $22:00$ å‡ºå¤´ç¡çš„ï¼Œæ—©ä¸Šæœ‰å¾ˆæ—©é†’æ¥ï¼Œæ„Ÿè§‰å¾ˆç´§å¼ ï¼Œä»ç„¶å¾ˆå›°ï¼Œæ´—äº†æŠŠè„¸ï¼Œç¨å¾®æ¸…é†’äº†ä¸€ç‚¹ï¼Œæ—©é¥­æ²¡åƒå¤šå°‘ï¼Œä¸æ˜¯å¾ˆæœ‰èƒƒå£ å…¬äº¤æ²¡æ˜¨å¤©å‡†æ—¶ï¼Œç¨å¾®ç­‰äº†ä¸€ä¼šæ‰ä¸Šï¼Œåˆ°äº†è€ƒåœºå¤§æ¦‚ $8:00$ å¤šäº†ï¼Œå¸å–æ˜¨å¤©çš„æ•™è®­ï¼Œå‡†å¤‡å¥½å¥½æ‰“æš´åŠ› ä¸€å¼€å§‹æœ‰ç‚¹ç€æ€¥ï¼Œæ²¡å»å•æ‰€ï¼Œå¿ƒæ€è¿˜æ˜¯æ¯”è¾ƒå¥½çš„å§ çœ‹çœ‹äº†é¢˜ç›®ï¼Œå®šäº†ä¸ªç›®æ ‡ï¼Œ$A$ æ‰ $T1$ï¼Œç„¶å $T2$ã€$T3$ æš´åŠ›æ‹¿æ»¡å°±æœ‰ $200pts$ äº†ï¼Œè¿™æ ·å†¬ä»¤è¥å°±ç¨å¾®æœ‰ç‚¹å¯èƒ½äº†ï¼Œä½†è²Œä¼¼æˆ‘åˆé”™äº† $T1$ å…ˆæƒ³äº†ä¸€ä¼šï¼Œç„¶åå¼€å§‹æ‰“ï¼Œä¸€ä¸ªå°æ—¶å·¦å³å‘ç°è‡ªå·±çš„æ€è·¯æœ‰é—®é¢˜ï¼Œä¸­æ–­äº†ï¼Œå†æƒ³äº†åŠä¸ªå°æ—¶ï¼Œå¸å–æ•™è®­ï¼Œæ»šå»æ‰“æš´åŠ›äº†ï¼Œä¸€å¼€å§‹ä»¥ä¸º $T3$ æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æ­£ç€åšä¼šè¶Šæ¥è¶Šå®¹æ˜“ï¼Œå¯æ˜¯æ¸æ¸å‘ç°ï¼Œ$T1$ æ²¡æœ‰æƒ³è±¡ä¸­çš„å¥½å†™ï¼Œå›æƒ³ä»¥å‰ï¼Œè²Œä¼¼è‡ªå·±çœŸçš„æ²¡æœ‰æƒ³è¿‡å¦‚æœä¸ä¼šæ­£è§£çš„æƒ…å†µï¼Œä¸€é“ä¹Ÿä¸ä¼šçš„é‚£ç§ï¼Œæ€ä¹ˆå®‰æ’æš´åŠ›çš„æ—¶é—´ï¼Œäºæ˜¯è‡ªå·±å°±ç‚¸äº†ã€‚çœŸçš„çˆ†ç‚¸ã€‚ $T3$ æ‰“äº† $55pts$ çš„æš´åŠ›ï¼Œæ²¡æœ‰ç»§ç»­å¾€ä¸‹æƒ³ï¼Œå› ä¸ºä¸ç”˜å¿ƒ $T1$ï¼Œæˆ–è€…è¯´æˆ‘ä»ç„¶è¢«å»å¹´çš„åˆ†æ•°å½±å“ç€ï¼Œä¸å¤Ÿå®¢è§‚å§ï¼Œè€ƒåœºä¸Šå¿ƒæƒ…å¤æ‚ï¼Œæœ‰ç‚¹å°å°çš„è´ªå¿ƒï¼Œæƒ³è¦æ‹¿æ›´é«˜çš„åˆ†æ•°ï¼Œç»“æœå‘ç°è‡ªå·±æ˜¯çœŸçš„èœï¼Œå¿ƒé‡Œè¿˜æ˜¯å­˜åœ¨ä¸€ç§ä¸æƒ³æ‰“æš´åŠ›çš„å¿ƒç†ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆæƒ³å‡ºæ­£è§£ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆæƒè¡¡æš´åŠ›ä¸æ­£è§£ï¼Œæ˜¯è‡ªå·±å¤ªèœäº†ï¼Œæƒ³ä¸å‡ºæ¥æ­£è§£ï¼Œå´ä»ç„¶å¦‚æ­¤æ‰§ç€äºæ­£è§£ $T3$ å…¶å®æ„Ÿè§‰å¦‚æœæ·±å…¥æ€è€ƒçš„è¯ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæ›¾ç»åœ¨ $Luogu$ ä¸Šçœ‹åˆ°è¿‡ç±»ä¼¼çš„é¢˜ï¼Œä¸è¿‡é‚£é¢˜è²Œä¼¼æ˜¯åŠ¨æ€çš„ï¼Œå°±æ˜¯ ä¸€æ¬¡åˆå¹¶ä¸¤æ£µæ ‘ç»´æŠ¤é‡å¿ƒï¼Œå¿ƒæƒ³ç€æŠŠæš´åŠ›æ‹¿æ»¡å°±å¥½ï¼Œå°±ç¦»æ¢¦æƒ³å¾ˆè¿‘äº†ã€‚ç®—ä¸Šé“¾çš„æƒ…å†µï¼Œå¤§æ¦‚ç”¨äº† $40min$ï¼Œé“¾å¼æ‰‹æ¨çš„ï¼Œå› ä¸ºæ„Ÿè§‰æ­£è§£å°±æ˜¯ç±»ä¼¼äºé“¾çš„æƒ…å†µï¼Œæ²¡æ‰“ç®—æ‹¿æ»¡åˆ†å°±æ²¡æœ‰å®ç°é‚£ç§æ–¹æ³• $T2$ æ‹¿äº† $64pts$ çš„éƒ¨åˆ†åˆ†ï¼Œæ„Ÿè§‰è¿™é“é¢˜ä¹Ÿæ˜¯åŸé¢˜æ”¹ç¼–ï¼Œä¹Ÿåœ¨ $Luogu$ ä¸Šçœ‹åˆ°è¿‡ç±»ä¼¼çš„ï¼Œåªä¸è¿‡ä¸è¦æ±‚å•è°ƒä¸Šå‡è€Œå·²ï¼Œæ„Ÿè§‰è‡ªå·±å¤ªèœäº†ï¼Œæƒ³æ‹¿ $88pts$ çš„ï¼Œå¯æ˜¯åˆæƒ³ä¸å‡ºæ¥ï¼Œå¾ˆå¿«å°±æ”¾å¼ƒäº†ï¼Œä»¥ä¸º $T1$ èƒ½å†™å‡ºæ¥çš„ è¿˜æœ‰ä¸€ä¸ªå°æ—¶çš„æ—¶å€™ï¼Œé‡æ–°å›å»æƒ³ $T1$ï¼Œæœ‰ç‚¹æƒ³ä¸å‡ºæ¥ï¼Œåˆæ”¾å¼ƒäº†ï¼Œä»¥ä¸ºæš´åŠ›æ‹¿æ»¡çš„è¯ä¹Ÿåº”è¯¥æŒºä¸é”™çš„ï¼Œæƒ³ $n\\le40$ çš„æš´åŠ›ã€‚æš´åŠ›è°ƒäº† $40min$ å§ï¼Œæ ·ä¾‹äºŒæ²¡è¿‡ï¼Œå‘ç°è‡ªå·±æ€è·¯çš„æ¼æ´ï¼Œç»æœ›äº†ï¼Œå¿ƒæ€çˆ†ç‚¸ã€‚æƒ³æ”¾å¼ƒï¼Œä½†ä¸ç”˜å¿ƒï¼ŒåŒ†åŒ†æ‰“äº†å››ç»´çš„ $DP$ï¼Œä¸æ•¢æµ‹æ ·ä¾‹ã€‚ç»“æœæœ€å $5$ åˆ†é’Ÿçš„æ—¶å€™ï¼ŒæŠŠå››ç»´ $DP$ åˆ äº†ï¼Œä»¥ä¸ºé‚£ä¸ªé”™è¯¯çš„ç®—æ³•èƒ½æ‹¿æ›´å¤šçš„åˆ†ï¼Œè¿˜éšæ‰‹åŠ äº†ç‚¹ç„å­¦çš„ä¿®æ”¹ï¼Œåº”è¯¥æ˜¯å·²ç»é”™çš„ç¦»è°±äº† $Day2$ï¼ŒçœŸå¿ƒæ€çˆ†ç‚¸äº†ï¼Œæ·±æ·±åœ°æ„Ÿè§‰åˆ°è‡ªå·±çš„å¼±å° å·¨å“¥ $Day1\\ 200pts$ï¼Œ$Day2\\ 203pts$ï¼Œåº”è¯¥ç¨³äº†ï¼Œè¿˜æœ‰ $louhc$ï¼Œä¹Ÿæ¯”æˆ‘é«˜å‡ ååˆ†ï¼Œå¿ƒæ€çˆ†ç‚¸â€¦â€¦ $CSP2019$ å°±ç»“æŸäº†ï¼Œç‚¸äº†ï¼Œæ»šå›å»é¢“æ–‡åŒ–è¯¾â€¦â€¦çœä¸€éƒ½ä¸ä¿äº†å§ï¼Œè°ˆä»€ä¹ˆå†¬ä»¤è¥ï¼Œç¬‘è¯â€¦â€¦ é«˜ä¸­ä¸‰å¹´ï¼Œä»å…¶ä»– $OIer$ é‚£é‡Œå¾—çŸ¥è¦æœ‰è§„åˆ’ï¼Œè€Œæˆ‘åªå¯èƒ½èµ°ä¸¤å¹´çš„ $OI$ è·¯ï¼Œå¦‚ä»Šä¸€æ¬¡å·²ç»åºŸäº†ï¼Œå½“åœ¨ç–¯ç‹‚åŠªåŠ›ä¸€å¹´ï¼Œä¸‹æ¬¡å§ï¼Œè¿™æ ·å¼€å§‹ï¼Œä¸æƒ³è¿˜æ˜¯ä»¥è¿™æ ·ç»“æŸâ€¦â€¦ æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° $2019.11.17$ äºå½’ç¨‹","categories":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/categories/æ¸¸è®°/"}],"tags":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/tags/æ¸¸è®°/"}],"keywords":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/categories/æ¸¸è®°/"}]},{"title":"ã€ŒLuogu P5305ã€[GXOI/GZOI2019]æ—§è¯ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P5305-[GXOIGZOI2019]OldWords-Solution","date":"2019-11-13T23:48:37.000Z","updated":"2019-12-01T07:28:11.524Z","comments":true,"path":"2019/11/14/Luogu_P5305-[GXOIGZOI2019]OldWords-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/14/Luogu_P5305-[GXOIGZOI2019]OldWords-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ ‘é“¾å‰–åˆ†+å·®åˆ† åˆ†æè¿™é“é¢˜çš„åŸºæœ¬æ€è·¯å’Œ $\\mathtt{Link}$ ç›¸åŒï¼Œè€ƒè™‘å¦‚ä½•ç»´æŠ¤ $k$ æ¬¡æ–¹ï¼Œä»ç„¶æŒ‰ç…§åŒæ ·çš„æ€è·¯ï¼Œæ—¢ç„¶æ˜¯ç´¯åŠ çš„å’Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™äº›æ•°çš„ $k$ æ¬¡æ–¹å·®åˆ†ï¼Œç´¯åŠ å³å¯å¾—åˆ°ç»“æœ warningæ³¨æ„å·®åˆ†é¡ºåº Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define p 998244353 #define N 50003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int i,val; node(int a,int b):i(a),val(b){} node(){} }cur; int head[N],ver[N&lt;&lt;1],nxt[N&lt;&lt;1],n,m,t,k,L,R,Ans[N]; int seg[N],top[N],rev[N],Ie[N],f[N&lt;&lt;2],num,sum[N&lt;&lt;2]; int dep[N],son[N],size[N],fa[N],tag[N&lt;&lt;2],ans,pos; queue&lt;node&gt;P[N]; inline int Pw(rll a) { rint b=k;rll res=1; for(;b;b&gt;&gt;=1,a=a*a%p) if(b&amp;1) res=res*a%p; return res; } inline int dec(rint x){return(x&gt;=p)?x-p:x;} inline int rec(rint x){return(x&lt;0)?x+p:x;} inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t, ver[++t]=x,nxt[t]=head[y],head[y]=t; } inline void dfs1(rint k) { rint i,to; dep[k]=dep[fa[k]]+1,size[k]=1; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(to==fa[k]) continue; fa[to]=k,dfs1(to),size[k]+=size[to]; if(size[to]&gt;size[son[k]]) son[k]=to; } } inline void dfs2(rint k) { if(son[k]) { seg[son[k]]=++num, top[son[k]]=top[k], rev[num]=son[k], dfs2(son[k]); } rint i,to; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(top[to]) continue; seg[to]=++num, top[to]=rev[num]=to,dfs2(to); } } inline void built(rint k,rint l,rint r) { if(l==r){sum[k]=Ie[dep[rev[l]]];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,m),built(ls|1,m+1,r), sum[k]=dec(sum[ls]+sum[ls|1]); } inline void push(rint k,rint l,rint r) { f[k]=dec(f[k]+(LL)tag[k]*sum[k]%p); if(l!=r) { rint ls=k&lt;&lt;1; tag[ls]+=tag[k],tag[ls|1]+=tag[k]; }tag[k]=0; } inline void Modify(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R){tag[k]=1;return push(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m),Modify(ls|1,m+1,r), f[k]=dec(f[ls]+f[ls|1]); } inline void Query(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {ans=dec(ans+f[k]);return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query(ls,l,m),Query(ls|1,m+1,r); } #define fx top[x] inline void Add(rint x) { while(fx!=1) { L=seg[fx],R=seg[x], Modify(1,1,n),x=fa[fx]; } L=1,R=seg[x],Modify(1,1,n); } inline int Ask(rint x) { ans=0; while(fx!=1) { L=seg[fx],R=seg[x], Query(1,1,n),x=fa[fx]; } L=1,R=seg[x],Query(1,1,n); return ans; } int main() { rint i,j; n=read(),m=read(),k=read(); for(i=n;i;i--) Ie[i]=Pw(i),Ie[i+1]=rec(Ie[i+1]-Ie[i]);//å·®åˆ†æ˜¯i^k-(i-1)^kçš„å€¼ for(i=2;i&lt;=n;i++) add(read(),i); for(i=1;i&lt;=m;i++) pos=read(),P[pos].push(node(i,read())); num=seg[1]=rev[1]=top[1]=1, dfs1(1),dfs2(1),built(1,1,n); for(i=1;i&lt;=n;i++) { Add(i); while(!P[i].empty()) { cur=P[i].front(),P[i].pop(), Ans[cur.i]=Ask(cur.val); } } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"},{"name":"ç¦»çº¿","slug":"ç¦»çº¿","permalink":"http://hovnySiLenCe.github.io/tags/ç¦»çº¿/"},{"name":"å·®åˆ†","slug":"å·®åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/å·®åˆ†/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP11470ã€TTM - To the moon è§£é¢˜æŠ¥å‘Š","slug":"SP11470-TTM_ToTheMoon-Solution","date":"2019-11-12T10:55:15.000Z","updated":"2019-12-01T07:28:10.252Z","comments":true,"path":"2019/11/12/SP11470-TTM_ToTheMoon-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/12/SP11470-TTM_ToTheMoon-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯å¯æŒä¹…åŒ–çº¿æ®µæ ‘ åˆ†æè¿™é‡Œåªæ˜¯æä¾›å¯æŒä¹…åŒ–çº¿æ®µæ ‘çš„æ¿å­ï¼Œæ€æƒ³å’Œä¸»å¸­æ ‘ç±»ä¼¼ï¼Œæ¯æ¬¡å¯¹ $\\log n$ ä¸ªç‚¹è¿›è¡Œä¿®æ”¹ï¼Œè¿™æ ·å°±éœ€è¦ $n\\log n$ çš„ç©ºé—´ï¼Œå› æ­¤å†™æˆç»“æ„ä½“ï¼Œå¤§å°å¼€æˆ $80n$ ï¼Œåæ­£åªè¦ä¸ $MLE$ å¾€å¤§äº†å¼€å°±å¥½ struct node{ int ls,rs; LL sum,tag; }T[N*160];//80åº”è¯¥ä¹Ÿæ˜¯æ­£ç¡®çš„ warningè¦æ³¨æ„çš„åœ°æ–¹æ˜¯æ ‡è®°æ°¸ä¹…åŒ–ï¼Œä¸ä»…è¦æ ‡è®°æ°¸ä¹…åŒ–ï¼Œè€Œä¸” $T[root].sum$ çš„å€¼ä¹Ÿè¦åšä¸€å®šä¿®æ”¹ï¼ˆæ¯”å¦‚ $root$ è¿™ä¸ªåŒºé—´å®Œå…¨åŒ…å«ä¿®æ”¹åŒºé—´çš„æ—¶å€™ï¼‰ Code#include&lt;bits/stdc++.h&gt;//å¤§è‡´ä¸Šå’Œä¸»å¸­æ ‘ç±»ä¼¼ï¼Œemmm...è²Œä¼¼ä¸»å¸­æ ‘å°±æ˜¯å¯æŒä¹…åŒ–çº¿æ®µæ ‘... #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline LL read() { rll s=0,p=0; rgt char c=getchar(); while(!isdigit(c)) p=(c==&#39;-&#39;),c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return p?-s:s; } inline void getc(char&amp;c) { c=getchar();while(c&lt;&#39;A&#39;||c&gt;&#39;Z&#39;) c=getchar(); } struct node{ int ls,rs; LL sum,tag; }T[N*160]; int n,m,L,R,t,res,a[N],root[N];LL w,ans; inline void built(rint k,rint l,rint r) { cmax(t,k); if(l==r) {T[k].sum=a[l];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(T[k].ls=ls,l,m),built(T[k].rs=ls|1,m+1,r), T[k].sum=T[ls].sum+T[ls|1].sum; } inline void Modify(rint l,rint r,rint &amp;x,rint y) { if(r&lt;L||R&lt;l) return; x=++t,T[t]=T[y]; if(L&lt;=l&amp;&amp;r&lt;=R) {T[x].tag+=w;return;} T[t].sum+=w*(min(r,R)-max(l,L)+1);//åˆ’é‡ç‚¹ï¼Œæ ‡è®°æ°¸ä¹…åŒ–çš„å½±å“ rint m=(l+r)&gt;&gt;1; Modify(l,m,T[x].ls,T[y].ls), Modify(m+1,r,T[x].rs,T[y].rs); } inline void push(rll tag,rint l,rint r) { ans+=(min(R,r)-max(L,l)+1)*tag; } inline void Query(rint l,rint r,rint root) { if(r&lt;L||R&lt;l) return; if(T[root].tag) push(T[root].tag,l,r);//åˆ’é‡ç‚¹ï¼Œæ ‡è®°æ°¸ä¹…åŒ–çš„å½±å“ if(L&lt;=l&amp;&amp;r&lt;=R) {ans+=T[root].sum;return;} rint m=(l+r)&gt;&gt;1; Query(l,m,T[root].ls),Query(m+1,r,T[root].rs); } int main() { rint i;char op; n=read(),m=read(); for(i=1;i&lt;=n;i++) a[i]=read(); built(1,1,n),root[0]=1; while(m--) { getc(op); if(op==&#39;C&#39;) { L=read(),R=read(),w=read(),++res; Modify(1,n,root[res],root[res-1]); } else if(op==&#39;Q&#39;) ans=0,L=read(),R=read(),Query(1,n,root[res]),printf(&quot;%lld\\n&quot;,ans); else if(op==&#39;H&#39;) ans=0,L=read(),R=read(),Query(1,n,root[read()]),printf(&quot;%lld\\n&quot;,ans); else res=read(); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"å¯æŒä¹…åŒ–çº¿æ®µæ ‘","slug":"å¯æŒä¹…åŒ–çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/å¯æŒä¹…åŒ–çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4198ã€æ¥¼æˆ¿é‡å»º è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4198-BuildingReconstruction-Solution","date":"2019-11-12T07:36:04.000Z","updated":"2019-12-01T07:28:25.588Z","comments":true,"path":"2019/11/12/Luogu_P4198-BuildingReconstruction-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/12/Luogu_P4198-BuildingReconstruction-Solution/","excerpt":"","text":"é¢˜é¢ç»™å‡ºé•¿åº¦ä¸º $n$ çš„åºåˆ—ï¼Œ$q$ æ¬¡ä¿®æ”¹ï¼Œæ±‚æ¯æ¬¡ä¿®æ”¹é¦–é¡¹å›ºå®šçš„æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦ï¼Œ$n,q\\le 10^5$ è§£é¢˜æ€è·¯çº¿æ®µæ ‘ï¼ˆåˆå¹¶è¾ƒéš¾ï¼‰ åˆ†ææ„Ÿè§‰æœ‰ç‚¹åƒçº¿æ®µæ ‘ï¼Œä½†æ˜¯çº¿æ®µæ ‘ç»´æŠ¤çš„è¯ï¼Œåˆå¹¶çš„æ—¶å€™è²Œä¼¼ä¸èƒ½ $O(1)$ï¼Œç„¶åå°±æ”¾å¼ƒäº† ç»“æœï¼Œæ­£è§£åˆå¹¶å°±æ˜¯ $\\log$ çš„â€¦â€¦æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° è¿™æ ·å­çš„è¯ï¼Œå°±æ˜¯å¯ä»¥ç»™æˆ‘ä»¬è¦ç»´æŠ¤çš„åŒºé—´æ‰¾ä¸€æ‰¾ç›¸åŒç‚¹æˆ–è€…ä¸åŒç‚¹ï¼Œæ¯”å¦‚æˆ‘ä»¬å‘ç°ä¸€å¼€å§‹çš„åŒºé—´ï¼Œå¦‚æœæœ‰å»ºç­‘ï¼Œé‚£ä¹ˆè¿™ä¸ªå»ºç­‘æ˜¯è‚¯å®šè¦é€‰çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå¯ä»¥è®¤ä¸ºå°±æ˜¯æŸä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹å¿…é¡»é€‰ï¼Œå› ä¸ºè‚¯å®šæ˜¯çœ‹å¾—åˆ°ç¬¬ä¸€å¹¢å»ºç­‘çš„ï¼Œé‚£ä¹ˆç”±äºè¿™ä¸ªç‰¹æ®Šæ€§è´¨å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬è€ƒè™‘èƒ½ä¸èƒ½è®©æ‰€æœ‰åŒºé—´éƒ½å¸¦ä¸Šè¿™ä¸ªæ€§è´¨ï¼Œæ€è€ƒä¹‹åå¯ä»¥å‘ç°ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”ç»è¿‡è¿™æ ·çš„å¤„ç†ï¼Œå°±ä¸ç”¨å»ç®¡ç¬¬ä¸€ä¸ªç‚¹å¿…é¡»é€‰çš„ç‰¹æ®Šæ€§äº† å†è€ƒè™‘å“ªäº›ä¿¡æ¯æœ‰ç”¨ï¼ŒåŒºé—´ä¸­çš„æœ€å¤§å€¼ $fa[k]$ æ˜¯éœ€è¦çš„ï¼Œå› ä¸ºè¯¥åŒºé—´ä¸­çš„åˆæ³•åºåˆ—è‚¯å®šä»¥è¯¥å€¼ç»“å°¾ï¼Œå½“ç„¶è¿˜è¦ä¸€ä¸ª $f[k]$ è®°å½•å½“å‰åŒºé—´çš„æœ€é•¿åºåˆ—çš„é•¿åº¦ è€ƒè™‘å¦‚ä½•åˆå¹¶ç­”æ¡ˆï¼Œ$fa[k]$ çš„åˆå¹¶è¾ƒç®€å•ï¼Œ$O(1)$ è½¬ç§»å³å¯ï¼ˆå¦‚æœæœ‰ä¸ä¼šçš„â€¦â€¦ï¼Œé—®é¢˜åœ¨äºå¦‚ä½•å¯¹ $f[k]$ è¿›è¡Œåˆå¹¶ å…ˆæšä¸¾å‡ ç§æƒ…å†µï¼Œ $fa[ls]\\ge fa[rs]$ï¼Œå·¦åŒºé—´çš„æœ€å¤§å€¼æ¯”å³åŒºé—´çš„å¤§ï¼Œå³åŒºé—´æ— è´¡çŒ®ï¼Œæ•… f[k]=f[ls] $fa[ls]&lt;a[m+1]$ï¼Œå·¦åŒºé—´çš„æœ€å¤§å€¼å°äºå³åŒºé—´çš„å·¦ç«¯ç‚¹ï¼Œå³åŒºé—´éƒ½æœ‰è´¡çŒ®ï¼Œæ•… f[k]=f[ls]+f[rs] $a[m+1]\\le fa[ls]&lt; fa[rs]$ï¼Œä¹Ÿå°±æ˜¯ä¸¤åŒºé—´çš„åºåˆ—æœ‰äº¤å‰çš„éƒ¨åˆ†ï¼Œæ­¤æ—¶è¦è®¡ç®—è´¡çŒ®ï¼Œåªèƒ½ç”¨ $\\log n$ å¼é€’å½’æŸ¥è¯¢ å¤„ç†ä¸Šè¿°æœ€åä¸€ç§æƒ…å†µï¼Œå³æŸ¥è¯¢å³åŒºé—´ä¸­èŒƒå›´åœ¨ $fa[ls]$~$fa[rs]$ çš„éƒ¨åˆ† æœ€å¤§é™åˆ¶ä¸ç”¨ç®¡ï¼Œè‚¯å®šèƒ½æ»¡è¶³ï¼Œå°±è€ƒè™‘æœ€å°é™åˆ¶ $fa[ls]$ï¼Œè®°ä¸º $val$ï¼Œè€ƒè™‘å¦‚ä½•é€’å½’è®¡ç®— è‹¥ä¸€ä¸ªåŒºé—´çš„æœ€å¤§å€¼ $fa[k]\\le val$ ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒºé—´æ²¡æœ‰è´¡çŒ® return 0 è‹¥ä¸€ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹ $a[l]&gt;val$ï¼Œé‚£ä¹ˆæ•´ä¸ªåŒºé—´éƒ½æœ‰è´¡çŒ® return f[k] è‹¥åªæœ‰ä¸€ä¸ªç‚¹ï¼Œå³é€’å½’è¾¹ç•Œï¼Œåˆ™ return a[l]&gt;val ä¸Šè¿°æƒ…å†µéƒ½ä¸æ»¡è¶³ï¼Œä½†è‹¥å·¦åŒºé—´çš„æœ€å¤§å€¼ $fa[k]&gt;val$ï¼Œè¯´æ˜æœ‰ä¸€éƒ¨åˆ†è´¡çŒ®åœ¨å·¦åŒºé—´ï¼Œé€’å½’å·¦åŒºé—´ï¼ŒåŠ ä¸Šå³åŒºé—´ return Query(ls,l,m)+f[k]-f[ls|1] (å³åŒºé—´å¾ˆå¦™) å¦åˆ™å°±è¯´æ˜è´¡çŒ®åœ¨å³åŒºé—´ï¼Œé€’å½’å³åŒºé—´å³å¯ return Query(ls|1,m+1,r) å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥åœ¨ $O(q\\log^2n)$ å¤æ‚åº¦å†…æ±‚è§£ warning1ã€$Updata$ çš„é€’å½’è¾¹ç•Œä¸€å®šè¦åˆ¤ 2ã€å³åŒºé—´å¯ä»¥ç”± f[k]-f[ls] å¾—ï¼ŒçœŸçš„å¾ˆå¦™ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,T,pos,f[N&lt;&lt;2]; double a[N],fa[N&lt;&lt;2],val; inline int Query(rint k,rint l,rint r) { if(fa[k]&lt;=val) return 0;//æœ€å¤§å€¼å°äºval if(a[l]&gt;val) return f[k];//valå°äºå·¦ç«¯ç‚¹ if(l==r) return 0;//é€’å½’è¾¹ç•Œ rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; if(val&lt;fa[ls]) return Query(ls,l,m)+f[k]-f[ls];//valåœ¨å·¦åŒºé—´æœ‰è´¡çŒ® return Query(ls|1,m+1,r);//åœ¨å·¦åŒºé—´æ— è´¡çŒ® } inline void Modify(rint k,rint l,rint r) { if(l==r) {fa[k]=a[l],f[k]=(a[l]!=0);return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1,rs=ls|1; (pos&lt;=m)?Modify(ls,l,m):Modify(rs,m+1,r); if(fa[ls]&gt;=fa[rs]) fa[k]=fa[ls],f[k]=f[ls];//åªæœ‰å·¦åŒºé—´æœ‰è´¡çŒ® else { fa[k]=fa[rs]; if(fa[ls]&lt;a[m+1]) f[k]=f[ls]+f[rs];//å·¦å³åŒºé—´è´¡çŒ®ä¸é‡å  else val=fa[ls],f[k]=f[ls]+Query(rs,m+1,r);//è¦é€’å½’æ±‚çš„éƒ¨åˆ† } } int main() { n=read(),T=read(); while(T--) { pos=read(),a[pos]=(double)read()/pos; Modify(1,1,n),printf(&quot;%d\\n&quot;,f[1]); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4211ã€[LNOI2014]LCA è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4211-[LNOI2014]LCA-Solution","date":"2019-11-11T23:25:15.000Z","updated":"2019-12-01T07:28:25.180Z","comments":true,"path":"2019/11/12/Luogu_P4211-[LNOI2014]LCA-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/12/Luogu_P4211-[LNOI2014]LCA-Solution/","excerpt":"","text":"é¢˜é¢ä¸€æ£µ $n(n\\le 5\\times 10^4)$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œ$q(q\\le5\\times 10^4)$ æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—® $[l,r]$ åŒºé—´ä¸­æ‰€æœ‰ç‚¹å’Œ $z$ çš„å…¬å…±ç¥–å…ˆçš„æ·±åº¦å’Œï¼Œå³ï¼š \\sum_{l\\le i\\le r}dep[LCA(i,z)]è§£é¢˜æ€è·¯ç¦»çº¿åç”¨æ ‘å‰–+çº¿æ®µæ ‘ç»´æŠ¤ çœŸçš„ä¸è¦å¾€ $Lca$ é‚£æ–¹é¢æƒ³ï¼Œè™½ç„¶è²Œä¼¼æœ‰å·¨ä½¬é‚£æ ·åˆ‡æ‰äº† åˆ†æä¸éš¾å‘ç°ï¼Œä¸€ä¸ªç‚¹ $i$ çš„æ·±åº¦å¯ä»¥ç”¨ $dis(i,root)+1$ çš„è¡¨ç¤ºï¼Œè€Œä¸¤ä¸ªç‚¹çš„ $Lca$ åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„åˆæ˜¯ä¸€è‡´çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠä¸€ä¸ªç‚¹åˆ° $root$ è·¯å¾„ä¸Šçš„æ‰€æœ‰ç‚¹æƒå€¼ $+1$ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯ä»¥è¡¨ç¤ºä¸€ä¸ªç‚¹åšå‡ºçš„è´¡çŒ®äº†ã€‚è¿™æ ·æŸ¥è¯¢æ—¶ï¼Œä¸¤ç‚¹ $Lca$ åˆ°æ ¹èŠ‚ç‚¹è·¯å¾„ä¸Šçš„æƒå€¼ä¼šè¢«è®¡ç®—è´¡çŒ®ï¼Œè€Œå…¶ä»–çš„æ²¡æœ‰å½±å“ï¼Œè¿™æ ·å°±å»é™¤äº† $Lca$ çš„å½±å“ ç„¶é¹…ç°åœ¨æ˜¯ä¸€ä¸ªåŒºé—´ $[l,r]$ ä¸èŠ‚ç‚¹ $z$ çš„ $dep[Lca(i,z)]$ ä¹‹å’Œã€‚æ˜¾ç„¶ï¼Œå¦‚æœèƒ½å¾—å‡ºä¸€ä¸ªå‰ç¼€ç­”æ¡ˆçš„è¯ï¼Œ$[l,r]$ çš„è´¡çŒ®å³å¯è¡¨ç¤ºä¸º $ans(r)-ans(l-1)$ï¼Œèƒ½å¤§å¤§é™ä½å¤æ‚åº¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‰ $id$ çš„é¡ºåºä¿®æ”¹ç‚¹åˆ° $root$ çš„è·¯å¾„çš„æƒå€¼ï¼Œå¯¹äºè¯¢é—®åˆ™æŠŠæ¯ä¸ªè¯¢é—®æ‹†æˆä¸¤ä¸ªç‚¹ï¼Œç¦»çº¿å¤„ç†å³å¯ æ›´æ–°æŸç‚¹åˆ° $root$ è·¯å¾„ä¸Šç‚¹çš„æƒå€¼å¯ä»¥ç”¨æ ‘é“¾å‰–åˆ†ç»´æŠ¤ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n\\log^2n)$ï¼ŒåŠ ä¹‹æ ‘é“¾å‰–åˆ†ä¼˜ç§€çš„å¸¸æ•°ï¼Œè¿™é“é¢˜å°±å¾ˆæ˜¾ç„¶äº† warningç”±äºé¢˜ä¸­éœ€è¦å–æ¨¡ï¼Œå› æ­¤ $ans(r)-ans(l-1)$ çš„å€¼å¯èƒ½ä¸ºè´Ÿæ•° Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define N 50003 using namespace std; const int p=201314; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int op,pos,val; node(int a,int b,int c):op(a),pos(b),val(c){} node(){} }cur; int head[N],n,m,t,ver[N],nxt[N],num,ans; int seg[N],rev[N],top[N],f[N&lt;&lt;2],tag[N&lt;&lt;2]; int deep[N],size[N],son[N],fa[N],L,R,Ans[N]; queue&lt;node&gt;P[N]; inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline int dec(rint x){return(x&gt;=p)?x-p:x;} inline int rec(rint x){return(x&lt;0)?x+p:x;} inline void dfs1(rint k) { rint i,to; deep[k]=deep[fa[k]]+1,size[k]=1; for(i=head[k];i;i=nxt[i]) { to=ver[i],fa[to]=k,dfs1(to), size[k]+=size[to]; if(size[to]&gt;size[son[k]]) son[k]=to; } } inline void dfs2(rint k) { if(son[k]) { seg[son[k]]=++num, top[son[k]]=top[k], rev[num]=son[k], dfs2(son[k]); } rint i,to; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(top[to]) continue; seg[to]=++num,top[to]=rev[num]=to,dfs2(to); } } inline void push(rint k,rint l,rint r) { f[k]=(f[k]+(LL)(r-l+1)*tag[k])%p; if(l!=r) { rint ls=k&lt;&lt;1; tag[ls]+=tag[k],tag[ls|1]+=tag[k]; }tag[k]=0; } inline void Modify(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]=1;return push(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m),Modify(ls|1,m+1,r); f[k]=dec(f[ls]+f[ls|1]); } inline void Query(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {ans=(ans+f[k])%p;return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query(ls,l,m),Query(ls|1,m+1,r); } #define fx top[x] inline void Add(rint x) { while(fx!=1) { L=seg[fx],R=seg[x], Modify(1,1,n),x=fa[fx]; } L=1,R=seg[x],Modify(1,1,n); } inline int Ask(rint x) { ans=0; while(fx!=1) { L=seg[fx],R=seg[x], Query(1,1,n),x=fa[fx]; } L=1,R=seg[x],Query(1,1,n); return ans; } int main() { rint i,l,r,op,pos,val; n=read(),m=read(); for(i=2;i&lt;=n;i++) add(read()+1,i); for(i=1;i&lt;=m;i++) { l=read(),r=read()+1,val=read()+1; P[l].push(node(0,i,val)),//æ¯ä¸ªè¯¢é—®æ‹†æˆä¸¤ä¸ª P[r].push(node(1,i,val)); } num=seg[1]=rev[1]=top[1]=1,dfs1(1),dfs2(1);//æ ‘å‰– for(i=1;i&lt;=n;i++) { Add(i);//ç¬¬iä¸ªç‚¹çš„è´¡çŒ® while(!P[i].empty()) { cur=P[i].front(),P[i].pop(); op=cur.op,pos=cur.pos,val=cur.val; if(op) Ans[pos]+=Ask(val);//æŒ‰ç…§å·¦å³ç«¯ç‚¹ï¼Œè®¡ç®—è´¡çŒ® else Ans[pos]-=Ask(val); } } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,rec(Ans[i]));//æ³¨æ„å¯èƒ½ä¸ºè´Ÿæ•° return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"},{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"},{"name":"ç¦»çº¿","slug":"ç¦»çº¿","permalink":"http://hovnySiLenCe.github.io/tags/ç¦»çº¿/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P5304ã€[GXOI/GZOI2019]æ—…è¡Œè€… è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P5304-[GXOIGZOI]Traveler-Solution","date":"2019-11-11T11:31:41.000Z","updated":"2019-12-01T07:28:11.972Z","comments":true,"path":"2019/11/11/Luogu_P5304-[GXOIGZOI]Traveler-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/11/Luogu_P5304-[GXOIGZOI]Traveler-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯ä¸¤éDijkstraæŸ“è‰² è¯´å‡ å¥é—²è¯æœ€è¿‘å‡ å¤©çŠ¶æ€ä¸æ˜¯å¾ˆå¥½ï¼Œæƒ³é¢˜ç›®ä¹Ÿæ²¡ä»€ä¹ˆæ€è·¯ï¼Œæ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° åˆ†æ $O(n\\log^2n)$ ç®—æ³• ç”±äºè·ç¦»æœ€è¿‘çš„ç‚¹ä¹‹é—´ï¼ŒäºŒè¿›åˆ¶è‚¯å®šæœ‰ä¸€ä½ä¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠç‚¹æŒ‰ç…§äºŒè¿›åˆ¶ä½ä¸º $1/0$ åˆ†æˆä¸¤ç»„ï¼Œç„¶ååš $\\log k$ æ¬¡å¤šæºå¤šæ±‡æœ€çŸ­è·¯å³å¯ï¼Œè¿™æ ·çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(n\\log^2n)$ $O(n\\log n)$ ç®—æ³• ä¸ªäººè®¤ä¸ºè¿™ç§ç®—æ³•å‰é¢çš„æ›´åŠ å¥½æƒ³ï¼Œä½†æ˜¯æ²¡æœ‰ä¸Šè€…æ¥çš„å¦™ï¼Œè¿™ç§ç®—æ³•çš„æ€è·¯æ˜¯ï¼Œæšä¸¾æœ€çŸ­è·¯ç»è¿‡çš„ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦é¢„å¤„ç†ç¦»è¿™æ¡è¾¹ä¸¤ç«¯æœ€è¿‘çš„ç‚¹ï¼Œè¿™ä¸ªç”¨ä¸¤é $Dijkstra$ï¼Œä¸€éå»ºæ­£è¾¹ï¼Œä¸€éå»ºåè¾¹ï¼Œç„¶åè®°å½•ç¦»æ¯ä¸ªç‚¹æœ€è¿‘çš„æ„Ÿå…´è¶£çš„åŸå¸‚ç”¨äºä¹‹ååˆ¤æ–­å³å¯ Code$O(n\\log^2n)\\ version:$ #include&lt;bits/stdc++.h&gt; #define getchar() *(pos++) #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 500003 #define N 100003 using namespace std; char bf[1&lt;&lt;25],*pos=bf; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct Edge{ int to,nxt,cost; Edge(int a,int b,int c):to(a),nxt(b),cost(c){} Edge(){} }b[M]; struct node{ int p;LL cost; node(int a,rll b):p(a),cost(b){} node(){} inline bool operator&lt; (const node x) const{ return cost&gt;x.cost; } }; int head[N],n,m,T,t,K,a[N],num,E[N]; LL d[N],ans;bool vis[N]; inline void add(rint x,rint y,rint cost) { b[++t]=Edge(y,head[x],cost),head[x]=t; } inline void DS() { rint i,to,cur;rll cost; priority_queue&lt;node&gt;p; memset(vis,0,n+1), memset(d,inf,(n+1)&lt;&lt;3); for(i=1;i&lt;=K;i++) if(E[a[i]]-1) p.push(node(a[i],0)),d[a[i]]=0; while(!p.empty()) { cur=p.top().p,p.pop(); if(E[cur]==1) return cmin(ans,d[cur]),void(); if(vis[cur]) continue;vis[cur]=1; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to,cost=b[i].cost+d[cur]; if(d[to]&gt;cost) d[to]=cost,p.push(node(to,cost)); } } } inline void DE() { rint i,to,cur;rll cost; priority_queue&lt;node&gt;p; memset(vis,0,n+1), memset(d,inf,(n+2)&lt;&lt;3); for(i=1;i&lt;=K;i++) if(E[a[i]]==1) p.push(node(a[i],0)),d[a[i]]=0; while(!p.empty()) { cur=p.top().p,p.pop(); if(E[cur]==2) return cmin(ans,d[cur]),void(); if(vis[cur]) continue;vis[cur]=1; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to,cost=b[i].cost+d[cur]; if(d[to]&gt;cost) d[to]=cost,p.push(node(to,cost)); } } } int main() { bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;; rint i,x,y,cost,c;T=read(); while(T--) { n=read(),m=read(),K=read(), t=0,ans=1e16,memset(head,0,(n+1)&lt;&lt;2); for(i=1;i&lt;=m;i++) { x=read(),y=read(),cost=read(); if(x==y) continue; add(x,y,cost); } for(i=1;i&lt;=K;i++) a[i]=read(); for(c=1;c&lt;=K;c&lt;&lt;=1) {//æ¯ä½åšä¸€ä¸ªå¤šæºå¤šæ±‡æœ€çŸ­è·¯ num=K; for(i=1;i&lt;=K;i++) if(i&amp;c) E[a[i]]=1,--num; else E[a[i]]=2; if(0&lt;num&amp;&amp;num&lt;K) DS(),DE(); }memset(E,0,(n+1)&lt;&lt;2); printf(&quot;%lld\\n&quot;,ans); } } $O(n\\log n)\\ version:$ #include&lt;bits/stdc++.h&gt; #define getchar() *(pos++) #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x3f3f3f3f #define M 500003 #define N 100003 using namespace std; char bf[1&lt;&lt;25],*pos=bf; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct RealEdge{ int x,y,cost; }E[M]; struct Edge{ int to,nxt,cost; Edge(int a,int b,int c):to(a),nxt(b),cost(c){} Edge(){} }b[M]; struct node{ int p;LL cost; node(int a,rll b):p(a),cost(b){} inline bool operator&lt; (const node x) const{ return cost&gt;x.cost; } }; int head[N],T,t,n,m,k,res,a[N],bl[2][N]; LL d[2][N],ans;bool vis[N]; inline void add(rint x,rint y,rint cost) { b[++t]=Edge(y,head[x],cost),head[x]=t; } inline void Dijkstra(rll *d,rint *bl) { rint i,to,c;rll cost; priority_queue&lt;node&gt;p; memset(d,inf,(n+1)&lt;&lt;3), memset(vis,0,n+1); for(i=1;i&lt;=k;i++) p.push(node(a[i],0)),d[a[i]]=0,bl[a[i]]=a[i]; while(!p.empty()) { c=p.top().p,p.pop(); if(vis[c]) continue;vis[c]=1; for(i=head[c];i;i=b[i].nxt) { to=b[i].to,cost=d[c]+b[i].cost; if(d[to]&gt;cost)//æŸ“è‰²ï¼Œå³è®°å½•æœ‰å“ªä¸ªæ„Ÿå…´è¶£çš„åŸå¸‚æ›´æ–°è€Œæ¥ d[to]=cost,bl[to]=bl[c],p.push(node(to,cost)); } } } int main() { bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;; rint i,x,y,cost;T=read(); while(T--) { n=read(),m=read(),k=read(),ans=1e16, res=t=0,memset(head,0,(n+1)&lt;&lt;2); for(i=1;i&lt;=m;i++) { x=read(),y=read(),cost=read(); if(x==y) continue;add(x,y,cost); E[++res].x=x,E[res].y=y,E[res].cost=cost; } for(i=1;i&lt;=k;i++) a[i]=read(); Dijkstra(d[0],bl[0]);//è·‘æ­£å‘å¤šæºæœ€çŸ­è·¯ memset(head,0,(n+1)&lt;&lt;2),t=0; for(i=1;i&lt;=res;i++) add(E[i].y,E[i].x,E[i].cost); Dijkstra(d[1],bl[1]);//åå‘ for(i=1;i&lt;=res;i++) { x=E[i].x,y=E[i].y,cost=E[i].cost;//æœ€ååˆ¤æ–­ä¸€ä¸‹å³å¯ if(bl[0][x]!=bl[1][y]) cmin(ans,d[0][x]+d[1][y]+cost); }printf(&quot;%lld\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Dijkstra","slug":"Dijkstra","permalink":"http://hovnySiLenCe.github.io/tags/Dijkstra/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUVA12716ã€GCDç­‰äºXOR GCD XOR è§£é¢˜æŠ¥å‘Š","slug":"UVa12716-GCDEqualToXOR_GCD_XOR-Solution","date":"2019-11-10T11:40:25.000Z","updated":"2019-12-19T12:43:19.934Z","comments":true,"path":"2019/11/10/UVa12716-GCDEqualToXOR_GCD_XOR-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/10/UVa12716-GCDEqualToXOR_GCD_XOR-Solution/","excerpt":"","text":"é¢˜é¢æ±‚èŒƒå›´ $n$ ä»¥å†…ï¼ŒXOR $=$ GCD çš„æ•°çš„å¯¹æ•°ï¼Œ$n\\in [1,3\\times 10^7]$ å³ï¼š \\sum_{a=1}^n\\sum_{b=1}^a[\\gcd(a,b)=xor(a,b)]è§£é¢˜æ€è·¯æ•°å­¦æ¨ç†+æš´åŠ›æšä¸¾ è¯´å‡ å¥é—²è¯ä¸€å¼€å§‹å¯¹è¿™é“é¢˜æ²¡ä»€ä¹ˆæ€è·¯ï¼Œä»¥ä¸ºæ˜¯ä¸€ä¸ªå’ŒäºŒè¿›åˆ¶æ•°æœ‰å…³çš„ $DP$ï¼ŒçŒœæµ‹å¤æ‚åº¦æ˜¯ $O(n\\log n)$ï¼Œç„¶åå°±å‘ç°è²Œä¼¼è‡ªå·±ï¼Œå“ªé‡Œæ¨ä¸å‡ºæ¥ï¼Œäºæ˜¯åªå¥½ç‚¹å¼€ä¸€ä¸ªå«åšé¢˜è§£çš„ä¸œè¥¿ ç»è¿‡ä¸‰å¤©çš„æ€è€ƒæ— æœä¹‹åï¼Œç‚¹å¼€é¢˜è§£ï¼Œç»“æœå‘ç°å’Œè‡ªå·±çš„æ€è·¯æˆªç„¶ä¸åŒï¼Œ æ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° åˆ†ææ±‚ $\\gcd(a,b)=xor(a,b)$ï¼Œé‚£ä¹ˆå…ˆçœ‹çœ‹è¿™ä¸¤ä¸ªæ•°æœ‰ä»€ä¹ˆé™åˆ¶æˆ–è€…è”ç³» é¦–å…ˆ $gcd(a,b)\\le min(a,b)$ï¼Œåˆæœ‰ $xor(a,b)$ çš„èŒƒå›´æŒºå¹¿çš„ï¼Œæ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œçœ‹æ¥è¿™æ ·ä¸è¡Œ å†å°è¯•ä¸€ä¸‹ $a-b(a&gt;=b)$ å’Œ $xor(a,b)$ çš„å¤§å°å…³ç³»ï¼Œä¸éš¾å‘ç° $a-b\\le xor(a,b)=gcd(a,b)$ ç”±è¾—è½¬ç›¸é™¤æ³•ï¼Œå¯çŸ¥ $a-b\\ge xor(a,b)=\\gcd(a,b)$ ä¹Ÿå°±è¯´ $a-b=\\gcd(a,b)=xor(a,b)$ï¼Œç”¨ $c$ è¡¨ç¤ºä¸Šå¼ å°±æœ‰ $a=b+c$ï¼Œè€Œ $b=kc$ ï¼Œæ‰€ä»¥ $a=(k+1)c$ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯åªè¦æšä¸¾ $c$ï¼Œç„¶åç´¯åŠ ä¸Šå»å°±å¥½äº†ï¼Œè¿™æ ·æœ€åå†ç”¨å‰ç¼€å’Œè®°å½•ä¸€ä¸‹å³å¯ï¼Œå¦‚æœ $c$ ä¸æšä¸¾ $1$ï¼Œé‚£ä¹ˆå®é™…ç†è®ºå¤æ‚åº¦å°±æ˜¯ $O(n\\log n)$ï¼Œå’ŒçŒœçš„ä¸€æ · ä½†æ˜¯ï¼Œè¿™ä¹ˆç®€å•æˆ‘è¿˜æ˜¯æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œæ·±æ·±åœ°æ˜ç™½è‡ªå·±çš„å¼±å° warningæ³¨æ„å¼‚æˆ–çš„ä¼˜å…ˆçº§ä½äºç­‰å· Code#include&lt;bits/stdc++.h&gt;//æ²¡æœ‰æ˜¾ç¤ºç»“æœï¼ŒLuoguçš„Romote Judgeè²Œä¼¼é”…äº† #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 30000007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n;LL Ans[N+3]; int main() { rint i,j;n=read(); for(i=1;i&lt;=N;i++) {//å¾ˆç®€å•çš„æ ¸å¿ƒä»£ç  for(j=i;j+i&lt;=N;j+=i) if((j^(j+i))==i) ++Ans[j+i];//æ³¨æ„åŠ æ‹¬å· Ans[i]+=Ans[i-1]; } for(i=1;i&lt;=n;i++) printf(&quot;Case %d: %lld\\n&quot;,i,Ans[read()]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒAT3913ã€XOR Tree è§£é¢˜æŠ¥å‘Š","slug":"AT3913-XOR_Tree-Solution","date":"2019-11-09T13:14:02.000Z","updated":"2019-12-01T08:47:07.079Z","comments":true,"path":"2019/11/09/AT3913-XOR_Tree-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/09/AT3913-XOR_Tree-Solution/","excerpt":"","text":"é¢˜é¢ç»™å®š $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ¯æ¡è¾¹æœ‰æƒå€¼ $val_i\\in[1,15]$ æ¯æ¬¡æ“ä½œå¯ä»¥é€‰ä¸€æ¡è·¯å¾„å¼‚æˆ–ä¸Šä¸€ä¸ªæ•°ï¼Œæœ€å°åŒ–æ“ä½œæ¬¡æ•° è§£é¢˜æ€è·¯è½¬è¾¹æƒä¸ºç‚¹æƒï¼Œç„¶åçŠ¶å‹DP åˆ†æé¦–å…ˆï¼Œå¦‚æœè¾¹æƒå°±æœ‰ç‚¹å¤æ‚äº†ï¼Œè€ƒè™‘å¦‚ä½•æŠŠè¾¹æƒè½¬åŒ–ä¸ºç‚¹æƒï¼Œä¸éš¾å‘ç°ï¼Œå¯¹äºä¸€æ¡è·¯å¾„ä¸­å‡ºäº†ä¸¤ç«¯çš„ç‚¹ï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰ä¸¤ä¸¤æ¡è¾¹ä¸ä¹‹ç›¸è¿ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¾¹æƒè½¬æ¢ä¸ºç‚¹æƒï¼Œæ¯ä¸ªç‚¹çš„æƒå€¼å³ä¸ºæ‰€æœ‰ä¸ä¹‹ç›¸è¿çš„è¾¹æƒå€¼çš„å¼‚æˆ–å’Œï¼Œè¿™æ ·çš„è¯ï¼Œå¯¹ä¸€æ¡è·¯å¾„è¿›è¡Œæ“ä½œå°±å˜æˆäº†å¯¹ä¸¤ä¸ªç‚¹è¿›è¡Œæ“ä½œã€‚åˆå› ä¸ºæ‰€æœ‰æƒå€¼çš„å¤§å°ä¸è¶…è¿‡ $15$ï¼ŒèŒƒå›´å¾ˆå°ï¼Œæˆ‘ä»¬åªè¦å¼€ä¸ªæ¡¶è®°å½•ä¸€ä¸‹ï¼Œæƒå€¼ç›¸åŒçš„ä¸¤ä¸¤åšä¸€æ¬¡æ“ä½œå³å¯ï¼Œè¿™æ ·å‰©ä¸‹æ¥ä¸ä¸º $0$ çš„ç‚¹çš„æ•°é‡å°±ä¸è¶…è¿‡ $15$ ä¸ªäº†ï¼Œä½¿ç”¨å„ç§å¥‡æ·«å·§æŠ€éƒ½å¯ä»¥å†™è¿‡å»ï¼ˆå½“ç„¶æ˜¯æ®è¯´ ç”¨çŠ¶å‹ $DP$ å¯ä»¥è§£å†³ï¼Œ$f[i]$ è¡¨ç¤ºçŠ¶æ€ä¸º $i$ æ—¶çš„æœ€å°æ¬¡æ•°ï¼Œå½“ç„¶ $i$ éœ€è¦æ˜¯ä¸€ä¸ªå¼‚æˆ–å¯ä»¥ä¸º $0$ çš„çŠ¶æ€ï¼Œæ¯ä¸ª $i$ å¯ä»¥ä»å­é›†è½¬ç§»è¿‡æ¥ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100007 using namespace std; const int T=1&lt;&lt;15; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,t,d[N],sum[19],f[T+3],st,ans,p[T+3]; int main() { rint i,j,x,y,val;n=read(); for(i=1;i&lt;n;i++) x=read(),y=read(),val=read(),d[x]^=val,d[y]^=val; for(i=0;i&lt;n;i++) ++sum[d[i]]; for(i=1;i&lt;16;i++) ans+=sum[i]&gt;&gt;1,st|=(sum[i]&amp;1)&lt;&lt;(i-1);//stè¡¨ç¤ºæœ€ç»ˆçŠ¶æ€ for(i=1;i&lt;T;i++) f[i]=f[i&gt;&gt;1]+(i&amp;1);//æ¯ä¸ªçŠ¶æ€æœ‰å‡ ä¸ª1 for(i=1;i&lt;T;i++) --f[i];//f[i]è¡¨ç¤ºæ¯ç§çŠ¶æ€æœ€å°‘åšå‡ æ¬¡å³å¯å…¨éƒ¨ä¸º0,æœ€åŠ£æƒ…å†µæ˜æ˜¾æ˜¯1çš„ä¸ªæ•°-1 for(i=0;i&lt;T;i++) for(j=0;j&lt;15;j++) if((i&gt;&gt;j)&amp;1) p[i]^=(j+1);//æ¯ä¸ªçŠ¶æ€çš„å¼‚æˆ–å’Œ for(i=0;i&lt;T;i++) { if(p[i]) continue;//å°±æ˜¯å¼‚æˆ–å’Œèƒ½ä¸èƒ½ä¸º0 for(j=(i-1)&amp;i;j;j=(j-1)&amp;i)//æšä¸¾å­é›† if(!p[j]) f[i]=min(f[i],f[j]+f[i^j]);//ä»å¼‚æˆ–ä¸º0çš„å­é›†è½¬ç§»è¿‡æ¥ }printf(&quot;%d&quot;,ans+f[st]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çŠ¶å‹DP","slug":"çŠ¶å‹DP","permalink":"http://hovnySiLenCe.github.io/tags/çŠ¶å‹DP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1993ã€å°Kçš„å†œåœº è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P1993-LittleKFarm-Solution","date":"2019-11-08T05:25:40.000Z","updated":"2019-12-01T07:28:36.524Z","comments":true,"path":"2019/11/08/Luogu_P1993-LittleKFarm-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/08/Luogu_P1993-LittleKFarm-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯å·®åˆ†çº¦æŸ+è´Ÿç¯ è¿™é‡Œåªæ˜¯æä¾›æ¿å­ï¼Œä¸åšå…·ä½“åˆ†æ Code$dfs\\ version:$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 10003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int to,nxt,cost; node(int a,int b,int c):to(a),nxt(b),cost(c){} node(){} }b[N*3]; int head[N],n,m,t,d[N]; bool vis[N]; inline void add(rint x,rint y,rint cost) { b[++t]=node(y,head[x],cost),head[x]=t; } inline bool Spfa(rint k) {//dfsæ‰æ˜¯ç‹é“ rint i,to,cost;vis[k]=1; for(i=head[k];i;i=b[i].nxt) { to=b[i].to,cost=d[k]+b[i].cost; if(d[to]&lt;cost) { d[to]=cost; if(vis[to]) return 0; if(!Spfa(to)) return 0; } }vis[k]=0; return 1; } int main() { rint i,op,x,y; n=read(),m=read(); for(i=1;i&lt;=m;i++) { op=read(),x=read(),y=read(); if(op==1) add(y,x,read()); else if(op==2) add(x,y,-read()); else add(x,y,0),add(y,x,0); } for(i=1;i&lt;=n;i++) add(0,i,0),d[i]=-inf; printf(&quot;%s&quot;,Spfa(0)?&quot;Yes&quot;:&quot;No&quot;); return 0; } $Spfa\\ version:$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 10003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int to,nxt,cost; node(int a,int b,int c):to(a),nxt(b),cost(c){} node(){} }b[N&lt;&lt;1]; int head[N],n,m,t,usd[N],d[N]; bool vis[N],ans=1; inline void add(rint x,rint y,rint cost) { b[++t]=node(y,head[x],cost),head[x]=t; } inline bool Spfa(rint S) { rint i,to,cur,cost; queue&lt;int&gt;p; memset(d,-inf,sizeof(d)); d[S]=0,p.push(S),vis[S]=1; while(!p.empty()) { cur=p.front(),p.pop();vis[cur]=0; if(usd[cur]&gt;n*0.3) return 0;++usd[cur];//æŒ‰ç†è¯´åº”è¯¥æ˜¯å¤§äºnçš„ï¼Œä½†æ˜¯æ•°æ®è‚¯å®šä¸ä¼šè¿™ä¹ˆæ¶å¿ƒ for(i=head[cur];i;i=b[i].nxt) {//ä¸€èˆ¬æˆ‘å†™çš„éƒ½æ˜¯n*0.5ï¼Œä¸€èˆ¬èƒ½è¿‡ï¼ˆé€ƒ to=b[i].to,cost=d[cur]+b[i].cost; if(d[to]&lt;cost) { d[to]=cost; if(!vis[to]) vis[to]=1, p.push(to); } } }return 1; } int main() { rint i,op,x,y; n=read(),m=read(); for(i=1;i&lt;=m;i++) { op=read(),x=read(),y=read(); if(op==1) add(y,x,read()); else if(op==2) add(x,y,-read()); else add(x,y,0),add(y,x,0); } for(i=1;i&lt;=n&amp;&amp;ans;i++) if(!usd[i]) ans&amp;=Spfa(i); printf(&quot;%s&quot;,ans?&quot;Yes&quot;:&quot;No&quot;); return 0; } é¡ºä¾¿è´´ä¸Š Luogu P3385 ã€æ¨¡æ¿ã€‘è´Ÿç¯ çš„ä»£ç  #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define M 3010 #define N 2010 using namespace std; struct node{ int to,cost; int nxt; node(int a,int b):to(a),cost(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],d[N],Ti[N]; int n,m,T,t,Min; bool vis[N]; int read(){ int s=0,p=1; char c=getchar(); while(!isdigit(c)) { if(c==&#39;-&#39;) p=-1; c=getchar(); } while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s*p; } void init(){ t=0;memset(head,0,sizeof(head)); memset(Ti,0,sizeof(Ti));Min=0; } void add(int x,int y,int cost){ b[++t]=node(y,cost);b[t].nxt=head[x];head[x]=t; } bool SPFA() { int i,cur,to,cost; deque&lt;int&gt;p; memset(d,INF,sizeof(d)); memset(vis,0,sizeof(vis)); p.push_back(1);vis[1]=1;Ti[1]=1;d[1]=0; while(!p.empty()) { cur=p.front();p.pop_front(); vis[cur]=0; if(Ti[cur]&gt;=n||d[cur]&lt;Min) return 1; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to;cost=d[cur]+b[i].cost; if(d[to]&gt;cost) { d[to]=cost; Ti[to]++; if(Ti[to]&gt;=n||d[to]&lt;Min) return 1; if(!vis[to]) { vis[to]=1; if(b[i].cost&lt;0) p.push_front(to); else p.push_back(to); } } } } return 0; } int main() { int i; int x,y,cost; T=read(); while(T--) { n=read()/2;m=read();init(); for(i=1;i&lt;=m;i++) { x=read();y=read();cost=read(); Min=min(Min,cost); if(cost&gt;=0) add(y,x,cost); else Min+=cost; add(x,y,cost); } if(SPFA()) printf(&quot;YE5\\n&quot;); else printf(&quot;N0\\n&quot;); } return 0; } å†è´´ä¸Š Luogu P3275 [SCOI2011]ç³–æœ çš„ä»£ç  #include&lt;bits/stdc++.h&gt; #define rgt register #define LL long long #define N 100003 #define M 300003 using namespace std; struct Edge{ int to,nxt,cost; Edge(int a,int b,int c):to(a),nxt(b),cost(c){} Edge(){} }b[M]; int head[N],n,T,t,d[N],usd[N]; LL ans; bool vis[N]; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rgt int x,rgt int y,rgt int cost) { b[++t]=Edge(y,head[x],cost),head[x]=t; } inline void Spfa() { rgt int i,cur,to,cost; queue&lt;int&gt;p;p.push(0),vis[0]=1; while(!p.empty()) { cur=p.front(),p.pop(),vis[cur]=0; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to,cost=b[i].cost+d[cur]; if(d[to]&lt;cost) { d[to]=cost; if(!vis[to]) { ++usd[to]; if(usd[to]&gt;n-1) {ans=-1;return;} vis[to]=1; p.push(to); } } } } for(i=1;i&lt;=n;i++) ans+=d[i]; } int main() { int i,op,x,y; n=read(),T=read(); for(i=n;i;i--) add(0,i,1); while(T--) { op=read(),x=read(),y=read(); if(op==5) add(x,y,0); else if(op==2) { if(x==y) {printf(&quot;-1&quot;);return 0;} add(x,y,1); } else if(op==3) add(y,x,0); else if(op==4) { if(x==y) {printf(&quot;-1&quot;);return 0;} add(y,x,1); } else add(x,y,0),add(y,x,0); }Spfa(); printf(&quot;%lld&quot;,ans); return 0; } è²Œä¼¼æˆ‘è¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢å·²ç»æ­»äº†çš„Spfa","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"å·®åˆ†çº¦æŸ","slug":"å·®åˆ†çº¦æŸ","permalink":"http://hovnySiLenCe.github.io/tags/å·®åˆ†çº¦æŸ/"},{"name":"è´Ÿç¯","slug":"è´Ÿç¯","permalink":"http://hovnySiLenCe.github.io/tags/è´Ÿç¯/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4872ã€OIerä»¬çš„ä¸œæ–¹æ¢¦ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4872-OIersEasternDream-Solution","date":"2019-11-08T05:22:30.000Z","updated":"2019-12-01T07:28:22.444Z","comments":true,"path":"2019/11/08/Luogu_P4872-OIersEasternDream-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/08/Luogu_P4872-OIersEasternDream-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯åˆ†å±‚å›¾è·‘æœ€çŸ­è·¯åŠ ä¼˜åŒ– åˆ†ææ˜¾ç„¶åˆ†å±‚å›¾è·‘ä¸€è·‘å°±å¥½äº† ç”¨ d[x][y][s][f] è¡¨ç¤ºåˆ° $(x,y)$ ï¼ŒçŠ¶æ€ä¸º $(sword,flower)$ çš„æœ€çŸ­è·¯ ä¸»è¦è€ƒè™‘ä¼ é€é—¨ ç”¨ $Dijkstra$ åšçš„è¯åªè¦æŸä¸€ä¸ªä¼ é€é—¨æœ€ä¼˜ï¼Œå…¶ä»–ä¼ é€é—¨è‚¯å®šå¯ä»¥è¢«è¿™ä¸ªä¼ é€é—¨æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬ä»¥ $(sword,flower)$ çš„çŠ¶æ€èµ°åˆ°æŸä¸ªä¼ é€é—¨ï¼Œç”±äºä¼ é€é—¨æ˜¯äº’ç›¸è¿é€šçš„ï¼Œå› æ­¤ï¼Œå…¶ä»–ä¼ é€é—¨è‚¯å®šèƒ½è¢«æ›´æ–°ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦å¯¹äºå¯¹äºåˆ°è¾¾ä¼ é€é—¨çš„æ¯ä¸ªä¸åŒçŠ¶æ€æ›´æ–°ä¸€æ¬¡å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±èƒ½åœ¨ $O(nmlog)$ çš„ä¸æ­£ç¡®æ—¶é—´å†…è·‘å‡ºç­”æ¡ˆï¼ˆå‡ºé¢˜äººæ‡’å¾—å¡ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 1000003 #define N 1003 using namespace std; int Cx[4]={1,0,0,-1}; int Cy[4]={0,1,-1,0}; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int x,y; node(int a,int b):x(a),y(b){} node(){} }P[M]; struct stus{ int x,y,s,f,cost; stus(int a,int b,int c,int d,int e):x(a),y(b),s(c),f(d),cost(e){} stus(){} inline bool operator&lt; (const stus x) const{ return cost&gt;x.cost; } }c; int n,m,t,d[N][N][2][2],Sx,Sy,Ex,Ey,ans; char b[N][N];bool v[N][N][2][2]; bool vis[2][2]; inline void Dijstra() { rint i,x,y,s,f,cost,Tx,Ty; priority_queue&lt;stus&gt;p; memset(d,inf,sizeof(d)); p.push(stus(Sx,Sy,0,0,0)); d[Sx][Sy][0][0]=0; while(!p.empty()) { c=p.top(),p.pop(); x=c.x,y=c.y,s=c.s,f=c.f; if(v[x][y][s][f]) continue;v[x][y][s][f]=1; if(x==Ex&amp;&amp;y==Ey) return; if(b[x][y]==&#39;X&#39;&amp;&amp;!vis[s][f]) {//æœ‰ä¸åŒçš„çŠ¶æ€æ‰è½¬ç§» vis[s][f]=1,cost=d[x][y][s][f]+1; for(i=1;i&lt;=t;i++) { Tx=P[i].x,Ty=P[i].y; if(d[Tx][Ty][s][f]&gt;cost) { d[Tx][Ty][s][f]=cost, p.push(stus(Tx,Ty,s,f,cost)); } } } if(b[x][y]==&#39;5&#39;&amp;&amp;!s) {//æ‹¿å‰‘çš„æƒ…å†µ cost=d[x][y][s][f]+5; if(d[x][y][s|1][f]&gt;cost) { d[x][y][s|1][f]=cost, p.push(stus(x,y,s|1,f,cost)); } } if(b[x][y]==&#39;4&#39;&amp;&amp;!f) {//æ‹¿èŠ±çš„æƒ…å†µ cost=d[x][y][s][f]; if(d[x][y][s][f|1]&gt;cost) { d[x][y][s][f|1]=cost, p.push(stus(x,y,s,f|1,cost)); } } for(i=0;i&lt;4;i++) {//å‘å››å‘¨èµ° Tx=x+Cx[i],Ty=y+Cy[i]; if(b[Tx][Ty]==&#39; &#39;) continue; if(b[Tx][Ty]==&#39;X&#39;&amp;&amp;v[Tx][Ty][s][f]) continue; if(b[Tx][Ty]==&#39;1&#39;) { if(s) { cost=d[x][y][s][f]+1; if(d[Tx][Ty][s][f]&gt;cost) { d[Tx][Ty][s][f]=cost, p.push(stus(Tx,Ty,s,f,cost)); } }continue; } cost=d[x][y][s][f]+1; if(b[Tx][Ty]==&#39;2&#39;) {if(!(s|f)) cost+=3;} if(b[Tx][Ty]==&#39;3&#39;) {if(!(s|f)) cost+=8;} if(d[Tx][Ty][s][f]&gt;cost) { d[Tx][Ty][s][f]=cost, p.push(stus(Tx,Ty,s,f,cost)); } } } } int main() { rint i,j; n=read(),m=read(); for(i=1;i&lt;=n;i++) { scanf(&quot;%s&quot;,b[i]+1); for(j=1;j&lt;=m;j++) { if(b[i][j]==&#39;X&#39;) P[++t]=node(i,j); if(b[i][j]==&#39;S&#39;) Sx=i,Sy=j; if(b[i][j]==&#39;E&#39;) Ex=i,Ey=j; } } for(i=1;i&lt;=n;i++) b[i][0]=b[i][m+1]=&#39; &#39;; for(i=1;i&lt;=m;i++) b[0][i]=b[n+1][i]=&#39; &#39;;Dijstra(); ans=min(d[Ex][Ey][0][0],d[Ex][Ey][0][1]); cmin(ans,min(d[Ex][Ey][1][0],d[Ex][Ey][1][1])); if(ans&lt;inf) printf(&quot;%d&quot;,ans); else printf(&quot;We want to live in the TouHou World forever&quot;); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Dijkstra","slug":"Dijkstra","permalink":"http://hovnySiLenCe.github.io/tags/Dijkstra/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P5300ã€[GXOI/GZOI2019]ä¸æˆ–å’Œ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P5300-[GXOI_GZOI2019]ANDORSum-Solution","date":"2019-11-07T03:15:14.000Z","updated":"2019-12-01T07:28:21.156Z","comments":true,"path":"2019/11/07/Luogu_P5300-[GXOI_GZOI2019]ANDORSum-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/07/Luogu_P5300-[GXOI_GZOI2019]ANDORSum-Solution/","excerpt":"","text":"é¢˜é¢ç»™å‡ºä¸€ä¸ª $N\\times N(N\\le 1000)$ çŸ©é˜µï¼ŒçŸ©é˜µä¸­è‡ªç„¶æ•° $\\in [0,2^{31}-1]$ æ±‚ï¼Œæ‰€æœ‰å­çŸ©é˜µ AND ä¸ OR ä¹‹å’Œï¼Œå¯¹ $1,000,000,007 (10^9 + 7)$ å–æ¨¡ è§£é¢˜æ€è·¯äºŒè¿›åˆ¶æ‹†ä½+å•è°ƒæ ˆ åˆ†æå¯¹äºäºŒè¿›åˆ¶æ“ä½œçš„ï¼Œä¸€èˆ¬éƒ½æƒ³åˆ°æ‹†ä½åå¤„ç†ï¼Œæ‹†ä½åå°±å˜æˆäº† $0/1$ çŸ©é˜µï¼Œå¤„ç†èµ·æ¥å°±å¾ˆæ–¹ä¾¿ å› æ­¤å…ˆæ‹†ä½ï¼Œè¿™æ ·é—®é¢˜å½¢å¼å°±å˜æˆäº†ï¼šæ±‚æœ‰å‡ ä¸ªå­çŸ©é˜µ AND å€¼ä¸º 1ï¼ŒOR å€¼ä¸º 1 æ€ä¹ˆæ±‚å­çŸ©é˜µï¼Ÿ ç”±äº $N$ çš„èŒƒå›´åœ¨ $1000$ï¼Œ$N\\times N$ å°±æ˜¯ $10^6$ï¼ŒçŒœæµ‹å¯ä»¥æšä¸¾æ¯ä¸ªå­çŸ©é˜µçš„å³ä¸‹è§’ï¼Œç„¶åç”¨çº¿æ€§çš„æ•°æ®ç»“æ„ç»´æŠ¤ä¸€ä¸‹ ç”±äº AND å’Œ OR æ“ä½œçš„æ€§è´¨ï¼Œåªè¦æœ‰ 1 æˆ– 0 å°±å¯ä»¥ç¡®å®šå½“å‰çš„ç»“æœ å› æ­¤å¯ä»¥è®°å½•ä¸€ä¸ªåœ¨ä»¥ $(1,1)$ ä¸ºå·¦ä¸Šè§’ï¼Œ$(i,j)$ è¿™ä¸ªç‚¹ä¸ºå³ä¸‹è§’çš„çŸ©é˜µä¸­ï¼Œç¦» $(i,j)$ è¾ƒè¿‘çš„ 1 å’Œ 0 çš„ä½ç½® ç”±äº AND å’Œ OR æ“ä½œæœ¬è´¨æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤ä»¥ä¸‹å‡åªè®ºè¿° OR çš„æƒ…å†µ ä¸ºä»€ä¹ˆè¯´æ˜¯è¾ƒè¿‘ï¼Ÿ å¦‚å›¾ï¼š 1-1 å¯¹ $(3,3)$ æ¥è¯´ï¼Œè¾ƒè¿‘çš„ç‚¹æœ‰ $(2,3)$ å’Œ $(3,1)$ï¼Œå› ä¸ºå¦‚æœå·¦ä¸Šè§’åœ¨ $(3,1)$ æˆ– $(2,3)$ çš„å·¦ä¸Šæ–¹ï¼Œåˆ™ OR çš„å€¼å®šä¸º 1 æ¢å¥è¯è¯´ï¼Œè¿™é‡Œçš„è¾ƒè¿‘ç‚¹çš„å«ä¹‰å³æ˜¯ä¼šå¯¹ç­”æ¡ˆäº§ç”Ÿå½±å“çš„ç‚¹ï¼Œæ˜¾ç„¶ï¼Œè¿™äº›ç‚¹ä¸€å®šæˆä¸€æ¡èµ°å‘ä¸ºçŸ©é˜µå·¦ä¸‹è§’åˆ°å³ä¸Šè§’çš„ç›´çº¿ï¼Œå³è‹¥ $j$ çš„å€¼æœ‰åºï¼Œåˆ™ $i$ å€¼å®šå•è°ƒï¼Œäºæ˜¯å°±å¯ä»¥è€ƒè™‘ç”¨å•è°ƒæ ˆç»´æŠ¤è¿™äº›ç‚¹ å¦‚ä½•è®¡ç®—å­çŸ©é˜µçš„è´¡çŒ®ï¼Ÿ æ—¢ç„¶æˆ‘ä»¬ç”¨å•è°ƒæ ˆç»´æŠ¤äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿ï¼Œåœ¨æ›´æ–°çš„è¿‡ç¨‹ä¸­å¾—å‡ºç­”æ¡ˆ ä»ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç”¨ b[j][1] è¡¨ç¤ºä»¥å½“å‰ä½ç½®ä¸ºå³ä¸‹è§’çš„çŸ©é˜µä¸­ï¼Œåœ¨ç¬¬ $j$ åˆ—ï¼Œ1 æœ€å¤§çš„ $i$ å€¼ ç„¶åå•è°ƒé˜Ÿåˆ—ç»´æŠ¤çš„åº”æ˜¯éšç€ $j$ é€æ¸å¢å¤§ï¼Œ$i$ å€¼é€æ¸å‡å°çš„æ ˆ å‡è®¾æˆ‘ä»¬å¤§å®¶å½“å‰åšåˆ° $i=3$ ï¼Œä¸€å¼€å§‹è¦æŠŠæ ˆæ¸…ç©º å½“ $j=1$ æ—¶ï¼Œ$b[1][1]=3$ï¼Œç›´æ¥å…¥æ ˆï¼Œå¹¶åŠ ä¸Šè´¡çŒ® res1+=b[j][1]=3 å½“ $j=2$ æ—¶ï¼Œ$b[2][1]=1$ï¼Œä»ç„¶ç›´æ¥å…¥æ ˆï¼Œå¹¶åŠ ä¸Šè´¡çŒ® res1+=b[j][1]=1 å½“ $j=3$ æ—¶ï¼Œ$b[3][1]=2$ï¼Œä¸ºäº†ç»´æŠ¤å•è°ƒï¼Œè¦æŠŠ $1$ å¼¹å‡ºï¼Œå¹¶åŠ ä¸Šå¦‚å›¾æ‰€ç¤ºåŒºåŸŸçš„è´¡çŒ® --t1,res1+=(j-v1[t1]-1)*(min(St1[t1],b[j][1])-St1[t1+1])=1ï¼Œ$t1$ è¡¨ç¤ºæ ˆé¡¶ï¼ŒSt1[_] å­˜çš„æ˜¯ b[_][1]ï¼Œv1[_] å­˜çš„æ˜¯ $j$ å€¼ 1-2 å– min(St1[t1],b[j][1]) æ˜¯å› ä¸ºåˆèƒ½ä¼šå‡ºç°å¦‚ä¸‹å¦å¤–ä¸¤ç§æƒ…å†µ 1-3 1-4 å…³æ³¨åœ¨ $(3,3)$ æ—¶æƒ…å†µï¼Œè™½ç„¶è¿™ä¸¤ç§æƒ…å†µæœ‰ç‚¹ç›¸ä¼¼ï¼Œä½†æ˜¯ä»éœ€è¦æ³¨æ„ è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æŠŠæ ˆå¼¹ç©ºçš„æƒ…å†µï¼ˆå¦‚ä¸Šå›¾ $1-3$ å’Œ $1-4$ï¼‰ï¼Œæ­¤æ—¶è¦ç‰¹åˆ¤ï¼Œå¦åˆ™å– min(St1[t1],b[j][1]) çš„ç»“æœä¸º 0 warning1ã€è®°å¾—åˆå§‹åŒ–è®°å½• $i$ çš„æ•°ç»„ 2ã€AND ç»´æŠ¤çš„æ˜¯ 0 çš„å•è°ƒæ ˆï¼Œå› æ­¤æœ€åè®¡ç®—ä¸ªæ•°çš„æ—¶å€™ç­”æ¡ˆåº”ä¸º i*j-res0 Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define p 1000000007 #define N 1003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,f[N][N],b[N][2],res0,res1,l1,l0,M; int St1[N],St0[N],t0,t1,v0[N],v1[N]; LL c,ans1,ans0; int main() { rint i,j;n=read(); for(i=1;i&lt;=n;i++) for(j=1;j&lt;=n;j++) cmax(M,f[i][j]=read()); for(c=1;c&lt;=M;c&lt;&lt;=1) { memset(b,0,sizeof(b));//è®°å¾—åˆå§‹åŒ–bæ•°ç»„ for(i=1;i&lt;=n;i++) { t0=t1=res1=res0=0; for(j=1;j&lt;=n;j++) { if(f[i][j]&amp;c) b[j][1]=i;//æ›´æ–°bæ•°ç»„ else b[j][0]=i; res0+=b[j][0],res1+=b[j][1]; while(t0&amp;&amp;St0[t0]&lt;=b[j][0])//ç»´æŠ¤å•è°ƒæ ˆï¼Œä¹Ÿå¯ä»¥å’Œifå†™åœ¨ä¸€èµ·ï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡å†™æŒ‚ä¹‹åå°±æ‡’å¾—æ”¹äº† if(--t0) res0+=(j-v0[t0]-1)*(min(St0[t0],b[j][0])-St0[t0+1]); else res0+=(j-1)*(b[j][0]-St0[1]); St0[++t0]=b[j][0],v0[t0]=j; while(t1&amp;&amp;St1[t1]&lt;=b[j][1]) if(--t1) res1+=(j-v1[t1]-1)*(min(St1[t1],b[j][1])-St1[t1+1]); else res1+=(j-1)*(b[j][1]-St1[1]); St1[++t1]=b[j][1],v1[t1]=j; ans1=(ans1+res1*c)%p,//åˆ†å¼€è®¡ç®—è´¡çŒ® ans0=(ans0+(i*j-res0)*c)%p; } } }printf(&quot;%lld %lld&quot;,ans0,ans1); return 0; } å¼±åŒ–ç‰ˆ Luogu P3400 ä»“é¼ çª","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"äºŒè¿›åˆ¶æ‹†ä½","slug":"äºŒè¿›åˆ¶æ‹†ä½","permalink":"http://hovnySiLenCe.github.io/tags/äºŒè¿›åˆ¶æ‹†ä½/"},{"name":"å•è°ƒæ ˆ","slug":"å•è°ƒæ ˆ","permalink":"http://hovnySiLenCe.github.io/tags/å•è°ƒæ ˆ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4231ã€ä¸‰æ­¥å¿…æ€ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4231-KilledInThreeSteps-Solution","date":"2019-11-06T10:52:34.000Z","updated":"2019-12-01T07:28:24.796Z","comments":true,"path":"2019/11/06/Luogu_P4231-KilledInThreeSteps-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/06/Luogu_P4231-KilledInThreeSteps-Solution/","excerpt":"","text":"é¢˜é¢é•¿åº¦ä¸º $n$ çš„åºåˆ—ï¼Œ$m$ æ¬¡ä¿®æ”¹ï¼Œæ¯æ¬¡ä¿®æ”¹ï¼Œä»¤ $[l,r]$ åŒºé—´åŠ ä¸Šé¦–é¡¹ä¸º $a$ï¼Œæœ«é¡¹ä¸º $b$ çš„ç­‰å·®æ•°åˆ— $1\\le n\\leq10^7,1\\le m\\le3\\times 10^5,1\\le l&lt; r\\le n.â€‹$ è§£é¢˜æ€è·¯å‰ç¼€å’Œ åˆ†æå¦‚æœä½ ä¸æ€• $T$ ä¸Šå¤©ï¼Œå¯ä»¥ç”¨çº¿æ®µæ ‘ç»´æŠ¤ï¼Œè·å¾— $O(n\\log n)$ çš„ä¼˜ç§€å¤æ‚åº¦ ç­‰å·®æ•°åˆ—çš„æ€§è´¨èƒ½è®©äººè”æƒ³åˆ°ç­‰å·®æ•°åˆ—ï¼Œè€ƒè™‘ç¡®å®æ˜¯è¿™æ ·çš„ï¼Œ å¯ä»¥é€šè¿‡ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«ç»´æŠ¤é¦–é¡¹å’Œå•ä½ä¸Šå‡çš„å¤§å° å•ä½ä¸Šå‡çš„å¤§å°å³ä¸ºç­‰å·®æ•°åˆ—çš„å…¬å·® è¿™æ ·åªç”¨æœ€åæ‰«ä¸€éå¾—å‡ºå‰ç¼€å’Œå³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n+m)$ ï¼ˆm&lt;&lt; n å¯ä»¥ä¸ç”¨è€ƒè™‘ warning1ã€ç»´æŠ¤å…¬å·®çš„æ•°ç»„è¦ä» $l+1$ çš„ä½ç½®å¼€å§‹ä¿®æ”¹ 2ã€ç»´æŠ¤é¦–é¡¹çš„æ•°ç»„ $r+1$ çš„ä½ç½®è¦å‡ $bâ€‹$ï¼Œè¿™æ ·æ‰èƒ½æŠµæ¶ˆå‰é¢äº§ç”Ÿçš„å½±å“ code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 10000007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} template&lt;class K&gt;inline void read(K&amp;s) { s=0;rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); } int n,T;LL s[N],f[N],ans,res,a,b; int main() { rint i,l,r;read(n),read(T); while(T--) { read(l),read(r),read(a),read(b);//s[_]è¡¨ç¤ºé¦–é¡¹çš„å‰ç¼€å’Œï¼Œæ³¨æ„r+1å‡çš„æ˜¯b s[l]+=a,f[l+1]+=(b-a)/(r-l),s[r+1]-=b,f[r+1]-=(b-a)/(r-l); }//f[_]ç»´æŠ¤çš„æ˜¯å…¬å·®çš„å‰ç¼€å’Œ for(i=1;i&lt;=n;i++) f[i]+=f[i-1],s[i]+=s[i-1]+f[i],ans^=s[i],cmax(res,s[i]); printf(&quot;%lld %lld&quot;,ans,res); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","permalink":"http://hovnySiLenCe.github.io/tags/å‰ç¼€å’Œ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4861ã€æŒ‰é’® è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4861-Button-Solution","date":"2019-11-06T04:59:40.000Z","updated":"2019-12-01T07:28:22.852Z","comments":true,"path":"2019/11/06/Luogu_P4861-Button-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/06/Luogu_P4861-Button-Solution/","excerpt":"","text":"é¢˜é¢è¾“å…¥ $M,K \\in [2,2\\times 10^9]$ï¼Œæ±‚æœ€å°çš„ $x$ï¼Œæ»¡è¶³ï¼š$K^x\\equiv 1\\pmod {M}$ è§£é¢˜æ€è·¯æ¬§æ‹‰å®šç† åˆ†æå½“ $M,K$ ä¸äº’è´¨æ—¶ï¼Œå¿…å®šæ— è§£ å½“ $M,K$ äº’è´¨æ—¶ï¼Œæ˜¾ç„¶ $x=\\phi(M)$ ä¸ºä¸€è§£ï¼Œè€Œæœ€å°çš„ $x$ åº”æ˜¯ $\\phi(M)$ çš„çº¦æ•°ï¼Œè¯æ˜å¦‚ä¸‹ï¼š å‡è®¾ $x_0 \\nmid\\ \\phi(m)$ ä¸” $x_0$ æ˜¯ $K^x\\equiv 1 \\pmod M$ çš„æœ€å°æ•´æ•°è§£ï¼Œé‚£ä¹ˆ $x_1=\\phi(M)\\mod x_0$ å¿…ä¹Ÿæ˜¯ä¸€ä¸ªè§£ä¸”å°äº $x_0$ ä¸å‡è®¾ä¸ç¬¦ï¼Œå› æ­¤ï¼Œæœ€å°çš„è§£å¿…ä¸º $\\phi(M)$ çš„çº¦æ•° æšä¸¾ $\\phi(M)$ çš„çº¦æ•°ï¼Œå†ç”¨å¿«é€Ÿå¹‚åˆ¤æ–­å³å¯åœ¨ $O(\\sqrt m\\log m)$ çš„å¤æ‚åº¦å†…è·‘è¿‡æ­¤é¢˜ Warningæ±‚ $\\phi(M)$ çš„æ—¶å€™å¹¶ä¸ç”¨ç­›ç´ æ•°ï¼Œç›´æ¥ $\\sqrt m$ æ±‚å³å¯ï¼Œ(å°±æ˜¯å› ä¸ºè¿™ä¸ªæˆ‘æ‰å¾—äº† $10pts$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int k,p,t,ans,phi;LL c; inline int Pow(rint b) { rll res=1,a=k; for(;b;b&gt;&gt;=1,a=a*a%p) if(b&amp;1) res=res*a%p; return res; } int main() { rint i; phi=c=p=read(),k=read(); for(i=2;(LL)i*i&lt;=c;i++)//ç›´æ¥æ±‚phiï¼Œå› ä¸ºåˆæ•°è‚¯å®šæ˜¯æ²¡æœ‰è´¡çŒ®çš„ï¼Œ if(c%i==0) {//å¹¶ä¸å½±å“ç»“æœ phi-=phi/i; while(c%i==0) c/=i; } if(c&gt;1) phi-=phi/c; if(__gcd(k,p)!=1) printf(&quot;Let&#39;s go Blue Jays!&quot;); else { ans=phi; for(i=2;(LL)i*i&lt;=phi;i++)//æšä¸¾ if(phi%i==0) { if(Pow(i)==1) {ans=i;break;} if(Pow(phi/i)==1) cmin(ans,phi/i); } printf(&quot;%d&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP5973ã€SELTEAM - Selecting Teams è§£é¢˜æŠ¥å‘Š","slug":"SP5973-SELTEAM_SelectingTeams-Solution","date":"2019-11-06T04:13:12.000Z","updated":"2019-12-01T07:28:08.660Z","comments":true,"path":"2019/11/06/SP5973-SELTEAM_SelectingTeams-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/06/SP5973-SELTEAM_SelectingTeams-Solution/","excerpt":"","text":"é¢˜é¢å³æ±‚ï¼š \\large \\sum_{i=1}^kC_n^i\\sum_{j=1}^iC_i^j\\times jæœ‰ $T(1\\le T \\le 10000)$ ç»„æ•°æ®ï¼Œå…¶ä¸­ $1\\le k \\le n \\le 100000$ è§£é¢˜æ€è·¯ç»„åˆæ•°+ä¹±æ åˆ†æåé¢çš„ $\\times j$ æ˜¾ç„¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå› æ­¤æå‰æšä¸¾ $j$ï¼Œä¹Ÿå°±æ˜¯é€‰å“ªä¸ªäººä¸ºé˜Ÿé•¿ï¼Œå¾—ï¼š \\large \\sum_{i=1}^kC_n^i\\times i\\times 2^{i-1}ç„¶è€Œä½ å¹¶æ²¡æœ‰äºæ˜¯ä½ å°±ä¼šå‘ç°è¿™ä¸ªæ¨¡æ•° $8388608â€‹$ å¾ˆå¥‡æ€ªï¼Œåˆ†è§£å¾—ï¼š \\large 8388608=2^{23}è¿™ä¸å°±å¾ˆå¦™äº†å˜›ï¼Œè¿™ä¸‹ $i$ å°±å¯ä»¥åªæšä¸¾ $min(k,24)$ äº†ï¼Œè‡³äº $C$ï¼Œç”±äºæ¨¡æ•°ï¼Œä¸èƒ½ç›´æ¥æ±‚é€†å…ƒï¼Œä½†æ˜¯ç”±äºæšä¸¾çš„èŒƒå›´å¾ˆå°ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ç”¨ $DP$ é¢„å¤„ç†å‡ºæ¥ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define p 8388608 #define N 100003 using namespace std; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline int dec(rint x){return (x&gt;=p)?x-p:x;} int n,k,T,f[N][25],ans;LL res; int main() { rint i,j;T=read(),f[0][0]=1;//é¢„å¤„ç† for(i=1;i&lt;=N;i++) { f[i][0]=1; for(j=1;j&lt;=23;j++) f[i][j]=dec(f[i-1][j]+f[i-1][j-1]); } while(T--) {//æšä¸¾ n=read(),k=min(read(),23),ans=0,res=1; for(i=1;i&lt;=k;i++,res&lt;&lt;=1) ans=dec(ans+res*f[n][i]*i%p); printf(&quot;%d\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4396ã€[AHOI2013]ä½œä¸š è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4396-[AHOI2013]Homework-Solution","date":"2019-11-05T12:20:35.000Z","updated":"2019-12-01T07:28:24.070Z","comments":true,"path":"2019/11/05/Luogu_P4396-[AHOI2013]Homework-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/05/Luogu_P4396-[AHOI2013]Homework-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯è«é˜Ÿ+æ ‘çŠ¶æ•°ç»„ åˆ†æåŒºé—´æ“ä½œï¼Œä¸å¸¦ä¿®æ”¹ï¼Œé£Ÿç”¨è«é˜Ÿå¤§æ³•ï¼Œç„¶åè«é˜Ÿè¿‡ç¨‹ä¸­ç”¨æ ‘çŠ¶æ•°ç»„è®°å½•æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°å³å¯ å½“ç„¶ï¼Œè¦è®°å½•ä¸¤ä¸ªä¿¡æ¯ï¼Œä¸€ä¸ªæ˜¯ä¸ªæ•°ï¼Œä¸€ä¸ªæ˜¯ç§ç±»æ•°ï¼Œæœ€åæŸ¥è¯¢å³å¯ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int l,r,x,y,i; }b[N]; int n,m,pos[N],Ans1[N],Ans2[N],fx[N&lt;&lt;2],fy[N&lt;&lt;2],block,l,r,sum[N&lt;&lt;2],a[N]; inline bool cmp(rgt node a,rgt node b) { return (pos[a.l]^pos[b.l])?a.l&lt;b.l:(pos[a.l]&amp;1)?a.r&lt;b.r:a.r&gt;b.r; } inline void Modify(rint p,rint x,rint y) {//ä¸¤ä¸ªæ•°ç»„ if(p) for(;x&lt;=n;x+=x&amp;(-x)) fx[x]+=y; else for(;x&lt;=n;x+=x&amp;(-x)) fy[x]+=y; } inline void Add(rint x) { if(!sum[x]) Modify(0,x,1); ++sum[x],Modify(1,x,1); } inline void Del(rint x) { --sum[x],Modify(1,x,-1); if(!sum[x]) Modify(0,x,-1); } inline void Query(rint i,rint l,rint r) { rint x,y;x=y=0; for(;r;r-=r&amp;(-r)) x+=fx[r],y+=fy[r]; for(;l;l-=l&amp;(-l)) x-=fx[l],y-=fy[l]; Ans1[i]=x,Ans2[i]=y; } int main() { rint i,j; n=read(),m=read(),block=pow(n,0.54); for(i=1;i&lt;=n;i++) a[i]=read(),pos[i]=i/block; for(i=1;i&lt;=m;i++) b[i].l=read(),b[i].r=read(),b[i].x=read(),b[i].y=read(),b[i].i=i; sort(b+1,b+m+1,cmp),l=1; for(i=1;i&lt;=m;i++) { while(r&lt;b[i].r) Add(a[++r]); while(l&gt;b[i].l) Add(a[--l]); while(r&gt;b[i].r) Del(a[r--]); while(l&lt;b[i].l) Del(a[l++]); Query(b[i].i,b[i].x-1,b[i].y);//æœ€åæŸ¥è¯¢ } for(i=1;i&lt;=m;i++) printf(&quot;%d %d\\n&quot;,Ans1[i],Ans2[i]); return 0; } å¼ºå¼±åŒ–ç‰ˆ Luogu P4867 Gtyçš„äºŒé€¼å¦¹å­åºåˆ—ï¼ˆæ—¢å¼ºåˆå¼±ï¼‰ æ­£è§£å€¼åŸŸåˆ†å—ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ™®é€šè«é˜Ÿè¿‡æ‰äº† åˆ†ææ™®é€šè«é˜Ÿ+æ ‘çŠ¶æ•°ç»„çš„å¤æ‚åº¦æ˜¯ $O(m\\sqrt n\\log n)$ï¼Œä½†æ˜¯ç”±äºæ•°æ®æ°´è·‘ä¸æ»¡ï¼Œè™½è¯´å¦‚æ­¤ï¼Œè¿˜æ˜¯å¯ä»¥çœ‹å‡ºå…¶çš„ç¨³å®šæ€§ä¸æ˜¯å¾ˆä¼˜ï¼Œ$author$ äº²æµ‹æœ€åæ—¶é—´ $2.66s$ï¼Œå¦ä¸€ä¸ªè¾ƒå¤§çš„ç‚¹å´è·‘äº† $923ms$ ç›¸è¾ƒä¹‹ä¸‹ï¼Œå€¼åŸŸåˆ†å—çš„å¤æ‚åº¦ä¸º $O(m\\sqrt n)$ï¼Œæ›´åŠ ç¨³å®šä¸”æ­£ç¡®ï¼Œä¸¤ä¸ªæµ‹è¯•ç‚¹åˆ†åˆ«è·‘äº† $1.60s$ å’Œ $1.18s$ æ ‘çŠ¶æ•°ç»„ $version$ï¼š#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 1000007 #define N 100007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int l,r,a,b,i; }b[M]; int n,m,l,r,block,a[N],f[N],sum[N],pos[N],Ans[M]; inline bool cmp(rgt node a,rgt node b) { return (pos[a.l]^pos[b.l])?a.l&lt;b.l:(pos[a.l]&amp;1)?a.r&gt;b.r:a.r&lt;b.r; } inline void Modify(rint x,rint p) { if(p) for(;x&lt;=n;x+=x&amp;(-x)) ++f[x]; else for(;x&lt;=n;x+=x&amp;(-x)) --f[x]; } inline int Query(rint l,rint r) { rint res=0; for(;r;r-=r&amp;(-r)) res+=f[r]; for(;l;l-=l&amp;(-l)) res-=f[l]; return res; } inline void Add(rint x) {if(!sum[x]++) Modify(x,1);} inline void Del(rint x) {if(!--sum[x]) Modify(x,0);} int main() { rint i,j; n=read(),m=read(),block=n/(sqrt(0.9*m)+1); for(i=1;i&lt;=n;i++) a[i]=read(),pos[i]=i/block; for(i=1;i&lt;=m;i++) b[i].l=read(),b[i].r=read(),b[i].a=read(),b[i].b=read(),b[i].i=i; sort(b+1,b+m+1,cmp),l=1; for(i=1;i&lt;=m;i++) { while(r&lt;b[i].r) Add(a[++r]); while(l&gt;b[i].l) Add(a[--l]); while(r&gt;b[i].r) Del(a[r--]); while(l&lt;b[i].l) Del(a[l++]); Ans[b[i].i]=Query(b[i].a-1,b[i].b); } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; } å€¼åŸŸåˆ†å— $version$ï¼š#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 1000007 #define N 100007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int l,r,a,b,i; }b[M]; int n,m,l,r,block,a[N],f[N],sum[N],pos[N],Ans[M],L[N],R[N],ans[N],num; inline bool cmp(rgt node a,rgt node b) { return (pos[a.l]^pos[b.l])?a.l&lt;b.l:(pos[a.l]&amp;1)?a.r&gt;b.r:a.r&lt;b.r; } inline int Query(rint l,rint r) { rint res=0; if(pos[l]==pos[r]) { while(l&lt;=r) res+=(sum[l]&gt;0),++l; return res; }rint i; for(i=l;i&lt;=R[pos[l]];i++) res+=(sum[i]&gt;0); for(i=L[pos[r]];i&lt;=r;i++) res+=(sum[i]&gt;0); for(i=pos[l]+1;i&lt;pos[r];i++) res+=ans[i]; return res; } inline void Add(rint x) {if(!sum[x]++) ans[pos[x]]++;} inline void Del(rint x) {if(!--sum[x]) ans[pos[x]]--;} int main() { rint i,j; n=read(),m=read(),block=n/(sqrt(0.9*m)+1); for(i=1;i&lt;=n;i++) a[i]=read(),pos[i]=(i-1)/block+1; num=(n-1)/block+1,R[num]=n,L[num]=block*(num-1)+1; for(i=1;i&lt;num;i++) L[i]=block*(i-1)+1,R[i]=block*i; for(i=1;i&lt;=m;i++) b[i].l=read(),b[i].r=read(),b[i].a=read(),b[i].b=read(),b[i].i=i; sort(b+1,b+m+1,cmp),l=1; for(i=1;i&lt;=m;i++) { while(r&lt;b[i].r) Add(a[++r]); while(l&gt;b[i].l) Add(a[--l]); while(r&gt;b[i].r) Del(a[r--]); while(l&lt;b[i].l) Del(a[l++]); Ans[b[i].i]=Query(b[i].a,b[i].b); } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è«é˜Ÿ","slug":"è«é˜Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/è«é˜Ÿ/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘çŠ¶æ•°ç»„/"},{"name":"åˆ†å—","slug":"åˆ†å—","permalink":"http://hovnySiLenCe.github.io/tags/åˆ†å—/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3917ã€å¼‚æˆ–åºåˆ— è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3917-XorArray-Solution","date":"2019-11-01T13:55:52.000Z","updated":"2019-12-01T07:28:26.828Z","comments":true,"path":"2019/11/01/Luogu_P3917-XorArray-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/01/Luogu_P3917-XorArray-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯è¿™é‡Œæä¾›ä¸€ç§ä¹±ææ–°å¥‡çš„ç®—æ³•ï¼ˆå®Œå…¨åœ¨çº¿é¬¼çŸ¥é“æœ‰ä»€ä¹ˆç”¨ åˆ†æè€ƒè™‘æ‹†ä½ï¼Œç”±äºå¼‚æˆ–çš„æ€§è´¨ï¼ˆç®—æ˜¯å§ï¼Œä¸åŒä½ä¹‹é—´ä¸å½±å“ï¼Œå› æ­¤å¯ä»¥è®¡ç®—æ¯ä¸ªä½åšå‡ºçš„è´¡çŒ®ï¼Œç„¶åç´¯åŠ  æ˜¾ç„¶ï¼Œåªæœ‰å¥‡æ•°ä¸ª $1$ æ‰èƒ½åšå‡ºè´¡çŒ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦èƒ½è®¡ç®—å‡ºæœ‰å¤šå°‘ä¸ªåŒºé—´åŒ…å«å¥‡æ•°ä¸ª $1$ å°è¯•çœ‹çœ‹æœ‰ä»€ä¹ˆè§„å¾‹ï¼š æ•° $2$ $5$ $6$ $2^2$ $0$ $1$ $1$ $2^1$ $1$ $0$ $1$ $2^0$ $0$ $1$ $0$ å¯¹ 2,5,6 åˆ†åˆ«æ‹†ä½ï¼Œè¡¨ç¤ºä¸ºä¸Šè¿°çš„è¡¨ï¼ˆå½“ç„¶åšçš„æ—¶å€™æ²¡å¿…è¦è®°å½• è€ƒè™‘ $2^2$ï¼Œä»¥ç¬¬ $1$ ä¸ªæ•° $2$ ä¸ºåŒºé—´å³ç«¯ç‚¹ï¼Œæœ‰è´¡çŒ®çš„åŒºé—´æœ‰ $0$ ä¸ªï¼›ä»¥ç¬¬ $2$ ä¸ªæ•° $5$ ä¸ºåŒºé—´å³ç«¯ç‚¹ï¼Œæœ‰è´¡çŒ®çš„åŒºé—´æœ‰ $[1,2]$ å’Œ $[2,2]$ å…± $2$ ä¸ªï¼›ä»¥ç¬¬ $3$ ä¸ªæ•° $6$ ä¸ºåŒºé—´å³ç«¯ç‚¹ï¼Œæœ‰è´¡çŒ®çš„åŒºé—´æœ‰ $[3,3]$ å…± $1$ ä¸ªã€‚åšå‡ºçš„æ€»è´¡çŒ®ä¸º $(2+1)\\times 2^2$ å…¶ä½™ä½åŒç† ä¸éš¾çœ‹å‡ºï¼Œå¦‚æœå°†åºåˆ—æŒ‰ $1$ çš„ä½ç½®åˆ†æ®µï¼Œåˆ™å³ç«¯ç‚¹å¤„äºæŸæ®µä¸­ï¼ˆå³ä¸º $0$ çš„æƒ…å†µï¼‰æ—¶ï¼Œæœ‰è´¡çŒ®çš„åŒºé—´æ•°ä¸ºä¸ä¹‹è·ç¦»å¥‡æ•°æ®µçš„åŒºé—´æ€»è·¨åº¦ï¼›ä¸ºæŸæ®µçš„å³ç«¯ç‚¹ï¼ˆå³ä¸º $1$ çš„æƒ…å†µï¼‰æ—¶ï¼Œè´¡çŒ®ä¸ºä¸ä¹‹è·ç¦»å¶æ•°æ®µçš„åŒºé—´æ€»è·¨åº¦ï¼Œ$Rt$ åœ¨ä¸€ä¸ªæŸæ®µä¸­ï¼ˆå³ä¸º $0$ çš„æƒ…å†µï¼‰ï¼Œ $7,8$ ç­‰ï¼Œè´¡çŒ®å³ä¸ºå…¶ä¹‹å‰è“è‰²åŒºé—´çš„è·¨åº¦ $6-4=2$ $10,11$ ç­‰ï¼Œè´¡çŒ®å³ä¸ºå…¶ä¹‹å‰çº¢è‰²åŒºé—´çš„è·¨åº¦ $(9-6)+(4-0)=7$ ä¸ºæŸæ®µçš„å³ç«¯ç‚¹ï¼ˆå³ä¸º $1$ çš„æƒ…å†µï¼‰ï¼Œ $4$ ç­‰ï¼Œè´¡çŒ®å³ä¸ºå…¶ä¹‹å‰çº¢è‰²åŒºé—´çš„è·¨åº¦ $4-0=4$ $12$ ç­‰ï¼Œè´¡çŒ®å³ä¸ºå…¶ä¹‹å‰è“è‰²åŒºé—´çš„è·¨åº¦ $(12-9)+(6-4)=5$ ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºè¿™æ ·ä¸€ä¸ªä»£ç ï¼š int n,k,sum[31][2],p[31],pos[31];LL ans,c; int main() { rint i,j;n=read(); for(i=1;i&lt;=n;i++) { k=read(),c=1; for(j=0;j&lt;30;++j,c&lt;&lt;=1) {//posè®°å½•ä¸Šä¸€ä¸ª1çš„ä½ç½®ï¼Œsum[_][0/1]è®°å½•çº¢è“è‰²åŒºé—´åˆ†åˆ«çš„è·¨åº¦ if(k&amp;c) p[j]^=1,sum[j][p[j]]+=i-pos[j],pos[j]=i; ans+=sum[j][p[j]]*c;//ç´¯åŠ è´¡çŒ® } } printf(&quot;%lld&quot;,ans); return 0; } moreä½†æ˜¯ï¼Œè¿˜å¯ä»¥ä¼˜åŒ–ï¼Œç”±äºåšåˆ° $1$ æ—¶ï¼Œçº¢è“è‰²åŒºé—´è·¨åº¦ä¹‹å’Œå®šç­‰äº $i$ï¼Œåˆåšåˆ° $0$ æ—¶ï¼Œå¯¹çº¢è“è‰²åŒºé—´çš„è·¨åº¦æ— å½±å“ï¼Œå› æ­¤å¯ä»¥æ”¹æˆï¼š rint i,j;n=read(); for(i=1;i&lt;=n;i++) { k=read(),c=1; for(j=0;j&lt;30;++j,c&lt;&lt;=1) {//çº¢è“åŒºé—´çš„è·¨åº¦å¯ä»¥ç”±å¦å¤–ä¸€ä¸ªæ¨å¾— if(k&amp;c) sum[j]=i-sum[j]; ans+=sum[j]*c; } } æˆ–è€…æˆ‘ä»¬è¿˜å¯ä»¥è¿™æ ·è€ƒè™‘ï¼šç”±äºå¼‚æˆ–å…·æœ‰è‡ªåæ€§ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æ‹†ä½åæ±‚å‡ºå¼‚æˆ–å‰ç¼€ï¼Œè¿™æ ·çš„è¯æœ‰è´¡çŒ®çš„åŒºé—´å³ä¸º $1$ çš„ä¸ªæ•°ä¸ $0$ çš„ä¸ªæ•°ä¹‹ç§¯ rint i,j;n=read(); for(i=1;i&lt;=n;i++) { k=read(),c=1; for(j=0;j&lt;30;++j,c&lt;&lt;=1) p[j]^=k&amp;c,++sum[j][p[j]];//åˆ†åˆ«å­˜å‰ç¼€å¼‚æˆ–ï¼Œä»¥åŠ1å’Œ0çš„ä¸ªæ•° } for(i=0,c=1;i&lt;30;++i,c&lt;&lt;=1) ans+=sum[i][0]*sum[i][1]*c; warning$\\mathtt{non}$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,k,sum[31];LL ans,c; int main() { rint i,j;n=read(); for(i=1;i&lt;=n;i++) { k=read(),c=1; for(j=0;j&lt;30;++j,c&lt;&lt;=1) { if(k&amp;c) sum[j]=i-sum[j]; ans+=sum[j]*c; } } printf(&quot;%lld&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3618ã€è¯¯ä¼š è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3618-Mistake-Solution","date":"2019-11-01T05:45:11.000Z","updated":"2019-12-01T07:28:28.089Z","comments":true,"path":"2019/11/01/Luogu_P3618-Mistake-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/01/Luogu_P3618-Mistake-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯$\\mathtt{DP+hash}$ åˆ†ææ­£è§£ä¸æ˜¯å¾ˆæ˜¯éš¾æƒ³ï¼Œç”±äºæ˜¯è®¡æ•°ç±»é—®é¢˜ï¼Œåº”è¯¥å°±æƒ³åˆ° $DP$ï¼Œåˆç”±äºå­—ç¬¦ä¸²ï¼Œå³å¯ç”¨å­—ç¬¦ä¸² $hash$ è§£å†³ è®°åŸå¥ä¸º $A$ ä¸²ï¼Œé•¿åº¦ä¸º $la$ï¼›å¬åˆ°çš„è¯ä¸º $B$ ä¸²ï¼Œé•¿åº¦ä¸º $lb$ è€ƒè™‘æ€ä¹ˆè½¬ç§»ï¼Œåˆ†æƒ…å†µè®¨è®ºï¼š Â· å¦‚æœåœ¨ $A$ ä¸²ä½ç½® $i$ èƒ½åŒ¹é…ä¸Š $B$ ä¸²ï¼Œæ˜¾ç„¶ï¼Œæ›¿æ¢æ˜¯ä¸€ç§ï¼Œä¸æ›¿æ¢ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ï¼Œç›´æ¥ç›¸åŠ  $\\to$ f[i]=f[i-lb]+f[i-1] Â· åä¹‹ï¼Œä¸èƒ½åŒ¹é…ï¼Œæ­¤æ—¶åªæœ‰ä¸æ›¿æ¢ä¸€ç§é€‰æ‹©ï¼Œç›´æ¥è½¬ç§» $\\to$ f[i]=f[i-1] å¯¹äº $hash$ï¼Œä½¿ç”¨ $unsigned\\ long\\ long$ çš„è‡ªç„¶æº¢å‡ºå³å¯ï¼Œï¼ˆé»˜è®¤å­—ç¬¦ä¸² $hash$ éƒ½ä¼š Warning$f_{0-lb}$ éƒ½åº”åˆå§‹ä¸º $1$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define ull unsigned LL #define N 100003 using namespace std; const int base=1000000007; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,la,lb,t,f[N]; ull s[N],sum,bit[N]; char a[N],b[N]; inline int dec(rint x){return(x&gt;=base)?x-base:x;} int main() { rint i,k;m=read(),bit[0]=1,t=f[0]=1; for(k=1;k&lt;=m;k++) { scanf(&quot;%s%s&quot;,a+1,b+1),la=strlen(a+1),lb=strlen(b+1),sum=0; for(i=1;i&lt;=la;i++) s[i]=s[i-1]*base+a[i]-&#39;0&#39;;//å¾—åˆ°Aä¸²çš„å‰ç¼€hash while(t&lt;=lb) bit[t]=bit[t-1]*base,++t;//base^t for(i=1;i&lt;=lb;i++) sum=sum*base+b[i]-&#39;0&#39;,f[i]=1;//è®¡ç®—Bä¸²çš„hashå€¼&amp;åˆå§‹åŒ– for(i=lb;i&lt;=la;i++) { if(sum==s[i]-s[i-lb]*bit[lb]) f[i]=f[i-lb];//å¯ä»¥æ›¿æ¢ else f[i]=0;f[i]=dec(f[i]+f[i-1]); } printf(&quot;Case #%d: %d\\n&quot;,k,f[la]); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"},{"name":"hash","slug":"hash","permalink":"http://hovnySiLenCe.github.io/tags/hash/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4592ã€[TJOI2018]å¼‚æˆ– è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4592-[TJOI2018]Xor-Solution","date":"2019-11-01T04:56:08.000Z","updated":"2019-12-01T07:28:23.241Z","comments":true,"path":"2019/11/01/Luogu_P4592-[TJOI2018]Xor-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/11/01/Luogu_P4592-[TJOI2018]Xor-Solution/","excerpt":"","text":"é¢˜é¢è«åå…¶å¦™ç¿»åˆ°çš„ è«åå…¶å¦™çš„é¢˜ è§£é¢˜æ€è·¯æ ‘é“¾å‰–åˆ†+å¯æŒä¹…åŒ–Trie åˆ†æåº”è¯¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½åˆ†æçš„ï¼Œè¿™é“æ•°æ®ç»“æ„çš„é¢˜æ²¡æœ‰å¤šå°‘æ€ç»´é‡ï¼Œç›´æ¥çœ‹ç€åšå°±å¥½äº†ï¼Œè¿™é‡Œåªæ˜¯æä¾› æ ‘å‰–+å¯æŒä¹…åŒ–Trieçš„æ¿å­è€Œå·² Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int son[2],sum; }T[N*31]; int ver[N&lt;&lt;1],nxt[N&lt;&lt;2],head[N],seg[N],top[N],rev[N]; int deep[N],size[N],fa[N],son[N],num; int n,m,t,a[N],k,root[N],res,ans,l,r; inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t, ver[++t]=x,nxt[t]=head[y],head[y]=t; } inline void dfs1(rint k) { rint i,to; deep[k]=deep[fa[k]]+1,size[k]=1; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(to==fa[k]) continue; fa[to]=k,dfs1(to),size[k]+=size[to]; if(size[to]&gt;size[son[k]]) son[k]=to; } } inline void dfs2(rint k) { if(son[k]) { seg[son[k]]=++num, top[son[k]]=top[k], rev[num]=son[k], dfs2(son[k]); } rint i,to; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(top[to]) continue; seg[to]=++num, rev[num]=top[to]=to,dfs2(to); } } inline int Insert(rint pos,rint k) { rint i,c,x=root[pos]=++t,y=root[pos-1];T[x]=T[y]; for(i=29;i&gt;=0;--i) { c=k&amp;(1&lt;&lt;i)?1:0; x=T[x].son[c]=++t,y=T[y].son[c], T[x]=T[y],++T[x].sum; } } inline void Query(rint x,rint y) { rint i,p=1,c;res=0; for(i=29;i&gt;=0;--i) { c=k&amp;(1&lt;&lt;i)?0:1; if(T[T[y].son[c]].sum-T[T[x].son[c]].sum) y=T[y].son[c],x=T[x].son[c],res+=1&lt;&lt;i; else y=T[y].son[c^1],x=T[x].son[c^1]; }cmax(ans,res); } #define fx top[x] #define fy top[y] inline void Ask(rint x,rint y) { while(fx!=fy) { if(deep[fx]&lt;deep[fy]) swap(x,y); Query(root[seg[fx]-1],root[seg[x]]); x=fa[fx]; } if(deep[x]&lt;deep[y]) swap(x,y); Query(root[seg[y]-1],root[seg[x]]); } int main() { rint i,op;n=read(),m=read(); for(i=1;i&lt;=n;i++) a[i]=read(); for(i=1;i&lt;n;i++) k=read(),add(k,read()); num=seg[1]=rev[1]=top[1]=1, dfs1(1),dfs2(1); for(i=1;i&lt;=n;i++) Insert(i,a[rev[i]]); while(m--) { op=read(),l=read(),ans=0; if(op-1) r=read(),k=read(),Ask(l,r); else k=read(),Query(root[seg[l]-1],root[seg[l]+size[l]-1]); printf(&quot;%d\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"},{"name":"å¯æŒä¹…åŒ–Trieæ ‘","slug":"å¯æŒä¹…åŒ–Trieæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/å¯æŒä¹…åŒ–Trieæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4991ã€æ„¤æ€’çš„XiaoX è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4991-AngryXiaoX-Solution","date":"2019-10-30T08:27:33.000Z","updated":"2019-12-01T07:28:21.622Z","comments":true,"path":"2019/10/30/Luogu_P4991-AngryXiaoX-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/30/Luogu_P4991-AngryXiaoX-Solution/","excerpt":"","text":"é¢˜é¢åŒºé—´å/ç¿»è½¬äºŒè¿›åˆ¶ï¼Œå•ç‚¹æŸ¥è¯¢ è§£é¢˜æ€è·¯çº¿æ®µæ ‘ï¼Œåªä¸è¿‡è¦ç»´æŠ¤ä¸¤ä¸ªæ ‡è®° åˆ†æ Â· æ“ä½œ $1$ï¼Œå¯¹æ¯ä½å–åï¼Œç›´æ¥å¼‚æˆ–ä¸Š (1&lt;&lt;k)+1 å³å¯ Â· æ“ä½œ $2$ï¼Œç¿»è½¬äºŒè¿›åˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè²Œä¼¼ä¹Ÿæ²¡æœ‰ç›´æ¥ç¿»è½¬çš„å‡½æ•°ï¼Œå°±åªèƒ½æ‰‹å†™ å†æ·±ç©¶å‘ç°ï¼Œå…¶å®ä¸¤ä¸ªæ“ä½œæ˜¯äº’ä¸å½±å“çš„ï¼Œå› æ­¤åªéœ€ç»´æŠ¤ä¸¤ä¸ª $tag$ å³å¯ï¼Œå†çœ‹é¢˜ç›®ä¸­çš„ $k$ çš„é™åˆ¶ï¼Œä¸€ç³»åˆ—æ“ä½œçš„ $k$ å€¼ç›¸åŒï¼Œå› æ­¤ $tag$ ç»´æŠ¤çš„ä¿¡æ¯åº”ä¸º $bool$ ç±»å‹ï¼Œè¡¨ç¤ºä¸Šè¿°æ“ä½œæ˜¯å¦åšäº†ï¼ˆå› ä¸ºåŒä¸€ä¸ªæ“ä½œåšä¸¤æ¬¡å°±æ˜¯æ— æ•ˆçš„ åˆæœ‰ $t$ å°äº $5$ï¼Œæ‰€ä»¥åœ¨ $k$ å€¼æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯åšä¸‹ä¸€ç»„è¯¢é—®çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æš´åŠ›æŠŠå…ˆå‰çš„æ ‡è®°å…¨éƒ¨ä¸‹ä¼  å…³äºæŸ¥è¯¢ï¼Œå…¶å®åªè¦æŠŠ å¯¹æŸ¥è¯¢çš„ç‚¹æœ‰å½±å“çš„æ ‡è®° ä¸‹ä¼ å³å¯ï¼Œéƒ½ä¸ç”¨ç»´æŠ¤åŒºé—´ warningè²Œä¼¼æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å‘çš„åœ°æ–¹ï¼Œå¤åˆ¶ç²˜è´´çš„æ—¶å€™è®°å¾—æ”¹å‡½æ•°åå°±å¥½äº†ï¼ˆå°´å°¬ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 50003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,T,K,b[N],L,R,pos,y; bool tag[N&lt;&lt;2],rev[N&lt;&lt;2]; inline void push(rint k,rint l,rint r) {//ä¸‹ä¼ æ ‡è®° if(l==r) {//å¦‚æœå·²ç»åˆ°äº†æŸä¸ªä½ç½®ï¼Œç›´æ¥ä¿®æ”¹ if(tag[k]) b[l]^=y;//åè½¬ç›´æ¥å¼‚æˆ–(1&lt;&lt;k)-1 if(rev[k]) {//ç¿»è½¬è¦è‡ªå·±å†™ rint i,c=b[l]&amp;y,s=0;b[l]-=c; for(i=0;i&lt;K;++i) { if(c&amp;(1&lt;&lt;i)) s+=1&lt;&lt;(K-i-1); }b[l]+=s; } } else {//å¦åˆ™ä¸‹ä¼ æ ‡è®° rint ls=k&lt;&lt;1; if(tag[k]) tag[ls]^=1,tag[ls|1]^=1; if(rev[k]) rev[ls]^=1,rev[ls|1]^=1; } tag[k]=rev[k]=0; } inline void Modify(rint k,rint l,rint r) {//æ‰“åè½¬æ ‡è®° push(k,l,r);if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]^=1;return push(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m),Modify(ls|1,m+1,r); } inline void Flip(rint k,rint l,rint r) {//æ‰“ç¿»è½¬æ ‡è®° push(k,l,r);if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {rev[k]^=1;return push(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Flip(ls,l,m),Flip(ls|1,m+1,r); } inline void Query(rint k,rint l,rint r) {//æŸ¥è¯¢ å³å°†æœ‰å½±å“çš„æ ‡è®°ä¸‹ä¼  push(k,l,r);if(l==r) return; rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; (pos&lt;=m)?Query(ls,l,m):Query(ls|1,m+1,r); } inline void Update(rint k,rint l,rint r) {//æš´åŠ›ä¸‹ä¼ æ‰€æœ‰æ ‡è®° push(k,l,r);if(l==r) return; rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Update(ls,l,m),Update(ls|1,m+1,r); } int main() { rint i,op; n=read(),T=read(); for(i=1;i&lt;=n;i++) b[i]=read(); while(T--) { m=read(),K=read(),y=(1&lt;&lt;K)-1;//å–åå¼‚æˆ–ç”¨ while(m--) { op=read(); if(op==3) pos=read(),Query(1,1,n),printf(&quot;%d\\n&quot;,b[pos]);//ä¸‹ä¼ æ ‡è®°åç›´æ¥è¾“å‡ºå½“å‰å€¼ else { L=read(),R=read(); if(op==1) Modify(1,1,n); else Flip(1,1,n); } }Update(1,1,n);//æš´åŠ›ä¸‹ä¼ æ ‡è®° } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUVA10140ã€ Prime Distance è§£é¢˜æŠ¥å‘Š","slug":"UVA10140-Prime_Distance-Solution","date":"2019-10-30T05:12:18.000Z","updated":"2019-12-01T07:28:06.063Z","comments":true,"path":"2019/10/30/UVA10140-Prime_Distance-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/30/UVA10140-Prime_Distance-Solution/","excerpt":"","text":"é¢˜é¢å¤§æ¦‚çš„æ„æ€å°±æ˜¯æ±‚ $[l,r]$ åŒºé—´ç›¸é‚»æœ€è¿‘å’Œæœ€è¿œçš„è´¨æ•° è§£é¢˜æ€è·¯è¿™é‡Œæ˜æ˜¾çš„å°±æ˜¯ä¸€ä¸ªåŸƒæ°ç­›çš„è¿ç”¨ï¼ˆå¾ˆä¹…å‰å’•æ‰çš„ç°åœ¨è¡¥ä¸Š åˆ†æåŒºé—´çš„é•¿åº¦ä¸è¶…è¿‡ $1e6$ï¼Œåˆæœ‰ç­›è´¨æ•°æ—¶ï¼Œæœ‰æ•ˆçš„å…¶å®æ˜¯å°äº $n$ çš„è´¨æ•°ï¼Œå› æ­¤å¯ä»¥å…ˆé¢„å¤„ç†å‡º $[1,\\sqrt{\\mathtt{INT\\_MAX}}]$ çš„è´¨æ•°ï¼Œç„¶ååœ¨ç”¨å…¶å–ç­› $[l,r]$ åŒºé—´çš„è´¨æ•°ï¼Œç›´æ¥é‚£ä¸ª $O(n\\log\\log n)$ çš„Eratosthenes ç­›æ³•å³å¯ Warning1ã€$1$ ä¹Ÿç®—è´¨æ•° 2ã€ç­›ç´ æ•°çš„æ—¶å€™å¯èƒ½ä¼šæŠŠè¿™ä¸ªè´¨æ•°æœ¬èº«ç­›æ‰ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f7f #define M 1000007 using namespace std; const int N=sqrt(INT_MAX); LL l,r,t,Max,Min,lx,ly,rx,ry,x,y,pr[N&gt;&gt;1]; bool v[N+3],b[M]; int main() { rll i,j,c; for(i=2;i&lt;=N;i++) {//åˆå§‹åŒ–è´¨æ•° if(!v[i]) pr[++t]=i; for(j=1;j&lt;=t;j++) { c=i*pr[j];if(c&gt;N) break; v[c]=1;if(i%pr[j]==0) break; } } while(~scanf(&quot;%lld%lld&quot;,&amp;l,&amp;r)) { memset(b,0,sizeof(b)),Max=-1,Min=inf+1,y=-1; if(l==1) b[0]=1; for(i=1;i&lt;=t&amp;&amp;pr[i]&lt;=r;i++) { c=pr[i]*max(l/pr[i]+(l%pr[i]&gt;0),2ll);//å–maxæ˜¯é˜²æ­¢ä¸ç­›æ‰è‡ªå·± while(c&lt;=r) b[c-l]=1,c+=pr[i];//æ ‡è®°åˆæ•° } for(i=0;i&lt;=r-l;i++) if(!b[i]) { x=y,y=i+l; if(x&lt;0) continue; if(y-x&lt;Min) lx=x,ly=y,Min=y-x; if(y-x&gt;Max) rx=x,ry=y,Max=y-x; } if(Max&lt;0||Min&gt;inf) printf(&quot;There are no adjacent primes.\\n&quot;); else printf(&quot;%lld,%lld are closest, %lld,%lld are most distant.\\n&quot;,lx,ly,rx,ry); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"},{"name":"åŸƒæ°ç­›","slug":"åŸƒæ°ç­›","permalink":"http://hovnySiLenCe.github.io/tags/åŸƒæ°ç­›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1941ã€é£æ‰¬çš„å°é¸Ÿ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P1941-FlappyBird-Solution","date":"2019-10-30T04:41:14.000Z","updated":"2019-12-01T07:28:36.980Z","comments":true,"path":"2019/10/30/Luogu_P1941-FlappyBird-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/30/Luogu_P1941-FlappyBird-Solution/","excerpt":"","text":"é¢˜é¢åƒç´ é¸Ÿæœ‰æ¯’ è§£é¢˜æ€è·¯åŠ¨æ€è§„åˆ’ï¼Œæ³¨æ„ä¸€äº›ç»†èŠ‚ åˆ†æè€ƒè™‘ $DP$ï¼Œè½¬ç§»çŠ¶æ€æœ‰ä¸¤ç§ï¼Œä¸€ç§å°±æ˜¯ç‚¹å‡»å±å¹•ï¼Œä¸€ç§ä¸ç‚¹å‡»å±å¹•ï¼Œå¯ä»¥çœ‹å‡ºï¼šå‰è€…ç±»ä¼¼å®Œå…¨èƒŒåŒ…ï¼Œåè€…ç±»ä¼¼0/1èƒŒåŒ… å› æ­¤åªè¦å†™ä¸¤ä¸ª $DP$ å³å¯ï¼Œç„¶è€Œ $author$ å°†ä¸¤ç§èƒŒåŒ…æ··åˆåœ¨äº†ä¸€èµ·ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ»šåŠ¨æ•°ç»„ï¼ˆ= WA Ã— inf Warning1ã€åšå®Œå…¨èƒŒåŒ…çš„æ—¶å€™ä¸èƒ½å…ˆå°†æ— æ³•åˆ°è¾¾çš„çŠ¶æ€èµ‹ $inf$ï¼ï¼ï¼ 2ã€æ³¨æ„ç‚¹å‡»åè¶…å‡º $m$ çš„æƒ…å†µ PSï¼šè²Œä¼¼é¢˜ç›®æ‰€è¯´ä» ä»»æ„æ•´æ•°å¼€å§‹ ä¸åŒ…æ‹¬ $0$ï¼ˆ$author$ æ²¡æ‰“ $0$ï¼Œä½†è¿‡äº† Codeå·²åˆ å»éƒ¨åˆ†æ— ç”¨çš„æ¿å­ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define inf 0x7f7f7f7f #define N 10007 #define M 1007 using namespace std; template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} struct node{ int p,bt,tp; inline bool operator&lt; (const node x) const{ return p&lt;x.p; } }b[N]; int n,m,k,f[M][2],p,c,t,rs[N],dr[N],rse,drp,ans=inf; int main() { rint i,j,l,r,flg; n=read(),m=read(),k=read(); for(i=1;i&lt;=n;i++) rs[i]=read(),dr[i]=read();//å•æ¬¡ç‚¹å‡»åä¸Šå‡çš„é«˜åº¦ï¼Œå¦åˆ™ä¸‹é™çš„é«˜åº¦ for(i=1;i&lt;=k;i++) b[i].p=read(),b[i].bt=read(),b[i].tp=read();//å­˜ç®¡é“ sort(b+1,b+k+1),t=1;//æŒ‰æ¨ªåæ ‡æ’åº for(i=1;i&lt;=n;i++) { c=p^1,rse=rs[i],drp=dr[i],flg=1;//flgç”¨äºåˆ¤æ–­æ˜¯å¦èƒ½å®Œæˆæ¸¸æˆï¼Œå½“æ‰€æœ‰çŠ¶æ€éƒ½æ— æ³•åˆ°è¾¾æ—¶ä¸º1 for(j=1;j&lt;=m;j++) f[j][c]=inf; if(b[t].p==i) {//è¿™æ˜¯å…³é”®ï¼Œä¹Ÿæ˜¯æ˜“é”™ç‚¹ l=b[t].bt,r=b[t].tp,++t; for(j=rse+1;j&lt;r;j++) cmin(f[j][c],min(f[j-rse][p],f[j-rse][c])+1);//å®Œå…¨èƒŒåŒ… for(j=1;j&lt;=l;j++) f[j][c]=inf;//åˆ å»ç¢°åˆ°ç®¡é“çš„æƒ…å†µ for(;j&lt;r;j++) {//0/1èƒŒåŒ… if(j+drp&lt;=m) cmin(f[j][c],f[j+drp][p]); if(j&gt;l) flg&amp;=(f[j][c]&gt;=inf); } } else { for(j=1;j&lt;=m;j++) {//æ²¡æœ‰ç®¡é“çš„è½¬ç§»å¯ä»¥åŒæ—¶ä¸€èµ· k=min(j+rse,m),cmin(f[k][c],min(f[j][p],f[j][c])+1); if(j+drp&lt;=m) cmin(f[j][c],f[j+drp][p]); flg&amp;=(f[j][c]&gt;=inf); } }p=c; if(flg) {printf(&quot;0\\n%d&quot;,t-2);return 0;}//æ— æ³•å®Œæˆåˆ™è¾“å‡ºæœ€å¤šèƒ½è¿‡çš„æŸ±å­æ•° } for(i=1;i&lt;=m;i++) cmin(ans,f[i][p]); printf(&quot;1\\n%d&quot;,ans); return 0; } å¦é™„æŸé¢˜è§£ä»£ç ï¼Œè‡ªè®¤ä¸ºå±‚æ¬¡æ¯” $author$ çš„æ¸…æ™° //by @ZMYJOE(Luogu) #include&lt;iostream&gt; #include&lt;cstdio&gt; #include&lt;cstring&gt; using namespace std; const int maxn=10000+10; const int maxm=2000+10; int n,m,p; int x[maxn],y[maxn]; //iä½ç½®ï¼Œä¸Šå‡x[i],ä¸‹é™y[i] int low[maxn],high[maxn]; //iä½ç½®èƒ½é€šè¿‡çš„èŒƒå›´æ˜¯low[i]-high[i] int f[maxn][maxm]; //åˆ°(i,j)çš„æœ€å°‘ç‚¹å‡»æ¬¡æ•° bool e[maxn]; //e[i]è¡¨ç¤ºiä½ç½®æœ‰æ²¡æœ‰ç®¡é“ int main() { scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;p); for(int i=1; i&lt;=n; ++i) scanf(&quot;%d%d&quot;,&amp;x[i],&amp;y[i]); for(int i=1; i&lt;=n; ++i) { low[i]=1; high[i]=m; } int a,b,c; for(int i=1; i&lt;=p; ++i) { scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c); e[a]=1; low[a]=b+1; high[a]=c-1; } memset(f,0x3f,sizeof(f)); for(int i=1; i&lt;=m; ++i) f[0][i]=0; for(int i=1; i&lt;=n; ++i) { for(int j=x[i]+1; j&lt;=m+x[i]; ++j) f[i][j]=min(f[i-1][j-x[i]]+1,f[i][j-x[i]]+1); for(int j=m+1; j&lt;=m+x[i]; ++j) f[i][m]=min(f[i][m],f[i][j]); for(int j=1; j&lt;=m-y[i]; ++j) f[i][j]=min(f[i][j],f[i-1][j+y[i]]); for(int j=1; j&lt;low[i]; ++j) f[i][j]=f[0][0]; //ä¸èƒ½é€šè¿‡(INF) for(int j=high[i]+1; j&lt;=m; ++j) f[i][j]=f[0][0]; //ä¸èƒ½é€šè¿‡(INF) } int ans=f[0][0]; for(int j=1;j&lt;=m;++j) { ans=min(ans,f[n][j]); } if(ans&lt;f[0][0]) printf(&quot;1\\n%d\\n&quot;,ans); else{ int i,j; for(i=n;i&gt;=1;i--) { for(j=1;j&lt;=m;++j) { if(f[i][j]&lt;f[0][0]) break; } if(j&lt;=m) break; } ans=0; for(int j=1;j&lt;=i;++j) { if(e[j]) ans++; } printf(&quot;0\\n%d\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3154ã€[CQOI2009]å¾ªç¯èµ› è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3154-[CQOI2009]CircleMatch-Solution","date":"2019-10-28T13:58:35.000Z","updated":"2020-01-30T09:49:17.151Z","comments":true,"path":"2019/10/28/Luogu_P3154-[CQOI2009]CircleMatch-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/28/Luogu_P3154-[CQOI2009]CircleMatch-Solution/","excerpt":"","text":"é¢˜é¢æ€è·¯DFS+å‰ªæ+Hash åˆ†æé¦–å…ˆè‚¯å®šæ˜¯ $dfs$ï¼Œ çœ‹æˆæ˜¯ä¸€å¼  $n\\times n$ çš„æ¯”èµ›è¡¨ï¼Œç„¶åä¸€æ¬¡ $dfs$ æ¯åœºæ¯”èµ›çš„èƒœè´Ÿå³å¯ï¼Œ ä¸»è¦è€ƒè™‘å¦‚ä½•å‰ªæ å¯è¡Œæ€§å‰ªæ1ã€å¦‚æœå½“å‰äººèµ¢äº†æ‰€æœ‰æ¯”èµ›ä»ä¸èƒ½è¾¾åˆ°ä»–çš„åˆ†æ•°ï¼Œå‰ªæ 2ã€å¦‚æœå‰©ä¸‹çš„æ‰€æœ‰æ¯”èµ›éƒ½å¹³æ‰€å¾—çš„æ€»åˆ†å¤§äºå®é™…æ€»åˆ†æˆ–è€…éƒ½èµ¢çš„æ€»åˆ†å°äºå®é™…æ€»åˆ†ï¼Œå‰ªæ $code$ å¦‚ä¸‹ï¼š if(b[x]+3*(n-y+1)&lt;a[x]) return 0; rint res=(n-x-1)*(n-x)/2+(n-y+1); if(sum+3*res&lt;T||sum+2*res&gt;T) return 0;//Tä¸ºæ€»åˆ† 3ã€ï¼ˆé‡ç‚¹ï¼‰è®¾åœ¨æ‰€æœ‰æ¯”èµ›ä¸­å¹³å±€çš„åœºæ•°ä¸º $l$ï¼Œä»»æ„ä¸€æ–¹èƒœåˆ©çš„åœºæ•°ä¸º $w$ï¼Œæ˜¾ç„¶æœ‰ \\begin{equation} \\left\\{ \\begin{array}{**lr**} w+l=\\dfrac{n\\times(n-1)} {2}\\\\ 3w+2l=T\\\\ \\end{array} \\right. \\end{equation}æ—¢ç„¶æ˜¯ä¸€ä¸ªäºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„ï¼Œå°±å¯ä»¥è§£ä¸€ä¸‹ï¼Œå¾— \\begin{equation} \\left\\{ \\begin{array}{**lr**} w=T-n\\times(n-1)\\\\ l=\\dfrac {n\\times(n-1)} 2-w \\end{array} \\right. \\end{equation}è¿™æ ·å°±å¯ä»¥ç»§ç»­å¯è¡Œæ€§å‰ªæ å½“èƒœåˆ©çš„åœºæ•°æˆ–è€…å¹³å±€çš„åœºæ•°ä¸è¶³æ—¶æ‰åšï¼Œå‰ªå»çš„æ—¶é—´å¾ˆå®¢è§‚ï¼ˆä½†æ˜¯è¿˜æ˜¯è¿‡ä¸äº† $code$ å¦‚ä¸‹ï¼š if(w&amp;&amp;b[x]+3&lt;=a[x]) --w,b[x]+=3,res+=dfs(x,y+1,sum+3),b[x]-=3,++w; if(l&amp;&amp;b[x]+1&lt;=a[x]&amp;&amp;b[y]+1&lt;=a[y]) { ++b[x],++b[y],--l; res+=dfs(x,y+1,sum+2); --b[x],--b[y],++l; } if(w&amp;&amp;b[y]+3&lt;=a[y]&amp;&amp;b[y]+3+3*(n-x+1)) --w,b[y]+=3,res+=dfs(x,y+1,sum+3),b[y]-=3,++w; æ”¹å˜æœç´¢é¡ºåºå°†å®é™…åˆ†æ•°æŒ‰ä»å¤§åˆ°å°æ’åºåæœç´¢æ•ˆç‡æ›´é«˜ è®°å¿†åŒ–ï¼ï¼ï¼çœŸÂ·ç¥ä»™ ç”¨ $Hash$ å®Œæˆè®°å¿†åŒ–ï¼Œç”¨ $map$ å­˜ï¼Œæ¯æ¬¡ä¸€ä¸ªäººçš„æ‰€æœ‰æ¯”èµ›æ¯”å®Œä¹‹åï¼Œåˆ¤æ–­ä¸€ä¸‹çŠ¶æ€æ˜¯å¦å·²ç»åˆ°è¾¾è¿‡ $code$ å¦‚ä¸‹ï¼š if(y&gt;n) { for(rint i=x+1;i&lt;=n;++i) c[i]=a[i]-b[i]; sort(c+x+1,c+n+1);LL key=0; for(rint i=x+1;i&lt;=n;i++) key=key*base+c[i]; if(v.find(key)!=v.end()) return v[key]; return v[key]=dfs(x+1,x+2,sum); } è¦æ³¨æ„çš„æ˜¯ï¼š 1ã€æˆ‘ä»¬ $Hash$ çš„æ˜¯æ¯ä¸ªäººå½“å‰åˆ†æ•°ä¸å®é™…çš„åˆ†æ•°å·® 2ã€$Hash$ ä¹‹å‰æ’åºæ˜¯å› ä¸ºç›¸åŒæ•°å­—æ˜¯ç­‰æ•ˆçš„ï¼Œæœ¬è´¨ä¸Šåªä¸è¿‡æ˜¯å°†ä¸€äº›æ•°å­—åˆ†æˆå‡ å †ï¼Œè€Œå¦‚ä½•åˆ†ï¼Œé¡ºåºæ˜¯æ— å…³çš„ï¼Œå› æ­¤æ˜¯ç­‰æ•ˆçš„ warning1ã€$Hash$ åˆ¤æ–­æœ‰æ²¡æœ‰å‡ºç°è¿‡æ˜¯ä¸èƒ½ç”¨ if(v[key])ï¼Œå› ä¸ºå¯èƒ½è¿™ç§æƒ…å†µæ— è§£ï¼Œåº”ç”¨ if(v.find(key)!=v.end()). 2ã€åˆ«å¿˜æ’åºï¼Œ$Hash$ çš„æ˜¯å½“å‰ä¸å®é™…åˆ†æ•°çš„å·® Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} const LL base=1e9+7;//baseçš„å–å€¼28ä¹Ÿå¯ä»¥ inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,T,a[11],b[11],c[11],w,l; map&lt;LL,int&gt;v;//ä¸€å¼€å§‹æƒ³ç”¨ullè‡ªç„¶æº¢å‡ºçš„ï¼Œä¸è¿‡è²Œä¼¼æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ inline int dfs(rint x,rint y,rint sum) { if(x==n) return 1; if(b[x]+3*(n-y+1)&lt;a[x]) return 0;//å¯è¡Œæ€§å‰ªæ1 if(y&gt;n) {//ä¸€ä¸ªäººçš„æ‰€æœ‰æ¯”èµ›å®ŒåHashï¼Œå†æœç´¢ä¸‹ä¸€ä¸ªäºº for(rint i=x+1;i&lt;=n;++i) c[i]=a[i]-b[i]; sort(c+x+1,c+n+1);LL key=0; for(rint i=x+1;i&lt;=n;i++) key=key*base+c[i]; if(v.find(key)!=v.end()) return v[key];//0ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼Œå› æ­¤ä¸èƒ½ç”¨if(v[key]) return v[key]=dfs(x+1,x+2,sum);//æ³¨æ„è®°å½•å€¼ } rint res=(n-x-1)*(n-x)/2+(n-y+1);//å¯è¡Œæ€§å‰ªæ2 if(sum+3*res&lt;T||sum+2*res&gt;T) return 0;res=0; if(w&amp;&amp;b[x]+3&lt;=a[x]) --w,b[x]+=3,res+=dfs(x,y+1,sum+3),b[x]-=3,++w;//å¯è¡Œæ€§å‰ªæ3 if(l&amp;&amp;b[x]+1&lt;=a[x]&amp;&amp;b[y]+1&lt;=a[y]) { ++b[x],++b[y],--l; res+=dfs(x,y+1,sum+2); --b[x],--b[y],++l; } if(w&amp;&amp;b[y]+3&lt;=a[y]&amp;&amp;b[y]+3+3*(n-x+1)/*å¯è¡Œæ€§å‰ªæ1*/) --w,b[y]+=3,res+=dfs(x,y+1,sum+3),b[y]-=3,++w; return res%base;//ä¸è¦å¿˜è®°å–è†œ } inline bool cmp(rint x,rint y){return x&gt;y;} int main() { rint i;n=read(); for(i=1;i&lt;=n;i++) T+=a[i]=read(); sort(a+1,a+n+1,cmp),w=T-n*(n-1),l=n*(n-1)/2-w;//ç®—å‡ºèƒœåœºå’Œå¹³åœº printf(&quot;%d&quot;,dfs(1,2,0)); return 0; } æ¨èé¢˜ç›®emmm åŒå€ç»éªŒ ~å¼ºåŒ–ç‰ˆ Luogu P3154 [HNOI2013]æ¯”èµ›","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"DFS","slug":"DFS","permalink":"http://hovnySiLenCe.github.io/tags/DFS/"},{"name":"Hash","slug":"Hash","permalink":"http://hovnySiLenCe.github.io/tags/Hash/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3230ã€[HNOI2013]æ¯”èµ› è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3230-[HNOI2013]Match-Solution","date":"2019-10-28T13:48:20.000Z","updated":"2020-01-30T09:49:30.771Z","comments":true,"path":"2019/10/28/Luogu_P3230-[HNOI2013]Match-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/28/Luogu_P3230-[HNOI2013]Match-Solution/","excerpt":"","text":"é¢˜é¢æ€è·¯DFS+å‰ªæ+Hash åˆ†æé¦–å…ˆè‚¯å®šæ˜¯ $dfs$ï¼Œ çœ‹æˆæ˜¯ä¸€å¼  $n\\times n$ çš„æ¯”èµ›è¡¨ï¼Œç„¶åä¸€æ¬¡ $dfs$ æ¯åœºæ¯”èµ›çš„èƒœè´Ÿå³å¯ï¼Œ ä¸»è¦è€ƒè™‘å¦‚ä½•å‰ªæ å¯è¡Œæ€§å‰ªæ1ã€å¦‚æœå½“å‰äººèµ¢äº†æ‰€æœ‰æ¯”èµ›ä»ä¸èƒ½è¾¾åˆ°ä»–çš„åˆ†æ•°ï¼Œå‰ªæ 2ã€å¦‚æœå‰©ä¸‹çš„æ‰€æœ‰æ¯”èµ›éƒ½å¹³æ‰€å¾—çš„æ€»åˆ†å¤§äºå®é™…æ€»åˆ†æˆ–è€…éƒ½èµ¢çš„æ€»åˆ†å°äºå®é™…æ€»åˆ†ï¼Œå‰ªæ $code$ å¦‚ä¸‹ï¼š if(b[x]+3*(n-y+1)&lt;a[x]) return 0; rint res=(n-x-1)*(n-x)/2+(n-y+1); if(sum+3*res&lt;T||sum+2*res&gt;T) return 0;//Tä¸ºæ€»åˆ† 3ã€ï¼ˆé‡ç‚¹ï¼‰è®¾åœ¨æ‰€æœ‰æ¯”èµ›ä¸­å¹³å±€çš„åœºæ•°ä¸º $l$ï¼Œä»»æ„ä¸€æ–¹èƒœåˆ©çš„åœºæ•°ä¸º $w$ï¼Œæ˜¾ç„¶æœ‰ \\begin{equation} \\left\\{ \\begin{array}{**lr**} w+l=\\dfrac{n\\times(n-1)} {2}\\\\ 3w+2l=T\\\\ \\end{array} \\right. \\end{equation}æ—¢ç„¶æ˜¯ä¸€ä¸ªäºŒå…ƒä¸€æ¬¡æ–¹ç¨‹ç»„ï¼Œå°±å¯ä»¥è§£ä¸€ä¸‹ï¼Œå¾— \\begin{equation} \\left\\{ \\begin{array}{**lr**} w=T-n\\times(n-1)\\\\ l=\\dfrac {n\\times(n-1)} 2-w \\end{array} \\right. \\end{equation}è¿™æ ·å°±å¯ä»¥ç»§ç»­å¯è¡Œæ€§å‰ªæ å½“èƒœåˆ©çš„åœºæ•°æˆ–è€…å¹³å±€çš„åœºæ•°ä¸è¶³æ—¶æ‰åšï¼Œå‰ªå»çš„æ—¶é—´å¾ˆå®¢è§‚ï¼ˆä½†æ˜¯è¿˜æ˜¯è¿‡ä¸äº† $code$ å¦‚ä¸‹ï¼š if(w&amp;&amp;b[x]+3&lt;=a[x]) --w,b[x]+=3,res+=dfs(x,y+1,sum+3),b[x]-=3,++w; if(l&amp;&amp;b[x]+1&lt;=a[x]&amp;&amp;b[y]+1&lt;=a[y]) { ++b[x],++b[y],--l; res+=dfs(x,y+1,sum+2); --b[x],--b[y],++l; } if(w&amp;&amp;b[y]+3&lt;=a[y]&amp;&amp;b[y]+3+3*(n-x+1)) --w,b[y]+=3,res+=dfs(x,y+1,sum+3),b[y]-=3,++w; æ”¹å˜æœç´¢é¡ºåºå°†å®é™…åˆ†æ•°æŒ‰ä»å¤§åˆ°å°æ’åºåæœç´¢æ•ˆç‡æ›´é«˜ è®°å¿†åŒ–ï¼ï¼ï¼çœŸÂ·ç¥ä»™ ç”¨ $Hash$ å®Œæˆè®°å¿†åŒ–ï¼Œç”¨ $map$ å­˜ï¼Œæ¯æ¬¡ä¸€ä¸ªäººçš„æ‰€æœ‰æ¯”èµ›æ¯”å®Œä¹‹åï¼Œåˆ¤æ–­ä¸€ä¸‹çŠ¶æ€æ˜¯å¦å·²ç»åˆ°è¾¾è¿‡ $code$ å¦‚ä¸‹ï¼š if(y&gt;n) { for(rint i=x+1;i&lt;=n;++i) c[i]=a[i]-b[i]; sort(c+x+1,c+n+1);LL key=0; for(rint i=x+1;i&lt;=n;i++) key=key*base+c[i]; if(v.find(key)!=v.end()) return v[key]; return v[key]=dfs(x+1,x+2,sum); } è¦æ³¨æ„çš„æ˜¯ï¼š 1ã€æˆ‘ä»¬ $Hash$ çš„æ˜¯æ¯ä¸ªäººå½“å‰åˆ†æ•°ä¸å®é™…çš„åˆ†æ•°å·® 2ã€$Hash$ ä¹‹å‰æ’åºæ˜¯å› ä¸ºç›¸åŒæ•°å­—æ˜¯ç­‰æ•ˆçš„ï¼Œæœ¬è´¨ä¸Šåªä¸è¿‡æ˜¯å°†ä¸€äº›æ•°å­—åˆ†æˆå‡ å †ï¼Œè€Œå¦‚ä½•åˆ†ï¼Œé¡ºåºæ˜¯æ— å…³çš„ï¼Œå› æ­¤æ˜¯ç­‰æ•ˆçš„ warning1ã€$Hash$ åˆ¤æ–­æœ‰æ²¡æœ‰å‡ºç°è¿‡æ˜¯ä¸èƒ½ç”¨ if(v[key])ï¼Œå› ä¸ºå¯èƒ½è¿™ç§æƒ…å†µæ— è§£ï¼Œåº”ç”¨ if(v.find(key)!=v.end()). 2ã€åˆ«å¿˜æ’åºï¼Œ$Hash$ çš„æ˜¯å½“å‰ä¸å®é™…åˆ†æ•°çš„å·® Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} const LL base=1e9+7;//baseçš„å–å€¼28ä¹Ÿå¯ä»¥ inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,T,a[11],b[11],c[11],w,l; map&lt;LL,int&gt;v;//ä¸€å¼€å§‹æƒ³ç”¨ullè‡ªç„¶æº¢å‡ºçš„ï¼Œä¸è¿‡è²Œä¼¼æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ inline int dfs(rint x,rint y,rint sum) { if(x==n) return 1; if(b[x]+3*(n-y+1)&lt;a[x]) return 0;//å¯è¡Œæ€§å‰ªæ1 if(y&gt;n) {//ä¸€ä¸ªäººçš„æ‰€æœ‰æ¯”èµ›å®ŒåHashï¼Œå†æœç´¢ä¸‹ä¸€ä¸ªäºº for(rint i=x+1;i&lt;=n;++i) c[i]=a[i]-b[i]; sort(c+x+1,c+n+1);LL key=0; for(rint i=x+1;i&lt;=n;i++) key=key*base+c[i]; if(v.find(key)!=v.end()) return v[key];//0ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼Œå› æ­¤ä¸èƒ½ç”¨if(v[key]) return v[key]=dfs(x+1,x+2,sum);//æ³¨æ„è®°å½•å€¼ } rint res=(n-x-1)*(n-x)/2+(n-y+1);//å¯è¡Œæ€§å‰ªæ2 if(sum+3*res&lt;T||sum+2*res&gt;T) return 0;res=0; if(w&amp;&amp;b[x]+3&lt;=a[x]) --w,b[x]+=3,res+=dfs(x,y+1,sum+3),b[x]-=3,++w;//å¯è¡Œæ€§å‰ªæ3 if(l&amp;&amp;b[x]+1&lt;=a[x]&amp;&amp;b[y]+1&lt;=a[y]) { ++b[x],++b[y],--l; res+=dfs(x,y+1,sum+2); --b[x],--b[y],++l; } if(w&amp;&amp;b[y]+3&lt;=a[y]&amp;&amp;b[y]+3+3*(n-x+1)/*å¯è¡Œæ€§å‰ªæ1*/) --w,b[y]+=3,res+=dfs(x,y+1,sum+3),b[y]-=3,++w; return res%base;//ä¸è¦å¿˜è®°å–è†œ } inline bool cmp(rint x,rint y){return x&gt;y;} int main() { rint i;n=read(); for(i=1;i&lt;=n;i++) T+=a[i]=read(); sort(a+1,a+n+1,cmp),w=T-n*(n-1),l=n*(n-1)/2-w;//ç®—å‡ºèƒœåœºå’Œå¹³åœº printf(&quot;%d&quot;,dfs(1,2,0)); return 0; } æ¨èé¢˜ç›®emmm åŒå€ç»éªŒ ~å¼±åŒ–ç‰ˆ Luogu P3154 [CQOI2009]å¾ªç¯èµ›","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"DFS","slug":"DFS","permalink":"http://hovnySiLenCe.github.io/tags/DFS/"},{"name":"Hash","slug":"Hash","permalink":"http://hovnySiLenCe.github.io/tags/Hash/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P5596ã€[XR-4]é¢˜ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P5596-[XR-4]Problem-Solution","date":"2019-10-24T05:54:01.000Z","updated":"2019-12-01T07:28:11.119Z","comments":true,"path":"2019/10/24/Luogu_P5596-[XR-4]Problem-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/24/Luogu_P5596-[XR-4]Problem-Solution/","excerpt":"","text":"é¢˜é¢ç»™å®šè‡ªç„¶æ•° $a,b$ï¼Œæ±‚æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„è‡ªç„¶æ•°å¯¹ $(x,y)$ çš„ä¸ªæ•°ï¼š y^2-x^2=ax+bè§£é¢˜æ€è·¯æ•°å­¦é¢˜=çæ åˆ†ææ•°æ®èŒƒå›´å·²ç»æš—ç¤ºäº†ä¸€åˆ‡ï¼Œè¿™æ˜¯ä¸€é“æ¨æ¨æ¨å…¬å¼çš„é¢˜å•Š å…ˆè€ƒè™‘æ— æ•°è§£çš„æƒ…å†µï¼š å°† $x^2$ ç§»åˆ°å³è¾¹ y^2=x^2+ax+bæ˜¾ç„¶å½“ $x^2+ax+b$ ä¸ºå®Œå…¨å¹³æ–¹æ—¶æœ‰æ— æ•°è§£ï¼Œå³ $(\\frac a 2)^2=b$ æ—¶æœ‰æ— æ•°è§£ï¼Œåˆ¤æ–­æ—¶å¯ä»¥å†™æˆ $a^2=4\\times b$ æ¥ä¸‹å»è€ƒè™‘å…¶ä»–æƒ…å†µ å¯ä»¥å°†å·¦è¾¹å› å¼åˆ†è§£åº·åº·æœ‰ä»€ä¹ˆå¥‡æ€ªçš„ä¸œè¥¿ï¼š y^2-x^2=ax+b (y+x)(y-x)=ax+bä»¤ $k=y-x$ï¼Œåˆ™ $y=x+k$ï¼Œä»£å…¥ï¼š k(2x+k)=ax+bå†ä¹˜å‡ºæ¥ï¼š 2kx+k^2=ax+bå°†æ‰€æœ‰ $x$ æœ‰å…³é¡¹ç§»è‡³å·¦ä¾§ï¼Œ (2k-a)x=b-k^2åˆ†å‚ï¼š x=\\frac {b-k^2} {2k-a}ç„¶åå°±æ¨ä¸ä¸‹å» å¯ä»¥æ³¨æ„åˆ°ï¼Œ$x$ åº”æ˜¯è‡ªç„¶æ•°ï¼Œæ‰€ä»¥ $\\frac {b-k^2} {2k-a}&gt;0$ å¯ä»¥è§£ä¸€ä¸‹ä¸Šè¿°æ–¹ç¨‹ï¼š (b-k^2)(2k-a)>0æ˜¾ç„¶å¯ä»¥çœ‹å‡ºä¸‰æ ¹åˆ†åˆ«ä¸º $k_1=-\\sqrt b,k_2=\\sqrt b,k_3=\\frac a 2$ è€Œ $k$ æ˜¾ç„¶æ˜¯è‡ªç„¶æ•°ï¼Œ$k_1=-\\sqrt b$ å°±ä¸è¦ç®¡äº†ï¼Œé‚£ä¹ˆæœ‰æ•ˆçš„èŒƒå›´åº”è¯¥æ˜¯ï¼š k\\in (\\frac a 2,\\sqrt b)\\ or\\ (\\sqrt b,\\frac a 2)åæ­£æ˜¯ä¸ªå¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œå¹¸å¥½èŒƒå›´éƒ½ä¸å¤§ï¼Œç›´æ¥æš´åŠ›æšä¸¾å³å¯ warning1ã€è®°å¾—å¼€ $long\\ long$ 1ã€è®°å¾—å¼€ $long\\ long$ ï¼ˆä»€ä¹ˆæ˜¯äººç±»çš„æœ¬è´¨ #include&lt;bits/stdc++.h&gt; #define rgt register #define LL long long #define rll rgt LL using namespace std; LL a,b,ans,x,L,R; int main() { rll k=0;scanf(&quot;%lld%lld&quot;,&amp;a,&amp;b); if(a*a==4*b){printf(&quot;inf&quot;);return 0;} x=sqrt(b);if(x*x==b) ans=1; while(1) {++k;L=2*k-a,R=b-k*k;//æ‡’å¾—åˆ¤æ–­åŒºé—´å·¦å³ç«¯ç‚¹å¤§å°ï¼Œç›´æ¥æš´åŠ›æšä¸¾å°±å¥½äº†ï¼Œ if(((L&gt;0&amp;&amp;R&gt;0)||(L&lt;0&amp;&amp;R&lt;0))&amp;&amp;(R%L==0)) ++ans; if(R&lt;0&amp;&amp;L&gt;0) break;//å½“R&lt;0&amp;&amp;L&gt;0æ—¶ï¼Œå†ä¹Ÿä¸å¯èƒ½æœ‰è§£ï¼Œå› ä¸ºä¸¤ç«¯å§‹ç»ˆä¿æŒå¼‚å·çŠ¶æ€ } printf(&quot;%lld\\n&quot;,ans);//è²Œä¼¼è¿™é‡Œéƒ½ä¸ç”¨å¼€LL.. return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3569ã€[POI2014]KAR-Cards è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3569-[POI2014]KAR-Cards-Solution","date":"2019-10-23T14:17:56.000Z","updated":"2019-12-01T07:28:28.518Z","comments":true,"path":"2019/10/23/Luogu_P3569-[POI2014]KAR-Cards-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/23/Luogu_P3569-[POI2014]KAR-Cards-Solution/","excerpt":"","text":"é¢˜é¢å‰è¨€åˆæ˜¯æ¯’ç˜¤ç¿»è¯‘é¢˜ï¼Œçœ‹äº†åŠå¤©æ²¡çœ‹æ‡‚ è´´ä¸Šç¿»è¯‘ æœ‰ $n$ å¼ å¡ç‰Œï¼Œæ¯å¼ å¡ç‰Œæ­£åä¸¤é¢éƒ½æœ‰æ•°å­—ã€‚ç°è¿›è¡Œ $m$ æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œä¼šå°†ä¸¤å¼ å¡ç‰Œçš„ä½ç½®äº’æ¢ï¼Œé—®æ¯æ¬¡æ“ä½œåèƒ½å¦é€šè¿‡ç¿»è½¬ä»»æ„æ•°é‡çš„å¡ç‰Œï¼Œä½¿å¾—æ­£é¢æ•°å­—æ„æˆçš„åºåˆ—ä¸ä¸‹é™ã€‚ è§£é¢˜æ€è·¯çº¿æ®µæ ‘ åˆ†ææ˜¾ç„¶ï¼Œ$n$ å’Œ $m$ çš„èŒƒå›´åˆ†åˆ«åœ¨ $2\\times 10^5$ å’Œ $1\\times 10^6$ çš„çº§åˆ«ï¼Œå› æ­¤è‚¯å®šèƒ½ç”¨çº¿æ®µæ ‘ç»´æŠ¤ è€ƒè™‘å¦‚ä½•ç»´æŠ¤ ä»¤å½“å‰åŒºé—´ä¸º $[l,r]$ï¼Œä¸­ç‚¹ä¸º $m$ï¼Œæ˜¾ç„¶åªæœ‰ $[l,m]$ å’Œ $[m+1,r]$ å•è°ƒä¸é™ï¼Œä¸” $m$ å·ä½ä¸Šçš„æ ‘å°äº $m+1$ å·ä½ä¸Šçš„æ•°ï¼Œ$[l,r]$ åŒºé—´æ‰èƒ½æ˜¯å•è°ƒåŒºé—´ï¼Œå› æ­¤å¯ä»¥å¼€ä¸‰ç»´æ•°ç»„ $f[k][0/1][0/1]$ è¡¨ç¤ºåŒºé—´å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹æ˜¯å¦ç¿»è½¬çš„æƒ…å†µï¼Œç„¶ååˆ†åˆ«ä»å››ç§ä¸­é—´æƒ…å†µè½¬ç§»è¿‡æ¥ è´´ä¸ª Update inline void Update(rint k,rint ls,rint m) { f[k][0][0]=(f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0]); f[k][0][1]=(f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1]); f[k][1][0]=(f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0]); f[k][1][1]=(f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1]); } ä»¥ f[k][0][1] ä¸ºä¾‹ f[k][0][1] è¡¨ç¤ºè¯¥åŒºé—´å·¦ç«¯ç‚¹ä¸ç¿»è½¬ï¼Œå³ç«¯ç‚¹ç¿»è½¬ï¼Œ ç„¶åæšä¸¾åˆ†å‡ºæ¥çš„ä¸¤æ®µåŒºé—´çš„å·¦å³ç«¯æƒ…å†µï¼Œå³å¯è½¬ç§» f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1] è¡¨ç¤ºä¸¤æ®µåŒºé—´é¦–å°¾åˆ†åˆ«ä¸ç¿»å’Œç¿»ï¼Œä¸¤æ®µåˆ†åˆ«å•è°ƒä¸”è¿æ¥åä»å•è°ƒï¼Œåˆ™ f[k][0][1] å¯æ„æˆå•è°ƒä¸é™åºåˆ— Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 200003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,T,l,pos; struct node{ int fr,bc; inline void input() {fr=read(),bc=read();} }b[N],x,y; bool f[N&lt;&lt;2][2][2]; inline void Update(rint k,rint ls,rint m) {//è½¬ç§»ï¼Œåˆ†4ç§æƒ…å†µï¼Œå¯ä»¥å†™æˆfor f[k][0][0]=(f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0]); f[k][0][1]=(f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][0][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][0][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1]); f[k][1][0]=(f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][0])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][0]); f[k][1][1]=(f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][1][0]&amp;&amp;b[m].fr&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].fr&amp;&amp;f[ls|1][0][1])|| (f[ls][1][1]&amp;&amp;b[m].bc&lt;=b[m+1].bc&amp;&amp;f[ls|1][1][1]); } inline void built(rint k,rint l,rint r) {//åˆå§‹åŒ– if(l==r) return f[k][0][0]=f[k][1][1]=1,void(); rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,m),built(ls|1,m+1,r),Update(k,ls,m); } inline void Modify(rint k,rint l,rint r) {//ä¿®æ”¹ if(l==r) return b[l]=y,void(); rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; (pos&lt;=m)?Modify(ls,l,m):Modify(ls|1,m+1,r);Update(k,ls,m); } int main() { rint i,j;n=read(); for(i=1;i&lt;=n;i++) b[i].input(); built(1,1,n),T=read(); while(T--) { x=b[pos=read()],y=b[l=read()];//äº¤æ¢å½“æˆä¸¤æ¬¡ä¿®æ”¹æ“ä½œ... Modify(1,1,n),y=x,pos=l,Modify(1,1,n); if(f[1][0][0]||f[1][0][1]||f[1][1][0]||f[1][1][1]) printf(&quot;TAK\\n&quot;); else printf(&quot;NIE\\n&quot;);//å¯¹æ•´ä¸ªåŒºé—´é¦–å°¾è®¨è®ºä¸€ä¸‹ } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€Œç®—æ³•å¯¼è®ºã€æ¸è¿›è®°å·&ä¸»å®šç† å­¦ä¹ ç¬”è®° (å’•)","slug":"A-IntroductiontoAlgorithms-MasterTheorem-Notes","date":"2019-10-18T12:48:38.000Z","updated":"2019-11-14T00:11:06.777Z","comments":true,"path":"2019/10/18/A-IntroductiontoAlgorithms-MasterTheorem-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/18/A-IntroductiontoAlgorithms-MasterTheorem-Notes/","excerpt":"","text":"å¼•å…¥æœ‰ä¸€å¤©ï¼Œ $author$ çœ‹åˆ°ä¸€ä¸ªç¥å¥‡çš„å¼å­ï¼š \\large T(n)=9T(\\frac n 3)+nç°æ±‚ï¼šä¸Šå¼çš„æ—¶é—´å¤æ‚åº¦ å¯æ€œçš„ $author$ åšä¸å‡ºæ¥ï¼Œäºæ˜¯å°±è¿›è¡Œä¸€ç•ªç¥å¥‡çš„æ“ä½œï¼Œæœ€ååœ¨æŸæœ¬åšå¾—å¯ä»¥æ‹¿æ¥é˜²èº«çš„é»‘ä¹¦ä¸Šæ‰¾äº†è¿™ç¥å¥‡çš„è§£æ³•â€”â€”ä¸»å®šç† ä¸»å®šç†ï¼šç”¨æ¸è¿›ç¬¦å·è¡¨ç¤ºè®¸å¤šç”±åˆ†æ²»æ³•å¾—åˆ°çš„é€’æ¨å…³ç³»å¼çš„æ–¹æ³• æ¸è¿›è®°å·è¦æ±‚ï¼šå¯¹äºæ¸è¿›è®°å·ä¸­æ‰€æœ‰å‡½æ•°ï¼Œå‡æ˜¯æ¸è¿›éè´Ÿï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„æ¸è¿›æ­£å‡½æ•°ï¼ˆå¯¹è¶³å¤Ÿå¤§çš„ $n$ å‡ä¸ºæ­£çš„å‡½æ•°ï¼‰ æ¸è¿›è®°å·ä¸€è§ˆï¼š æ¸è¿›ç´§ç¡®è®°å·ï¼š$\\Theta$ æ¸è¿›ä¸Šç•Œè®°å·ï¼š$O$ æ¸è¿›ä¸‹ç•Œè®°å·ï¼š$\\Omega$ éæ¸è¿›ç´§ç¡®ä¸Šç•Œè®°å·ï¼š$o$ éæ¸è¿›ç´§ç¡®ä¸‹ç•Œè®°å·ï¼š$\\omega$ $\\Theta$ è®°å·è¯»ä½œï¼š$/â€˜Î¸i:tÉ™/$ï¼Œ$LaTeX$ è¯­æ³•ï¼š\\Theta å¯¹ä¸€ä¸ªç»™å®šçš„å‡½æ•° $g(n)$ï¼Œç”¨ $\\Theta(g(n))$ æ¥è¡¨ç¤ºä¸€ä¸‹å‡½æ•°çš„é›†åˆï¼š $\\Theta(g(n))={\\ f(n)$ï¼šå­˜åœ¨æ­£å¸¸é‡ $c_1$ã€$c_2$ å’Œ $n_0$ï¼Œä½¿å¾—å¯¹æ‰€æœ‰ $n\\ge n_0$ï¼Œæœ‰ $0\\le c_1g(n)\\le f(n)\\le c_2g(n)\\ }$ æˆ‘ä»¬ç§° $g(n)$ æ˜¯ $f(n)$ çš„ä¸€ä¸ªæ¸è¿›ç´§ç¡®ç•Œ $(asymptotically\\ tight\\ bound)$ $O$ è®°å·è¯»ä½œï¼š$/É™u/$ï¼Œ$LaTeX$ è¯­æ³•ï¼šO ï¼ˆåˆ«çœ‹äº†ï¼Œå°±æ˜¯å­—æ¯O å¯¹ä¸€ä¸ªç»™å®šçš„å‡½æ•° $g(n)$ï¼Œç”¨ $O(g(n))$ (è¯»ä½œâ€å¤§ $Og(n)$ â€œï¼Œæœ‰æ—¶ä»…è¯»ä½œâ€$Og(n)$ â€œ)æ¥è¡¨ç¤ºä¸€ä¸‹å‡½æ•°çš„é›†åˆï¼š $O(g(n))=${ $f(n)$ï¼šå­˜åœ¨æ­£å¸¸é‡ $c$ å’Œ $n_0$ï¼Œä½¿å¾—å¯¹æ‰€æœ‰ $n\\ge n_0$ï¼Œæœ‰ $0\\le f(n)\\le cg(n)$ } $O$ è®°å·æä¾›äº†æ¸è¿›ä¸Šç•Œ $\\Omega$ è®°å·è¯»ä½œï¼š$/oÊŠâ€™meÉ¡É™/$ï¼Œ$LaTeX$ è¯­æ³•ï¼š\\Omega å¯¹ä¸€ä¸ªç»™å®šçš„å‡½æ•° $g(n)$ï¼Œç”¨ $\\Omega(g(n))$ æ¥è¡¨ç¤ºä¸€ä¸‹å‡½æ•°çš„é›†åˆï¼š $\\Omega(g(n))=${ $f(n)$ï¼šå­˜åœ¨æ­£å¸¸é‡ $c$ å’Œ $n_0$ï¼Œä½¿å¾—å¯¹æ‰€æœ‰ $n\\ge n_0$ï¼Œæœ‰ $0\\le cg(n)\\le f(n)$ } $\\Omega$ è®°å·æä¾›äº†æ¸è¿›ä¸‹ç•Œ ä¸»å®šç†ä»¤ $a\\ge 1$ å’Œ $b&gt;1$ æ˜¯å¸¸æ•°ï¼Œ$f(n)$ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ$T(n)$ æ˜¯å®šä¹‰åœ¨éè´Ÿæ•´æ•°ä¸Šçš„é€’å½’å¼ï¼š \\large T(n)=aT(\\frac n b)+f(n)å…¶ä¸­æˆ‘ä»¬å°† $\\frac n b$ è§£é‡Šä¸º $\\lfloor \\frac n b \\rfloor$ æˆ– $\\lceil \\frac n b \\rceil$ã€‚é‚£ä¹ˆ $T(n)$ æœ‰å¦‚ä¸‹æ¸è¿›ç•Œï¼š è‹¥å¯¹æŸä¸ªå‡½æ•° $\\epsilon &gt;0$ æœ‰ $f(n)=O(n^{\\log_b{a-\\epsilon }})$ï¼Œåˆ™ $T(n)=\\Theta(n^{\\log_ba})$ã€‚ è‹¥ $f(n)=\\Theta(n^{\\log_ba})$ï¼Œåˆ™ $T(n)=\\Theta(n^{\\log_ba}\\lg n)$ã€‚ è‹¥å¯¹æŸä¸ªå¸¸æ•° $\\epsilon&gt;0$ æœ‰ $f(n)=\\Omega(n^{\\log_ba+\\epsilon})$ï¼Œä¸”å¯¹æŸä¸ªå‡½æ•° $c&lt;1$ å’Œæ‰€æœ‰è¶³å¤Ÿå¤§çš„ $n$ æœ‰ $af(\\frac n b) \\le cf(n)$ï¼Œåˆ™ $T(n)=\\Theta(f(n))$ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"ä¸»å®šç†","slug":"ä¸»å®šç†","permalink":"http://hovnySiLenCe.github.io/tags/ä¸»å®šç†/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒAuthorã€æ¨¡æ¿é›†åˆ å­¦ä¹ ç¬”è®° (æ›´æ–°ä¸­)","slug":"A-Author-Templates-Notes","date":"2019-10-10T07:59:54.000Z","updated":"2020-07-18T06:50:01.196Z","comments":true,"path":"2019/10/10/A-Author-Templates-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/10/A-Author-Templates-Notes/","excerpt":"","text":"$\\mathtt{Update}\\ \\mathtt{2019.12.3}$ æ•°æ®ç»“æ„è«é˜Ÿé€‰çš„æ˜¯æˆ‘å†™è«é˜Ÿ(å‡è£…)é¡¶å³°æ—¶çš„ä»£ç  $\\mathtt{Link}$ #include&lt;bits/stdc++.h&gt; #define getchar() *(p++) #define rgt register #define rint rgt int #define N 1000007 using namespace std; struct node{ int l,r,i; }b[N]; int n,m,t,l,r,block,pos[N],Ans[N]; int s[N],a[N],d[N],f[N],sum[N],ans; char bf[1&lt;&lt;25],*p=bf; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline bool cmp(rgt node a,rgt node b) {//çœ‹ä¼¼å¾ˆé£˜çš„æ ·å­(å¥‡å¶æ€§ä¼˜åŒ– return (pos[a.l]^pos[b.l])?a.l&lt;b.l:(pos[a.l]&amp;1)?a.r&lt;b.r:a.r&gt;b.r; } inline bool Add(rgt int x) {if(!sum[f[x]]++) ans^=a[x];} inline bool Del(rgt int x) {if(!(--sum[f[x]])) ans^=a[x];} int main() { rint i;bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;,n=read(); for(i=1;i&lt;=n;i++) d[i]=a[i]=read(),s[i]=s[i-1]^a[i]; m=read();sort(d+1,d+1+n),t=unique(d+1,d+1+n)-d-1,block=n/sqrt(m*0.9);//ç„å­¦çš„å—çš„å¤§å° for(i=1;i&lt;=n;i++) f[i]=lower_bound(d+1,d+t+1,a[i])-d,pos[i]=i/block; for(i=1;i&lt;=m;i++) b[i].l=read(),b[i].r=read(),b[i].i=i; sort(b+1,b+1+m,cmp),l=1; for(i=1;i&lt;=m;i++) {//å°½é‡å…ˆAddå†Del,å¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸€äº›ä¸å¿…è¦çš„é—®é¢˜ while(r&lt;b[i].r) Add(++r); while(l&gt;b[i].l) Add(--l); while(r&gt;b[i].r) Del(r--); while(l&lt;b[i].l) Del(l++); Ans[b[i].i]=ans^s[b[i].l-1]^s[b[i].r]; } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; } æ ‘é“¾å‰–åˆ†æ ‘é“¾å‰–åˆ†çš„ç†è®ºå¤æ‚åº¦æ˜¯ $m\\log^2n$ï¼Œä½†æ˜¯æœ‰å…¶ä¼˜ç§€çš„å¸¸æ•°ï¼Œä¸€èˆ¬è·‘ä¸æ»¡ $\\mathtt{Link}$ å…¶åˆ†ä¸ºé‡é“¾å’Œé•¿é“¾å‰–åˆ†ï¼Œè¿™é‡Œå†™çš„æ˜¯é‡é“¾å‰–åˆ†ï¼Œæ®æŸç¥ä»™è¯´ï¼Œæ ‘é“¾å‰–åˆ†è™½é•¿ä½†æ˜¯å¼æ‰“ï¼Œæ˜¯ $OIer$ $\\times \\times$ çš„é¦–é€‰â€¦ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100007 using namespace std; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int head[N],ver[N&lt;&lt;1],nxt[N&lt;&lt;1],in[N],a[N],out[N]; int fa[N],size[N],dep[N],son[N]; int seg[N],rev[N],top[N],num; LL f[N&lt;&lt;2],tag[N&lt;&lt;2],ans,p; int n,T,L,R,t,x,y,w,root; inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t, ver[++t]=x,nxt[t]=head[y],head[y]=t; } inline LL dec(rll x){return(x&gt;=p)?x-p:x;} inline void dfs1(rint k) { rint i,to; dep[k]=dep[fa[k]]+1,size[k]=1; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(to==fa[k]) continue; fa[to]=k,dfs1(to),size[k]+=size[to]; if(size[to]&gt;size[son[k]])//é‡å„¿å­ son[k]=to; } } inline void dfs2(rint k) { in[k]=num;//å­æ ‘çš„å…¶å®å¯ä»¥ä¸ç”¨è¿™ä¹ˆç»´æŠ¤ï¼Œä½†æ˜¯æˆ‘æ‡’çš„æ”¹äº†ï¼Œin[k]=seg[k] if(son[k]) {//out[k]=seg[k]+size[k]-1 seg[son[k]]=++num, top[son[k]]=top[k], rev[num]=son[k], dfs2(son[k]); } rint i,to; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(top[to]) continue; seg[to]=++num,rev[num]=top[to]=to; dfs2(to);//revè¡¨ç¤ºåºå·æ‰€å¯¹åŸæ¥çš„ä½ç½® }out[k]=num; } inline void built(rint k,rint l,rint r) { if(l==r){f[k]=a[rev[l]];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,m),built(ls|1,m+1,r); f[k]=dec(f[ls]+f[ls|1]); } inline void push(rint k,rint l,rint r) { f[k]=(f[k]+tag[k]*(r-l+1))%p; if(l!=r) { rint ls=k&lt;&lt;1; tag[ls]=dec(tag[ls]+tag[k]), tag[ls|1]=dec(tag[ls|1]+tag[k]); }tag[k]=0; } inline void Modify(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]=w;return push(k,l,r);} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,m),Modify(ls|1,m+1,r); f[k]=dec(f[ls]+f[ls|1]); } inline void Query(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {ans=dec(ans+f[k]);return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query(ls,l,m),Query(ls|1,m+1,r); } #define fx top[x] #define fy top[y] inline void Add(rint x,rint y) { w=read()%p; while(fx!=fy) { if(dep[fx]&lt;dep[fy]) swap(x,y);//ä¿è¯è·³çš„æ˜¯æ·±åº¦è¾ƒå°çš„ç‚¹ L=seg[fx],R=seg[x], Modify(1,1,n),x=fa[fx];//è·³è½»è¾¹ } if(dep[x]&lt;dep[y]) swap(x,y); L=seg[y],R=seg[x],Modify(1,1,n); } inline void Ask(rint x,rint y) { while(fx!=fy) { if(dep[fx]&lt;dep[fy]) swap(x,y); L=seg[fx],R=seg[x], Query(1,1,n),x=fa[fx]; } if(dep[x]&lt;dep[y]) swap(x,y); L=seg[y],R=seg[x],Query(1,1,n); } int main() { rint i,op; n=read(),T=read(),root=read(),p=read(); for(i=1;i&lt;=n;i++) a[i]=read()%p; for(i=1;i&lt;n;i++) add(read(),read()); num=seg[root]=1,rev[1]=top[root]=root;//æ³¨æ„rootä¸åŒ dfs1(root),dfs2(root),built(1,1,n);//å»ºæ ‘ while(T--) { op=read(); if(op==1||op==3) { if(op==3) { x=read(),w=read()%p, L=in[x],R=out[x],Modify(1,1,n); } else Add(read(),read()); } else { ans=0; if(op==2) Ask(read(),read()); else x=read(),L=in[x],R=out[x],Query(1,1,n); printf(&quot;%lld\\n&quot;,ans); } } return 0; } å¯æŒä¹…åŒ–çº¿æ®µæ ‘ç¬¬ä¸€æ¬¡æ‰“å¯æŒä¹…çº¿æ®µæ ‘ï¼ˆæ ‡è®°æ°¸ä¹…åŒ–ï¼‰ï¼Œæ¥è‡ªæŸé“ç”± $\\color{red}{\\mathtt{b}}\\color{black}{\\mathtt{ztMinamoto}}\\%\\%\\%$ ç¿»è¯‘çš„é¢˜ $\\mathtt{Link}$ #include&lt;bits/stdc++.h&gt;//å¤§è‡´ä¸Šå’Œä¸»å¸­æ ‘ç±»ä¼¼ï¼Œemmm...è²Œä¼¼ä¸»å¸­æ ‘å°±æ˜¯å¯æŒä¹…åŒ–çº¿æ®µæ ‘... #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline LL read() { rll s=0,p=0; rgt char c=getchar(); while(!isdigit(c)) p=(c==&#39;-&#39;),c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return p?-s:s; } inline void getc(char&amp;c) { c=getchar();while(c&lt;&#39;A&#39;||c&gt;&#39;Z&#39;) c=getchar(); } struct node{ int ls,rs; LL sum,tag; }T[N*160]; int n,m,L,R,t,res,a[N],root[N];LL w,ans; inline void built(rint k,rint l,rint r) { cmax(t,k); if(l==r) {T[k].sum=a[l];return;} rint m=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(T[k].ls=ls,l,m),built(T[k].rs=ls|1,m+1,r), T[k].sum=T[ls].sum+T[ls|1].sum; } inline void Modify(rint l,rint r,rint &amp;x,rint y) { if(r&lt;L||R&lt;l) return; x=++t,T[t]=T[y]; if(L&lt;=l&amp;&amp;r&lt;=R) {T[x].tag+=w;return;} T[t].sum+=w*(min(r,R)-max(l,L)+1);//åˆ’é‡ç‚¹ï¼Œæ ‡è®°æ°¸ä¹…åŒ–çš„å½±å“ rint m=(l+r)&gt;&gt;1; Modify(l,m,T[x].ls,T[y].ls), Modify(m+1,r,T[x].rs,T[y].rs); } inline void push(rll tag,rint l,rint r) { ans+=(min(R,r)-max(L,l)+1)*tag; } inline void Query(rint l,rint r,rint root) { if(r&lt;L||R&lt;l) return; if(T[root].tag) push(T[root].tag,l,r);//åˆ’é‡ç‚¹ï¼Œæ ‡è®°æ°¸ä¹…åŒ–çš„å½±å“ if(L&lt;=l&amp;&amp;r&lt;=R) {ans+=T[root].sum;return;} rint m=(l+r)&gt;&gt;1; Query(l,m,T[root].ls),Query(m+1,r,T[root].rs); } int main() { rint i;char op; n=read(),m=read(); for(i=1;i&lt;=n;i++) a[i]=read(); built(1,1,n),root[0]=1; while(m--) { getc(op); if(op==&#39;C&#39;) { L=read(),R=read(),w=read(),++res; Modify(1,n,root[res],root[res-1]); } else if(op==&#39;Q&#39;) ans=0,L=read(),R=read(),Query(1,n,root[res]),printf(&quot;%lld\\n&quot;,ans); else if(op==&#39;H&#39;) ans=0,L=read(),R=read(),Query(1,n,root[read()]),printf(&quot;%lld\\n&quot;,ans); else res=read(); } return 0; } Link Cut Tree$LCT$ è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼Œåªæ˜¯æƒ³å½“åˆä¸ºäº† $LCT$ å­¦ $Splay$ å­¦çš„å¤´å¤§ $\\mathtt{Link}$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define N 300007 using namespace std; int fa[N],v[N],f[N],son[N][2]; int n,T,St[N],top;bool r[N]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline bool Ide(rint x) {return son[fa[x]][1]==x;}//åˆ¤æ–­æ˜¯å·¦è¿˜æ˜¯å³å„¿å­ inline bool Tol(rint x) {return (son[fa[x]][0]==x)||(son[fa[x]][1]==x);}//åˆ¤æ–­æ˜¯å¦æœ‰å®è¾¹ç›¸è¿ inline void Flip(rint x) {swap(son[x][0],son[x][1]),r[x]^=1;}//ç¿»è½¬ inline void push(rint x) {//ä¸‹ä¼ ç¿»è½¬æ ‡è®° if(!r[x]) return;r[x]=0; if(son[x][0]) Flip(son[x][0]); if(son[x][1]) Flip(son[x][1]); } inline void Update(rint x) { f[x]=f[son[x][0]]^f[son[x][1]]^v[x]; } inline void rotate(rgt int x) { rint y=fa[x],z=fa[y]; rint ys=Ide(x),zs=Ide(y),v=son[x][ys^1]; if(Tol(y)) son[z][zs]=x;fa[x]=z;//yè¿çš„æ˜¯ä¸æ˜¯è™šè¾¹ son[x][ys^1]=y,fa[y]=x; if(v) fa[v]=y;son[y][ys]=v; Update(y),Update(x);//Updata } inline void Splay(rint x) { rint y=x,z;St[top=1]=y; while(Tol(y)) St[++top]=y=fa[y];//è¿™é‡Œç”¨äºä¸‹ä¼ æ ‡è®°å†ç¿»è½¬ while(top) push(St[top--]); while(Tol(x)) { y=fa[x],z=fa[y]; if(Tol(y))//ä»ç„¶åˆ¤è™šè¾¹ rotate((son[y][0]==x)^(son[z][0]==y)?x:y);//å¦‚æœåœ¨ä¸€æ¡é“¾ä¸Šå°±å…ˆrotateçˆ¶äº² rotate(x);//è¿™æ ·èƒ½ä½¿æœŸæœ›æ ‘é«˜ä¸ºlog } } inline void Access(rint x) {//å°†xå’Œrootè¿æˆä¸€æ¡é“¾ for(rint y=0;x;x=fa[y=x]) Splay(x),son[x][1]=y,Update(x); } inline void Catch(rint x) {//ä½¿xæˆä¸ºroot Access(x),Splay(x),Flip(x); } inline int Search(rint x) {//å¯»æ‰¾æœ€æµ…çš„ç‚¹ï¼ŒLinkå’ŒCutä¸“ç”¨ Access(x),Splay(x); while(son[x][0]) push(x),x=son[x][0]; Splay(x);return x; } inline void Link(rint x,rint y) { Catch(x); if(Search(y)!=x) fa[x]=y;//ç›´æ¥è¿è™šè¾¹å³å¯ } inline void Cut(rint x,rint y) { Catch(x); if(Search(y)==x&amp;&amp;fa[y]==x&amp;&amp;!son[y][0])//è¦åˆ¤æ–­ä¸€ç³»åˆ—å¤æ‚çš„ä¸œè¥¿ fa[y]=son[x][1]=0,Update(x); } inline void Query(rint x,rint y) { Catch(x),Access(y),Splay(y); printf(&quot;%d\\n&quot;,f[y]); } int main() { rint i,p,x,y; n=read(),T=read(); for(i=1;i&lt;=n;i++) v[i]=read(); while(T--) { p=read(),x=read(),y=read(); if(p==0) Query(x,y); else if(p==1) Link(x,y); else if(p==2) Cut(x,y); else Splay(x),v[x]=y,Update(x); } return 0; } è²Œä¼¼ä¹Ÿæ˜¯ $LCT$ æ•™ä¼šæˆ‘å¡å¸¸å’Œå‹è¡Œï¼ˆæ¯’ç˜¤ç é£ åŠ¨æ€è§„åˆ’æ•°ä½ DPæ•°ä½ $DP$ è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ä¸€äº›åˆå§‹åŒ–å’Œ $status$ æ¨¡æ¿é¢˜ [SCOI2009]windyæ•° #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 13 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int l,r,t,num[N],f[N][N],ans; inline int dfs(rint k,rint st,rint op) { if(!k) return 1; if(!op&amp;&amp;~f[k][st]) return f[k][st];//å¯¹æ²¡æœ‰è¾¾åˆ°ä¸Šé™çš„ä¸€èˆ¬æƒ…å†µè®°å¿†åŒ– rint i,t=op?num[k]:9,res=0;//tè¡¨ç¤ºçš„æ˜¯å½“å‰æšä¸¾çš„ä¸Šé™ for(i=0;i&lt;=t;i++) { if(abs(st-i)&lt;2) continue; if(st==11&amp;&amp;i==0) res+=dfs(k-1,11,op&amp;(i==t)); else res+=dfs(k-1,i,op&amp;(i==t)); } if(!op) f[k][st]=res; return res; } inline int solve(rint x) { memset(f,-1,sizeof(f)),t=0;//ä¸ªäººæ„Ÿè§‰è¿™é‡Œç¬¬äºŒæ¬¡ä¸ç”¨memset while(x) num[++t]=x%10,x/=10; // do num[++t]=x%10,x/=10; while(x);è¿™æ ·å°±å¯ä»¥æŠŠ0ç®—è¿›å»ï¼Œæœ‰äº›é¢˜ç›®ä¼šè¦æ±‚ï¼Œä½†æ˜¯é—®é¢˜ä¸å¤§ return dfs(t,11,1); } int main() { l=read()-1,r=read();//å¯¹è¯¢é—®æ±‚è§è¿›è¡Œå·®åˆ† printf(&quot;%d&quot;,solve(r)-solve(l)); return 0; } SAC#1 - èŒæ•° #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define p 1000000007 #define N 1003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int top,num[N],sum[N],bi[N]; int ans,f[N][11][11][2]; char a[N],b[N]; inline int dec(rint x){return(x&gt;=p)?x-p:x;} inline int dfs(rint k,rint sec,rint fir,rint st,rint zt,rint op) {//å…­ç»´çŠ¶æ€ if(st) return f[k][sec][fir][st]=op?sum[k]+1:bi[k+1]; if(!k) return st; if(!op&amp;&amp;~f[k][sec][fir][st]) return f[k][sec][fir][st]; rint i,t=op?num[k]:9;rll res=0; for(i=0;i&lt;=t;i++) res=dec(res+dfs(k-1,fir,(i==0&amp;&amp;zt)?-1:i,st|(i==sec||i==fir),zt&amp;(i==0),op&amp;(i==t))); if(!op) f[k][sec][fir][st]=res; return res; } int main() { rint i,j;bi[1]=1; for(i=2;i&lt;N;i++) bi[i]=(LL)bi[i-1]*10%p; scanf(&quot;%s%s&quot;,a+1,b+1),top=strlen(a+1); for(i=1;i&lt;=top;i++) num[i]=a[top-i+1]-&#39;0&#39;;--num[1]; i=1;while(num[i]&lt;0) --num[i+1],num[i]+=10,++i; if(!num[top]) --top;memset(f,-1,sizeof(f)); for(i=1;i&lt;=top;i++) sum[i]=(sum[i-1]+(LL)num[i]*bi[i])%p; ans=-dfs(top,-1,-1,0,1,1),top=strlen(b+1); for(i=1;i&lt;=top;i++) num[i]=b[top-i+1]-&#39;0&#39;; for(i=1;i&lt;=top;i++) sum[i]=(sum[i-1]+(LL)num[i]*bi[i])%p; // memset(f,-1,sizeof(f));ç¬¬äºŒæ¬¡çœŸä¸ç”¨memset ans+=dfs(top,-1,-1,0,1,1),printf(&quot;%d&quot;,(ans%p+p)%p); return 0; } æ±‚æ¯ä½æ•°çš„å’Œ SP17247 PR003004 - Digit Sum #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} int num[19],t,nm,T; LL f[19][191][2],l,r; inline LL dfs(rint k,rint st,rint op) { if(!k) return st; if(~f[k][st][op]) return f[k][st][op]; rint i,t=op?num[k]:9;rll res=0; for(i=0;i&lt;=t;i++) res+=dfs(k-1,st+i,op&amp;(i==t)); return f[k][st][op]=res; } inline LL solve(rll c) { t=0;while(c) num[++t]=c%10,c/=10; memset(f,-1,sizeof(f));//è®°å¾—åˆå§‹åŒ–ä¸º0 return dfs(t,0,1); } int main() { scanf(&quot;%d&quot;,&amp;T); while(T--) scanf(&quot;%lld%lld&quot;,&amp;l,&amp;r),l=max(l-1,0ll),//ä¸èƒ½ä¸º-1 printf(&quot;%lld\\n&quot;,solve(r)-solve(l));//å·®åˆ† return 0; } æ±‚æ•°å­—å‡ºç°çš„æ¬¡æ•° Luogu P2602 [ZJOI2010]æ•°å­—è®¡æ•° å¯¹äºè¿™é¢˜æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆå¼€ç»“æ„ä½“æ‰€æœ‰ä¸€èµ·ç®—ä¼šç‚¸ï¼Œå‘ç°é—®é¢˜çš„è”ç³»æˆ‘è·ªè°¢ æœ€ææ€–çš„æ˜¯ç¨å¾®æ”¹ç‚¹åœ°æ–¹ç­”æ¡ˆå°±ä¸åŒï¼Œ$IDE$ ä¸Šè·‘çš„ç»“æœä¹Ÿä¸åŒ $Wrong\\ Answer\\ version$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 11 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} struct node{ LL s[11];int p; inline node operator+ (const node a) const{ node c; for(rint i=0;i&lt;=9;i++) c.s[i]=s[i]+a.s[i]; return c; } inline node operator- (const node a) const{ node c; for(rint i=0;i&lt;=9;i++) c.s[i]=s[i]-a.s[i]; return c; } }f[13][11],ans,init; int num[13],top; LL l,r,a[11],sum[13],b[15]; inline node dfs(rint k,rint st,rint zt,rint op) { node res=init; if(!zt) res.s[st]+=op?sum[k]+1:b[k+1]; if(!k) return res; if(!op&amp;&amp;f[k][st].p) return f[k][st]; rint i,t=op?num[k]:9; for(i=0;i&lt;=t;i++) res=res+dfs(k-1,i,zt&amp;(i==0),op&amp;(i==t)); if(!op) f[k][st]=res; return res; } inline void solve(rll l,rll r) { top=0;do num[++top]=r%10,sum[top]=num[top]*b[top]+sum[top-1],r/=10; while(r);ans=dfs(top,0,1,1); top=0;do num[++top]=l%10,sum[top]=num[top]*b[top]+sum[top-1],l/=10; while(l);ans=ans-dfs(top,0,1,1); } int main() { rint i;b[1]=init.p=1; for(i=2;i&lt;13;i++) b[i]=b[i-1]*10; scanf(&quot;%lld%lld&quot;,&amp;l,&amp;r),solve(l-1,r); for(i=0;i&lt;=9;++i) printf(&quot;%lld &quot;,ans.s[i]); return 0; } $Accepted\\ version$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return (a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return (a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int t,num[15]; LL l,r,f[15][15][2][2]; inline LL dfs(rint k,rint st,rint zt,rint op,rint nm) { if(!k) return st; if(~f[k][st][zt][op]) return f[k][st][zt][op]; rint i,t=op?num[k]:9;rll res=0; for(i=0;i&lt;=t;i++) res+=dfs(k-1,st+((!zt||i)&amp;&amp;i==nm),zt&amp;(i==0),op&amp;(i==t),nm);//å‰å¯¼0çš„ç‰¹åˆ¤ f[k][st][zt][op]=res; return res; } inline LL solve(rll x,rint nm) { t=0;while(x) num[++t]=x%10,x/=10; memset(f,-1,sizeof(f));return dfs(t,0,1,1,nm); } int main() { scanf(&quot;%lld%lld&quot;,&amp;l,&amp;r),--l; for(rint i=0;i&lt;=9;i++) printf(&quot;%lld &quot;,solve(r,i)-solve(l,i));//å¯¹æ¯ä½ä¸€æ¬¡è®¡æ•° return 0; } å›¾è®ºç¼©ç‚¹æ²¡æƒ³åˆ°ç¼©ç‚¹ä»£ç å±…ç„¶è¿˜æœ‰å°é•¿ $\\mathtt{Link}$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define M 200007 #define N 10007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int head[N],h[N],ver[M],nxt[M]; int dfn[N],low[N],bl[N],res; int a[N],f[N],d[N]; int n,m,num,ans,t; int St[N],top; bool vis[N]; inline int read() { rint s,p;s=p=0; rgt char c=getchar(); while(!isdigit(c)) p=(c==&#39;-&#39;),c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return p?-s:s; } inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline void Add(rint x,rint y) { ver[++t]=y,nxt[t]=h[x],h[x]=t; } inline void tarjan(rint k) { dfn[k]=low[k]=++num,St[++top]=k; for(rint i=head[k],to;i;i=nxt[i]) { to=ver[i]; if(!dfn[to]) tarjan(to),cmin(low[k],low[to]); else if(!bl[to]) cmin(low[k],dfn[to]);//è¿™ä¸ªç‰¹åˆ¤å¾ˆé‡è¦ï¼ } if(dfn[k]==low[k]) { bl[k]=++res,f[res]=a[k]; while(St[top]!=k) bl[St[top]]=res,f[res]+=a[St[top--]]; top--; } } inline void solve() { rint i,to,cur; queue&lt;int&gt;p; for(i=1;i&lt;=res;i++) if(!d[i]) cmax(ans,f[i]),p.push(i); while(!p.empty()) { cur=p.front(),p.pop(); for(i=h[cur];i;i=nxt[i]) { to=ver[i],d[to]--, cmax(f[to],a[to]+f[cur]), cmax(ans,f[to]); if(!d[to]) p.push(to); } } } int main() { rint i,j,to,x,y; n=read(),m=read(); for(i=1;i&lt;=n;i++) a[i]=read(); for(i=1;i&lt;=m;i++) x=read(),add(x,read()); for(i=1;i&lt;=n;i++) if(!dfn[i]) tarjan(i);//æ¯ä¸ªéƒ½è¦åšä¸€ä¸‹ for(i=1;i&lt;=res;i++) a[i]=f[i]; for(i=1;i&lt;=n;i++)//äºŒæ¬¡åŠ ç‚¹æœ‰ç‚¹å¤æ‚ for(j=head[i];j;j=nxt[j]) { to=ver[j]; if(bl[i]==bl[to]) continue; Add(bl[i],bl[to]),++d[bl[to]]; }solve(); printf(&quot;%d&quot;,ans); return 0; } ç½‘ç»œæœ€å¤§æµç½‘ç»œæµèƒŒæ¿å­ï¼Œåªæ˜¯å»ºè¾¹è¾ƒéš¾ï¼Œå¡Dinicæ˜¯è¿æ³•çš„ $\\mathtt{Link}$ #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 100007 #define N 10007 using namespace std; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct node{ int to,nxt,cap; node(int a,int b,int c):to(a),nxt(b),cap(c){ } node(){ } }b[M&lt;&lt;1]; int head[N],dep[N]; int n,m,S,T,t=1,Maxflow; inline void add(rint x,rint y,rint cap) {//æ­£è¾¹æµé‡ä¸ºcapï¼Œåè¾¹æµé‡ä¸º0 b[++t]=node(y,head[x],cap),head[x]=t, b[++t]=node(x,head[y],0),head[y]=t; } inline bool BFS() { rint i,c,to;queue&lt;int&gt;p; memset(dep,0,sizeof(dep)); dep[S]=1,p.push(S);//dep[S]ä¸€å®šè¦èµ‹ä¸º0 while(!p.empty()) { c=p.front(),p.pop(); for(i=head[c];i;i=b[i].nxt) { to=b[i].to; if(b[i].cap&amp;&amp;!dep[to]) { dep[to]=dep[c]+1;//ä¸€å®šè¦å…ˆæ ‡è®° if(to==T) return 1; p.push(to); } } }return 0; } inline int Dinic(rint k,rint flow) { if(k==T) return flow; rint i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) {//restçš„æ¡ä»¶ä¸è¦å¿˜è®° to=b[i].to,cap=b[i].cap;//å¯ä»¥ç”¨ä¸Šå½“å‰å¼§ä¼˜åŒ– if(cap&amp;&amp;dep[to]==dep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) dep[to]=0; b[i].cap-=res, b[i^1].cap+=res, rest-=res; } }return flow-rest; } int main() { rint i,x,y,flow=0; n=read(),m=read(),S=read(),T=read(); for(i=1;i&lt;=m;i++) x=read(),y=read(),add(x,y,read()); while(BFS()) while((flow=Dinic(S,inf)))//è¿™é‡Œè¿˜å¯ä»¥ç”¨ä¸Šå½“å‰å¼§ä¼˜åŒ– Maxflow+=flow; printf(&quot;%d&quot;,Maxflow); return 0; } åç»­è¿˜ä¼šè´´ä¸Šæœ€å¤§æµçš„ä¸€äº›ä¼˜åŒ– å­—ç¬¦ä¸²manacher ç®—æ³•Luogu P3805 ã€æ¨¡æ¿ã€‘manacherç®—æ³• #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define N 11000007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,m,len,mx,id,p[N&lt;&lt;1],ans; char s[N&lt;&lt;1],st[N]; inline void init() { rint i;len=strlen(st+1); s[0]=&#39;!&#39;,s[1]=&#39;#&#39;, n=(len&lt;&lt;1|1)+1; for(i=1;i&lt;=len;i++)//æ‰©å±•ä¸º !#st_1#st_2...#? å½¢å¼ s[i&lt;&lt;1]=st[i],s[i&lt;&lt;1|1]=&#39;#&#39;; s[n]=&#39;?&#39;;return; } inline void manacher() { rint i;init(); for(i=1;i&lt;=n;i++) { if(i&lt;mx) p[i]=min(p[(id&lt;&lt;1)-i],mx-i);//åˆç†åˆ©ç”¨å·²å¤„ç†éƒ¨åˆ† else p[i]=1; while(s[i-p[i]]==s[i+p[i]]) ++p[i]; if(i+p[i]&gt;mx) mx=i+p[i],id=i; } } int main() { rint i;scanf(&quot;%s&quot;,st+1); manacher();for(i=1;i&lt;n;i++) cmax(ans,p[i]); printf(&quot;%d&quot;,ans-1);return 0; } KMP ç®—æ³•Luogu P3375 ã€æ¨¡æ¿ã€‘KMPå­—ç¬¦ä¸²åŒ¹é… #include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define N 1000003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int n,A,B,p[N]; char a[N],b[N]; int main() { rint i,j; scanf(&quot;%s&quot;,a+1),scanf(&quot;%s&quot;,b+1); A=strlen(a+1),B=strlen(b+1); for(i=2,j=0;i&lt;=B;i++) {//æ±‚nextå› æ­¤ä»i=2å¼€å§‹ while(j&amp;&amp;b[i]!=b[j+1]) j=p[j]; if(b[i]==b[j+1]) ++j;p[i]=j; } for(i=1,j=0;i&lt;=A&amp;&amp;j&lt;=B;i++) { while(j&amp;&amp;(j==B||a[i]!=b[j+1])) j=p[j]; if(a[i]==b[j+1]) ++j; if(j==B) printf(&quot;%d\\n&quot;,i-B+1);//å‡ºç°çš„ä½ç½® } for(i=1;i&lt;=B;i++) printf(&quot;%d &quot;,p[i]); return 0; } åç¼€æ•°ç»„Luogu P3809 ã€æ¨¡æ¿ã€‘åç¼€æ’åº (SA) #include&lt;bits/stdc++.h&gt; #define N 1000010 using namespace std; int n,m,x[N],y[N],c[N],sa[N],p; char s[N]; int main() { int i,k; scanf(&quot;%s&quot;,s); n=strlen(s);m=125; for(i=0;i&lt;n;i++) c[x[i]=s[i]]++; for(i=1;i&lt;m;i++) c[i]+=c[i-1]; for(i=0;i&lt;n;i++) sa[--c[x[i]]]=i; for(k=1;k&lt;=n;k&lt;&lt;=1) { p=0; for(i=n-k;i&lt;n;i++) y[p++]=i; for(i=0;i&lt;n;i++) if(sa[i]&gt;=k) y[p++]=sa[i]-k; for(i=0;i&lt;m;i++) c[i]=0; for(i=0;i&lt;n;i++) c[x[y[i]]]++; for(i=1;i&lt;m;i++) c[i]+=c[i-1]; for(i=n-1;i&gt;=0;i--) sa[--c[x[y[i]]]]=y[i]; swap(x,y);p=1;x[sa[0]]=0; for(i=1;i&lt;n;i++) x[sa[i]]=(y[sa[i-1]]==y[sa[i]]&amp;&amp;y[sa[i-1]+k]==y[sa[i]+k])?p-1:p++; if(p&gt;=n) break; m=p; } for(i=0;i&lt;n;i++) printf(&quot;%d &quot;,sa[i]+1); return 0; }","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"æ¨¡æ¿","slug":"æ¨¡æ¿","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ¿/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒContestã€2019.09.15 Cx Solution (å’•)","slug":"A-Contest-2019_09_15_Cx-Solution","date":"2019-10-10T07:47:08.000Z","updated":"2019-11-02T10:03:39.158Z","comments":true,"path":"2019/10/10/A-Contest-2019_09_15_Cx-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/10/A-Contest-2019_09_15_Cx-Solution/","excerpt":"","text":"Source T1","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿèµ›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2599ã€[ZJOI2009]å–çŸ³å­æ¸¸æˆ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2599-[ZJOI2009]PebbleGame-Solution","date":"2019-10-08T07:59:42.000Z","updated":"2019-12-01T07:28:32.268Z","comments":true,"path":"2019/10/08/Luogu_P2599-[ZJOI2009]PebbleGame-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/08/Luogu_P2599-[ZJOI2009]PebbleGame-Solution/","excerpt":"","text":"é¢˜é¢å‰è¨€éå¸¸ç¥ä»™çš„åŠ¨æ€è§„åˆ’ è§£é¢˜æ€è·¯åŠ¨æ€é¬¼è§„åˆ’ åˆ†ææ„Ÿè§‰è¿™é“é¢˜è¿˜æ˜¯æ¯”è¾ƒçœ‹æŠ€å·§çš„ï¼Œï¼ˆæ˜¯è°æƒ³å‡ºæ¥çš„ï¼Œå¤ªå¦™äº†å‘€ï¼æ¨å‡ºå»æ‰“ ç”¨ $L[i][j]$ è¡¨ç¤ºåœ¨ $[i,j]$ è¿™ä¸ªåŒºé—´å·¦ä¾§ï¼ˆä¹Ÿå°±æ˜¯ $i-1$ çš„ä½ç½®ï¼‰æ”¾å¤šå°‘çŸ³å­å¯ä»¥ä¿è¯å…ˆæ‰‹å¿…è´¥ åŒä¸Šï¼Œç”¨ $R[i][j]$ è¡¨ç¤ºåœ¨ $[i,j]$ è¿™ä¸ªåŒºé—´å³ä¾§æ”¾å¤šå°‘çŸ³å­å¯ä»¥ä¿è¯å…ˆæ‰‹å¿…è´¥ æ¥ä¸‹å»ï¼Œæˆ‘ä»¬è¦è¯æ˜ä¸€ä¸‹ $L[i][j]$ å’Œ $R[i][j]$ çš„å”¯ä¸€ï¼ˆå­˜åœ¨ï¼‰æ€§ $L[i][j]$ å’Œ $R[i][j]$ çš„å”¯ä¸€æ€§ä»¥ $L[i][j]$ ä¸ºä¾‹ï¼ˆ$R[i][j]$ åŒç†ï¼‰ï¼Œ 1ã€è‹¥ $L[i][j]$ ä¸å”¯ä¸€ï¼Œè®¾å…¶ä¸­ä¸¤ä¸ªå€¼åˆ†åˆ«ä¸º $L_1,L_2$ ï¼ˆ$L_1 &lt; L_2$ï¼‰ï¼Œæ˜¾ç„¶ $L_2$ å¯ä»¥ç»è¿‡å…ˆæ‰‹å–ä¸€æ¬¡å˜æˆ $L_1$ çš„çŠ¶æ€ï¼Œä¸æ­¤æ—¶ä¸å…ˆæ‰‹å¿…è´¥çŸ›ç›¾ï¼Œæ‰€ä»¥ $L[i][j]$ å”¯ä¸€å­˜åœ¨ 2ã€è‹¥ $L[i][j]$ ä¸å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ $[i,j]$ åŒºé—´çŸ³å­å·¦ä¾§æ— è®ºæ”¾å¤šå°‘ï¼Œå…ˆæ‰‹éƒ½æ˜¯å¿…èƒœæ€ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ä»å³ä¾§æ‹¿çŸ³å­å°±ä¼šè¾¾åˆ°ä¸€ä¸ªå¿…è´¥æ€ï¼Œä½†æ˜¯ç”±äºï¼Œå·¦ä¾§çš„çŸ³å­æ•°å¯ä»¥ä»»æ„ï¼Œé‚£ä¹ˆå°±å˜æˆäº†$L[i][j]$ ä¸å”¯ä¸€çš„æƒ…å†µï¼ˆé™¤å·¦ä¾§ä¸€å †çŸ³å­æ•°æ˜¯ä¸ä¸€æ ·å¤–ï¼Œå…¶ä»–éƒ½ä¸€æ ·ï¼‰ï¼Œè¿™ä¸æˆ‘ä»¬åœ¨ 1 ä¸­å¾—å‡ºçš„ç»“è®ºçŸ›ç›¾ï¼Œä¸€æ¬¡ $L[i][j]$ å¿…å®šå­˜åœ¨ è€ƒè™‘ $L[i][j]$ å’Œ $R[i][j]$ çš„åˆå§‹åŒ–è¾¹ç•Œå³ä¸ºï¼š$i=j$ æ—¶ï¼Œ $L[i][i]$ ä¸ $R[i][i]$ çš„çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯ä¸ª $Nim$ æ¸¸æˆï¼Œæ˜¾ç„¶ $L[i][i]=R[i][i]=a[i]$ å³å¯ è€ƒè™‘ $L[i][j]$ å’Œ $R[i][j]$ çš„è½¬ç§»ä»¥ $L[i][j]$ ä¸ºä¾‹ï¼Œåˆ†ç±»è®¨è®º 0ã€æ˜¾ç„¶ $L[i][j]$ çš„è½¬ç§»ä¸ $L[i][j-1]$ ä»¥åŠ $R[i][j-1]$ æœ‰å…³ï¼Œä¸ $L[i+1][j]$ ä»¥åŠ $R[i+1][j]$ æ— å…³ é‚£ä¹ˆï¼Œä»¤ $x=a[j]$ ï¼ˆç¬¬ $j$ å †çŸ³å­æ•°ï¼‰ï¼Œ$l=L[i][j-1]$ï¼Œ$r=R[i][j-1]$ 1ã€å½“ $r=x$ æ—¶ï¼Œ$L[i][j]=0$ æ­¤æ—¶ $[i,j]$ å·²æ˜¯å…ˆæ‰‹å¿…è´¥æ€ï¼Œå› æ­¤ $L[i][j]=0$ å³å¯ 2ã€å½“ $x&lt;l$ ä¸” $x&lt;r$ æ—¶ï¼Œ$L[i][j]=x$ ä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶ä¸¤ä¾§çš„çŸ³å­æ•°ä¸€è‡´ï¼Œæ— è®ºå…ˆæ‰‹æ€ä¹ˆå–ï¼Œåæ‰‹åªè¦æ¨¡ä»¿å…ˆæ‰‹åœ¨å¦ä¸€ä¾§å–ç›¸åŒçš„æ•°é‡ï¼Œè¿™æ ·å°±èƒ½ä¿è¯å…ˆæ‰‹å…ˆå–å®Œï¼Œæ­¤æ—¶å·¦ä¾§æˆ–å³ä¾§è‚¯å®šä»æœ‰ä¸€å †æ²¡æœ‰å–å®Œï¼Œæ­¤æ—¶å¯ä»¥ç­‰ä»·è®¤ä¸ºå½“å‰çŠ¶æ€æ˜¯ å…ˆæ‰‹ä» $l$ æˆ– $r$ çš„çŠ¶æ€å–ä¸€å®šæ•°é‡çš„çŸ³å­è½¬ç§»è€Œæ¥ 3ã€å½“ $l&lt;x&lt;r$ æ—¶ï¼Œ$L[i][j]=x+1$ è‹¥å…ˆæ‰‹åœ¨å·¦ä¾§å–ï¼Œå‰©ä¸‹çŸ³å­æ•°ä¸º $rest$ ï¼Œ å½“ $rest=0$ æ—¶ï¼Œç­‰ä»·äº å…ˆæ‰‹åœ¨ $r$ çš„çŠ¶æ€ä¸‹ï¼Œåœ¨å³ä¾§å–äº†ä¸€å®šæ•°é‡çš„çŸ³å­è½¬ç§»è€Œæ¥ å½“ $rest&lt;l$ æ—¶ï¼Œåæ‰‹åªè¦å°†å³ä¾§çš„çŸ³å¤´å–åˆ°å’Œ $rest$ ç›¸åŒçš„æ•°ç›®ï¼Œå³å¯è½¬ç§»åˆ° 2 çš„æƒ…å†µ å½“ $rest=l$ æ—¶ï¼Œåæ‰‹å°†å³ä¾§å–å®Œå°±å¯ä»¥è®©å…ˆæ‰‹è¾¾åˆ°å¿…è´¥æ€ å½“ $rest&gt;l$ æ—¶ï¼Œåæ‰‹åªè¦å°†å³ä¾§çŸ³å­å–åˆ° $rest-1$ å³å¯é‡æ–°å›åˆ°å½“å‰çŠ¶æ€ è‹¥å…ˆæ‰‹åœ¨å³ä¾§å–ï¼Œå‰©ä¸‹çŸ³å­æ•°ä¸º $rest$ ï¼Œ å½“ $rest=0$ æ—¶ï¼Œåæ‰‹æŠŠå·¦ä¾§çŸ³å­å–åˆ° $l$ å³å¯ å½“ $rest&lt;l$ æ—¶ï¼ŒåŒä¸Šï¼Œå–å·¦ä¾§ï¼Œå¯ä»¥è½¬ç§»åˆ° 2 çš„æƒ…å†µ å½“ $rest&gt;=l$ æ—¶ï¼Œåæ‰‹é€šè¿‡åœ¨å·¦ä¾§æˆ–å³ä¾§å–ï¼Œä½¿ å·¦ä¾§çŸ³å­æ•°=å³ä¾§çŸ³å­æ•°+1 å³å¯ 4ã€å½“ $l&gt;x&gt;r$ æ—¶ï¼Œ$L[i][j]=x-1$ è¿™ç§æƒ…å†µä¸ 3 ä¸€è‡´ï¼Œå¯ä»¥è®¤ä¸ºåªæ˜¯äº’æ¢äº†ä¸€ä¸‹å·¦å³ä¸¤ä¾§è€Œå·² 5ã€å½“ $x&gt;l$ ä¸” $x&gt;r$ æ—¶ï¼Œ$L[i][j]=x$ è‹¥å…ˆæ‰‹åœ¨å·¦ä¾§å–ï¼Œå‰©ä¸‹çŸ³å­æ•°ä¸º $rest$ï¼Œ å½“ $rest=0$ æ—¶ï¼Œåæ‰‹å°†å³ä¾§çŸ³å­å–è‡³ $r$ å³å¯ å½“ $l&lt;rest$ æ—¶ï¼Œå¯è½¬ç§»è‡³ 2 å½“ $l=rest$ æ—¶ï¼Œå³ä¾§ç›´æ¥å–å®Œ å½“ $rest \\in [l,r]$ æˆ– $rest\\in[r,l]$ æ—¶ï¼Œå¯è½¬ç§»è‡³ 3 æˆ– 4 å½“ $l&lt;rest$ ä¸” $r&lt;rest$ æ—¶ï¼Œä¿æŒå½“å‰çŠ¶æ€å³å¯ åˆ¤æ–­ç”±äºå·¦ä¾§å’Œå³ä¾§æ˜¯ç­‰ä»·çš„ï¼Œå› æ­¤æœ€ååªéœ€åˆ¤æ–­ $L[2][n]$ æ˜¯å¦ç­‰äº $a[1]$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rLL rgt LL #define inf 0x7f7f7f7f #define N 1003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int n,T,a[N],L[N][N],R[N][N]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int main() { int i,j,l,r,k,x; T=read(); while(T--) { n=read(); for(i=1;i&lt;=n;i++) L[i][i]=R[i][i]=a[i]=read();//åˆå§‹åŒ– for(k=2;k&lt;n;k++) {//æšä¸¾åŒºé—´é•¿åº¦ for(i=1,j=i+k-1;j&lt;=n;i++,j++) {//æšä¸¾å·¦å³ç«¯ç‚¹ x=a[j],l=L[i][j-1],r=R[i][j-1]; if(x==r) L[i][j]=0;//æƒ…å†µ1 else if((x&gt;l&amp;&amp;x&gt;r)||(x&lt;l&amp;&amp;x&lt;r)) L[i][j]=x;//æƒ…å†µ2ã€5 else if(r&lt;x&amp;&amp;x&lt;l) L[i][j]=x-1;//æƒ…å†µ4 else L[i][j]=x+1;//æƒ…å†µ3 x=a[i],l=L[i+1][j],r=R[i+1][j];//åŒç†å¯å¾— if(x==l) R[i][j]=0; else if((x&gt;l&amp;&amp;x&gt;r)||(x&lt;l&amp;&amp;x&lt;r)) R[i][j]=x; else if(l&lt;x&amp;&amp;x&lt;r) R[i][j]=x-1; else R[i][j]=x+1; } } putchar(a[1]==L[2][n]?&#39;0&#39;:&#39;1&#39;),putchar(&#39;\\n&#39;); } return 0; } å‚è€ƒ&amp;é¸£è°¢@Jason_Yvan(Luogu) @yybyyb(Luogu)","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒContestã€[JudgeOI]HomerÂ·VSÂ·Judge è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-Contest-JudgeOI2019-HomerVSJudge-Solution","date":"2019-10-04T07:56:21.000Z","updated":"2019-11-02T10:03:38.717Z","comments":true,"path":"2019/10/04/A-Contest-JudgeOI2019-HomerVSJudge-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/04/A-Contest-JudgeOI2019-HomerVSJudge-Solution/","excerpt":"","text":"Source T1","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿèµ›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒContestã€SCPFoundation è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-Contest-SCPFoundation-Solution","date":"2019-10-03T07:06:29.000Z","updated":"2019-11-02T10:03:38.317Z","comments":true,"path":"2019/10/03/A-Contest-SCPFoundation-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/10/03/A-Contest-SCPFoundation-Solution/","excerpt":"","text":"Source T1Sol","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿèµ›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3554ã€[POI2013]LUK-Triumphal arch è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-Luogu_P3554-[POI2013]LUK-Triumphal_arch-Solution","date":"2019-09-29T14:20:01.000Z","updated":"2019-12-01T07:28:45.363Z","comments":true,"path":"2019/09/29/A-Luogu_P3554-[POI2013]LUK-Triumphal_arch-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/09/29/A-Luogu_P3554-[POI2013]LUK-Triumphal_arch-Solution/","excerpt":"","text":"é¢˜é¢å‰è¨€ä¸€å¼€å§‹ç–¯ç‹‚çœ‹ä¸æ‡‚é¢˜æ„ï¼Œç„¶åå°±å‘ç°äº†ç¥å¥‡çš„ä¸œè¥¿ $Link$ $Ps:$ é¢˜å· $3420$ è§£é¢˜æ€è·¯äºŒåˆ†ã€æ ‘å½¢DP åˆ†ææ˜¾ç„¶ï¼Œç­”æ¡ˆå­˜åœ¨å•è°ƒæ€§ï¼Œå› æ­¤å¯ä»¥äºŒåˆ† äºŒåˆ†ä¹‹åå°±æ˜¯å¦‚ä½• Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rLL rgt LL #define inf 0x7f7f7f7f #define N 300007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int n,t,ver[N&lt;&lt;1],nxt[N&lt;&lt;1],head[N],ans,m,f[N]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t, ver[++t]=x,nxt[t]=head[y],head[y]=t; } inline void dfs(rint k,rint fa) { rint i,to; for(i=head[k];i;i=nxt[i]) { to=ver[i];if(to==fa) continue; dfs(to,k),f[k]+=f[to]+1; }f[k]-=m,cmax(f[k],0); } int main() { rint i,l,r;r=n=read(),l=0; for(i=1;i&lt;n;i++) add(read(),read()); while(l&lt;=r) { memset(f,0,sizeof(f)), m=(l+r)&gt;&gt;1,dfs(1,0); if(!f[1]) ans=m,r=m-1; else l=m+1; }printf(&quot;%d&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"http://hovnySiLenCe.github.io/tags/äºŒåˆ†/"},{"name":"æ ‘å½¢DP","slug":"æ ‘å½¢DP","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘å½¢DP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1210ã€[HNOI2003]æ¶ˆé˜²å±€çš„è®¾ç«‹ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2279-[HNOI2003]FireStation-Solution","date":"2019-09-26T04:57:49.000Z","updated":"2019-12-01T07:28:34.365Z","comments":true,"path":"2019/09/26/Luogu_P2279-[HNOI2003]FireStation-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/09/26/Luogu_P2279-[HNOI2003]FireStation-Solution/","excerpt":"","text":"é¢˜é¢å³ç”¨åŠå¾„ä¸º $2$ çš„åœ†è¦†ç›–ä¸€æ£µæ ‘çš„æœ€å°‘åœ†ä¸ªæ•° è§£é¢˜æ€è·¯æ ‘å½¢ $DP$ $/$ ç¥ä»™è´ªå¿ƒ åˆ†æä¸€ä¸ªç‚¹çš„çŠ¶æ€æ¯”è¾ƒå°‘ï¼Œå› æ­¤å¯ä»¥ é£Ÿ ç”¨åŠ¨æ€è§„åˆ’ ä½†æ˜¯çŠ¶æ€å¹¶ä¸æ˜¯åªæœ‰é€‰è¿™ä¸ªç‚¹å’Œä¸é€‰è¿™ä¸ªç‚¹ä¸¤ç§ï¼Œå› ä¸ºåŠå¾„å˜å¤§ä¹‹å çŠ¶æ€å°±ä¼šå¤æ‚ä¸€ç‚¹ï¼Œå˜æˆï¼š è®¾è¯¥ç‚¹ä¸º $k$ï¼Œåˆ™ 1ã€é€‰ $k$ è¿™ä¸ªç‚¹ 2ã€ä¸é€‰ $k$ï¼Œä½† $k$ è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º $1$ 3ã€ä¸é€‰ $k$ï¼Œä½† $k$ è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º $2$ 4ã€ä¸é€‰ $k$ï¼Œä½† $k$ è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º $3$ 5ã€ä¸é€‰ $k$ï¼Œä½† $k$ è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º $4$ ä¹Ÿå°±æ˜¯åˆ†äº”ç§æƒ…å†µè®¨è®º f[k][0]: é€‰è¯¥ç‚¹çš„æœ€å°èŠ±è´¹ f[k][1]: è¯¥ç‚¹è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º1çš„æœ€å°èŠ±è´¹ f[k][2]: è¯¥ç‚¹è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º2çš„æœ€å°èŠ±è´¹ f[k][3]: è¯¥ç‚¹è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º3çš„æœ€å°èŠ±è´¹ f[k][4]: è¯¥ç‚¹è·å…¶å­æ ‘ä¸­è¢«é€‰ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º4çš„æœ€å°èŠ±è´¹ æ˜¾ç„¶ï¼Œï¼ˆ$to$ ä¸º $k$ çš„å­ç»“ç‚¹ï¼‰ 1ã€f[k][0] è‡³ f[k][4] æ‰€éœ€æ»¡è¶³çš„æ¡ä»¶è¶Šæ¥è¶Šå°‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œf[k][i-1] çš„å€¼å¯ä»¥æ›´æ–° f[k][i],i belong to {1,2,3,4} 2ã€f[k][3] å’Œ f[k][4] åˆ†åˆ«å¯ä»¥ç”±å…¶å­ç»“ç‚¹çš„ f[to][2] å’Œ f[to][3] ç›´æ¥æ›´æ–° 3ã€f[k][0] å¯ä»¥ç”± f[to][4] ç›´æ¥æ›´æ–° è¿™æ ·ä¹‹åï¼Œæˆ‘ä»¬å†è®¨è®ºä¸‹ f[k][1] å’Œ f[k][2] çš„æƒ…å†µå³å¯ f[k][1] ç”± f[to][0] è½¬ç§»è€Œæ¥ï¼Œæ˜¾ç„¶åªéœ€è¦ä¸€ä¸ªå­ç»“ç‚¹èƒ½è¦†ç›–åˆ°å³å¯ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æšä¸¾æ¯ä¸ª $to$ ï¼Œç„¶åç”¨ f[to][0] + å…¶ä»–å­ç»“ç‚¹çš„ f[_][3] æ›´æ–°ç­”æ¡ˆ f[k][2] ç”± f[to][1] è½¬ç§»è€Œæ¥ï¼ŒåŒç†ï¼Œå¯ä»¥æšä¸¾æ¯ä¸ªå­ç»“ç‚¹ï¼Œç„¶å f[to][1] + å…¶ä»–å­ç»“ç‚¹çš„ f[_][2] æ›´æ–°ç­”æ¡ˆ è½¬ç§»ä»£ç ï¼š inline void dfs(rint k) { rint i,to,sum=0,res=0;f[k][1]=f[k][2]=inf; for(i=head[k];i;i=nxt[i]) { to=ver[i],dfs(to); if(f[k][0]&lt;inf) f[k][0]+=f[to][4]; if(sum&lt;inf) sum+=f[to][2]; if(res&lt;inf) res+=f[to][3]; if(f[k][3]&lt;inf) f[k][3]+=f[to][2]; if(f[k][4]&lt;inf) f[k][4]+=f[to][3]; } for(i=head[k];i;i=nxt[i]) { to=ver[i]; if(f[to][3]&lt;inf) cmin(f[k][1],res-f[to][3]+f[to][0]); if(f[to][2]&lt;inf) cmin(f[k][2],sum-f[to][2]+f[to][1]); } for(i=1;i&lt;5;i++) cmin(f[k][i],f[k][i-1]); } warning1ã€é—´æ¥è®¡ç®—çš„çŠ¶æ€è¦èµ‹åˆå€¼ä¸º inf 2ã€å¦‚æœç´¯åŠ çš„æ—¶å€™å¤§äº infï¼Œåº”åœæ­¢æ›´æ–°ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå¿…å®šä¸æ»¡è¶³ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rLL rgt LL #define inf 0x3f3f3f3f #define N 1003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K b){return(a&gt;b)?a=b,1:0;} int n,t,ver[N],nxt[N],head[N],f[N][5]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rint x,rint y) { ver[++t]=y,nxt[t]=head[x],head[x]=t; } inline void dfs(rint k) { rint i,to,sum=0,res=0;f[k][1]=f[k][2]=inf;//æ³¨æ„ä¸¤ç§é—´æ¥è®¡ç®—çš„çŠ¶æ€è¦è®¡ç®—åˆå€¼ for(i=head[k];i;i=nxt[i]) { to=ver[i],dfs(to); if(f[k][0]&lt;inf) f[k][0]+=f[to][4]; if(sum&lt;inf) sum+=f[to][2]; if(res&lt;inf) res+=f[to][3];//å¤„ç†æ€»å’Œé—´æ¥è½¬ç§» if(f[k][3]&lt;inf) f[k][3]+=f[to][2]; if(f[k][4]&lt;inf) f[k][4]+=f[to][3];//ç›´æ¥è½¬ç§» } for(i=head[k];i;i=nxt[i]) { to=ver[i]; if(f[to][3]&lt;inf) cmin(f[k][1],res-f[to][3]+f[to][0]); if(f[to][2]&lt;inf) cmin(f[k][2],sum-f[to][2]+f[to][1]);//é—´æ¥è½¬ç§» } for(i=1;i&lt;5;i++) cmin(f[k][i],f[k][i-1]);//æ›´æ–° } int main() { rint i;n=read(); for(i=2;i&lt;=n;i++) add(read(),i); dfs(1),printf(&quot;%d\\n&quot;,f[1][2]); return 0; } å¦ä¸€ç§è§£æ³•ç¥ä»™è´ªå¿ƒï¼ŒLink å…ˆå°†æ•´æ£µæ ‘çš„ç»“ç‚¹æŒ‰æ·±åº¦æ’åºï¼Œè®°å½•ä¸€ä¸ª o[_] è¡¨ç¤ºåˆ°æœ€è¿‘èƒ½è¢«è¦†ç›–çš„ç‚¹çš„è·ç¦» ç„¶åå¦‚æœè¿™ä¸ªç‚¹è¶…å‡ºäº†èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯ o[_]&gt;2 é‚£ä¹ˆåœ¨é€‰æ‹©è¿™ä¸ªç‚¹ï¼Œæ”¹å˜å…¶ ä¸€åˆ°å›› è¾ˆç¥–å…ˆçš„ o[_] å€¼å³å¯ Code#include&lt;iostream&gt; #include&lt;cstdio&gt; #include&lt;algorithm&gt; #define N 2020 #define FOR(i,a,b) for(int i=a;i&lt;=b;i++) using namespace std; int n,b[N],f[N],d[N],o[N],ans,u,v,w; bool cmp(int x,int y){return d[x]&gt;d[y];} int main(){ scanf(&quot;%d&quot;,&amp;n);b[1]=1,o[1]=o[0]=N; FOR(i,2,n) scanf(&quot;%d&quot;,&amp;f[i]),d[i]=d[f[i]]+1,b[i]=i,o[i]=N; sort(b+1,b+n+1,cmp); FOR(i,1,n){ v=b[i],w=f[v],u=f[f[v]]; o[v]=min(o[v],min(o[w]+1,o[u]+2)); if(o[v]&gt;2){ o[u]=0,ans++; o[f[u]]=min(o[f[u]],1),o[f[f[u]]]=min(o[f[f[u]]],2); } }printf(&quot;%d&quot;,ans); }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘å½¢DP","slug":"æ ‘å½¢DP","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘å½¢DP/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒOI-wikiã€ Lucas&ExLucaså®šç† å­¦ä¹ ç¬”è®° (å’•)","slug":"A-Oiwiki-Lucas&ExLucas-Notes","date":"2019-09-22T06:50:23.000Z","updated":"2019-11-02T10:03:35.550Z","comments":true,"path":"2019/09/22/A-Oiwiki-Lucas&ExLucas-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/09/22/A-Oiwiki-Lucas&ExLucas-Notes/","excerpt":"","text":"å†™åœ¨å‰é¢åŸæ–‡ $Link$ å¼•é¦–ä¼—æ‰€å‘¨çŸ¥ï¼Œç»„åˆæ•°æ˜¯ä¸ªå¾ˆæ¶å¿ƒé‡è¦çš„ä¸œè¥¿ \\large C_n^m=\\binom{n}{m}å…³äºç»„åˆæ•°å’Œæ¨è¾‰ä¸‰ $jio$ çš„å…³ç³»ï¼š åŒæ ·çš„é€’æ¨æ–¹å¼ \\large C_n^m=C_{n-1}^m+C_{n-1}^{m-1}","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://hovnySiLenCe.github.io/tags/æ•°å­¦/"},{"name":"Lucaså®šç†","slug":"Lucaså®šç†","permalink":"http://hovnySiLenCe.github.io/tags/Lucaså®šç†/"},{"name":"æ‰©å±•Lucaså®šç†","slug":"æ‰©å±•Lucaså®šç†","permalink":"http://hovnySiLenCe.github.io/tags/æ‰©å±•Lucaså®šç†/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒæŸè®²ç¨¿ã€ ç‚¹åˆ†æ²» å­¦ä¹ ç¬”è®° (å’•)","slug":"A-LectureNotes-TreeDivide-Notes","date":"2019-09-20T13:46:14.000Z","updated":"2019-11-02T10:03:37.501Z","comments":true,"path":"2019/09/20/A-LectureNotes-TreeDivide-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/09/20/A-LectureNotes-TreeDivide-Notes/","excerpt":"","text":"","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"ç‚¹åˆ†æ²»","slug":"ç‚¹åˆ†æ²»","permalink":"http://hovnySiLenCe.github.io/tags/ç‚¹åˆ†æ²»/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒContestã€2019.09.08 Cx Solution (å’•)","slug":"A-Contest-2019_09_08_Cx-Solution","date":"2019-09-15T07:46:53.000Z","updated":"2019-11-02T10:03:39.573Z","comments":true,"path":"2019/09/15/A-Contest-2019_09_08_Cx-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/09/15/A-Contest-2019_09_08_Cx-Solution/","excerpt":"","text":"Source T1","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿèµ›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4449ã€äºç¥ä¹‹æ€’åŠ å¼ºç‰ˆ è§£é¢˜æŠ¥å‘Š (å’•)","slug":"Luogu_P4449-God'sBlaze-Solution","date":"2019-08-30T01:02:33.000Z","updated":"2019-12-01T07:28:23.730Z","comments":true,"path":"2019/08/30/Luogu_P4449-God'sBlaze-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/08/30/Luogu_P4449-God'sBlaze-Solution/","excerpt":"","text":"$Link$Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rLL rgt LL #define inf 0x7f7f7f7f #define p 1000000007 #define N 5000000 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int n,m,T,t,k,mu[N+3],f[N+3],pr[N],res,ans; bool v[N+3]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline int Pow(rLL a) { rint b=k;rLL res=1; for(;b;b&gt;&gt;=1,a=a*a%p) if(b&amp;1) res=res*a%p;return res; } inline void init() { rint i,j,c;mu[1]=1; for(i=2;i&lt;=N;i++) { if(!v[i]) pr[++t]=i,mu[i]=-1; for(j=1;j&lt;=t;++j) { c=i*pr[j];if(c&gt;N) break;v[c]=1; if(i%pr[j]) mu[c]=-mu[i]; else break; } } for(i=1;i&lt;=N;i++) { c=Pow(i); for(j=i;j&lt;=N;j+=i) f[j]=(f[j]+c*mu[j/i])%p; } for(i=2;i&lt;=N;i++) f[i]=(f[i]+f[i-1])%p; } inline void solve() { if(n&gt;m) n^=m^=n^=m;ans=0; for(rint l=1,r;l&lt;=n;l=r+1) { r=min(n/(n/l),m/(m/l)), ans=(ans+1ll*(n/l)*(m/l)%p*(f[r]-f[l-1])%p)%p; }printf(&quot;%d\\n&quot;,(ans+p)%p); } int main() { T=read(),k=read(),init(); while(T--) n=read(),m=read(),solve(); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®º/"},{"name":"è«æ¯”ä¹Œæ–¯åæ¼”","slug":"è«æ¯”ä¹Œæ–¯åæ¼”","permalink":"http://hovnySiLenCe.github.io/tags/è«æ¯”ä¹Œæ–¯åæ¼”/"},{"name":"æ•°è®ºåˆ†å—","slug":"æ•°è®ºåˆ†å—","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®ºåˆ†å—/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3172ã€[CQOI2015]é€‰æ•° è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3172-[CQOI2015]SelectNumber-Solution","date":"2019-08-30T00:59:06.000Z","updated":"2019-12-01T07:28:30.988Z","comments":true,"path":"2019/08/30/Luogu_P3172-[CQOI2015]SelectNumber-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/08/30/Luogu_P3172-[CQOI2015]SelectNumber-Solution/","excerpt":"","text":"$Link$æ±‚ \\large \\sum_{a_1=L}^H\\sum_{a_2=L}^H\\cdots\\sum_{a_n=L}^H[\\gcd\\limits_{i=1}^n(a_i)=k]è§£é¢˜æ€è·¯è«æ¯”ä¹Œæ–¯åæ¼” ï¼ˆéƒ½æ˜¯å¥—è·¯ åˆ†æå…ˆæŠŠ $H$ ç”¨ $R$ ä»£æ›¿ï¼Œï¼ˆå¤ªéš¾çœ‹äº† ç„¶åå°±ç‚ä»¥å¤§åŠ›æ¨æŸ¿å­äº† å…ˆæ ¹æ®å¥—è·¯ï¼ŒæŠŠ $k$ é™¤æ‰ \\large \\sum_{a_1=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}\\cdots\\sum_{a_n=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}[\\gcd\\limits_{i=1}^n(a_i)=1]ä¹‹åè¿ç”¨åæ¼”ç»“è®ºï¼Œï¼ˆè¿˜æ˜¯å¥—è·¯ \\large \\sum_{a_1=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}\\cdots\\sum_{a_n=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}\\sum_{d|\\gcd\\limits_{i=1}^n(a_i)}\\mu(d)æ”¹å˜æšä¸¾é¡ºåº \\large \\sum_{d=1}^{\\lfloor\\frac R k\\rfloor}\\mu(d)\\sum_{a_1=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}d|a_i\\cdots\\sum_{a_n=\\lceil \\frac L k \\rceil }^{\\lfloor \\frac R k \\rfloor}d|a_nä¹Ÿå°±æ˜¯ \\large \\sum_{d=1}^{\\lfloor\\frac R k\\rfloor}\\mu(d)\\cdot\\left(\\lfloor\\frac{\\lfloor \\frac R k \\rfloor} d \\rfloor-\\lfloor \\frac {\\lceil \\frac L k \\rceil-1} d\\rfloor\\right)^näºæ˜¯ç°åœ¨å°±ç‚ä»¥æ•°è®ºåˆ†å—æ±‚å•¦ åªä¸è¿‡ $\\mu(n)$ è²Œä¼¼çº¿æ€§ç­›ä¸å‡ºæ¥ï¼Œæ²¡å…³ç³»ï¼Œæœæ•™ç­›å¤§æ³•å¥½ æ—¶é—´å¤æ‚åº¦O(èƒ½è¿‡) $O(n^{\\frac 2 3}+\\sqrt nlog_2(n))$ Warning1ã€æœæ•™ç­›è®°å¾—ä» $2$ å¼€å§‹ç­› 2ã€æ•°è®ºåˆ†å—æ±‚è§£æ—¶æ³¨æ„ l&gt;L çš„æƒ…å†µï¼Œæ­¤æ—¶ä¸èƒ½ä½¿ç”¨ min(L/(L/l),R/(R/L)) 3ã€æ³¨æ„è¿‡ç¨‹ä¸­ int ç±»å‹çš„æº¢å‡º Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rLL rgt LL #define inf 0x7f7f7f7f #define p 1000000007 #define N 1000000 #define M 98573 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int nxt[N],key[N],val[N],head[M]; int L,R,n,t,k,mu[N+3],pr[N],ans,res; bool v[N+3]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void Insert(rint k,rint v) {//å†™äº†ä¸ªhashè¡¨ rint c=k%M;key[++t]=k,val[t]=v,nxt[t]=head[c],head[c]=t; } inline int Search(rint k) { rint c=k%M,i; for(i=head[c];i;i=nxt[i]) if(key[i]==k) return val[i]; return -1; } inline void init() {//é¢„å¤„ç†æœæ•™ç­›çš„å‰n^{2/3} rint i,j,c;mu[1]=1; for(i=2;i&lt;=N;++i) { if(!v[i]) pr[++t]=i,mu[i]=-1; for(j=1;j&lt;=t;++j) { c=i*pr[j];if(c&gt;N) break;v[c]=1; if(i%pr[j]) mu[c]=-mu[i]; else break; } } for(i=2;i&lt;=N;++i) mu[i]=(mu[i-1]+mu[i])%p; } inline int getmu(rint n) {//æœæ•™ç­›æä¸€æ if(n&lt;=N) return mu[n]; rint res=Search(n); if(~res) return res;res=1; for(rint l=2,r;l&lt;=n;l=r+1) { r=n/(n/l); res=(res-1ll*(r-l+1)*getmu(n/l))%p; }res%=p,Insert(n,res); return res; } inline int Pow(rLL a) { rint b=n;rLL res=1; for(;b;a=a*a%p,b&gt;&gt;=1) if(b&amp;1) res=res*a%p;return res; } inline void solve() { if(L%k) L=L/k;//é¢„å…ˆé™¤å»k else L=L/k-1;R/=k;rint x=0,y;//x,yåˆ†åˆ«è®°å½•ä¸Šæ¬¡rå’Œæœ¬æ¬¡rçš„muå‡½æ•°çš„å‰ç¼€å’Œ for(rint l=1,r;l&lt;=R;l=r+1) { if(l&lt;=L) r=min(R/(R/l),L/(L/l)); else r=R/(R/l);//ç‰¹åˆ¤æƒ…å†µ y=getmu(r),res=Pow(R/l-L/l); ans=(ans+1ll*(y-x)*res%p)%p,x=y; }printf(&quot;%d\\n&quot;,(ans+p)%p);//å¯èƒ½ä¸ºè´Ÿ } int main() { init(),n=read(),k=read(), L=read(),R=read(),solve(); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®º/"},{"name":"è«æ¯”ä¹Œæ–¯åæ¼”","slug":"è«æ¯”ä¹Œæ–¯åæ¼”","permalink":"http://hovnySiLenCe.github.io/tags/è«æ¯”ä¹Œæ–¯åæ¼”/"},{"name":"æ•°è®ºåˆ†å—","slug":"æ•°è®ºåˆ†å—","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®ºåˆ†å—/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2221ã€[HAOI2012]é«˜é€Ÿå…¬è·¯ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2221-[HAOI2012]Freeway-Solution","date":"2019-08-15T10:26:02.000Z","updated":"2019-12-01T07:28:35.210Z","comments":true,"path":"2019/08/15/Luogu_P2221-[HAOI2012]Freeway-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/08/15/Luogu_P2221-[HAOI2012]Freeway-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯çº¿æ®µæ ‘ åˆ†æç”¨ä¸€æ¡è·¯å·¦ç«¯ç‚¹çš„ç¼–å·è¡¨ç¤ºå®ƒçš„ç¼–å·ï¼Œå®é™…ä¸Šæ‰€æ±‚å³ä¸ºï¼š \\large \\frac {1} {\\tbinom{R-L+1}{2}} \\cdot \\sum_{i=L}^{R-1}\\sum_{j=i}^{R-1}\\sum_{k=i}^j v_iè®¾ $\\large sum(i,j)=\\sum_{k=i}^jv_i$ åŒºé—´ä¿®æ”¹ï¼Œè²Œä¼¼çº¿æ®µæ ‘å¯ä»¥ç»´æŠ¤ï¼Œäºæ˜¯å°±è€ƒè™‘åœ¨å·²çŸ¥ä¸€æ®µåŒºé—´ç­”æ¡ˆçš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆåˆå¹¶ 1ã€å¦‚ä½•åˆå¹¶åŒºé—´ è€ƒè™‘ä¸¤ä¸ªåŒºé—´åˆå¹¶å¢åŠ çš„ä¿¡æ¯çš„å€¼å³å¯ åœ¨å·¦åŒºé—´ä¸­çš„ $i$ å’Œå³åŒºé—´ä¸­çš„ $j$ çš„ $sum(i,j)$ ä¼šå¯¹ç­”æ¡ˆäº§ç”Ÿè´¡çŒ®ï¼Œè´¡çŒ®ä¸ºï¼š \\large \\sum_{i=l}^{mid}\\sum_{j=mid+1}^rsum(i,j)è·‘ä¸ªæš´åŠ›çš„ä»£ç ï¼š for(i=l;i&lt;=mid;++i) for(j=mid+1;j&lt;=r;++j) for(k=i;k&lt;=j;++k) ans+=v[i]; çœŸÂ·æš´åŠ› ä¸è¿‡å¯ä»¥å‘ç° $\\large \\sum_{i=l}^{mid}v[i]$ è¿™ä¸€æ®µï¼Œæ¯æ¬¡å¿…å¯¹ç­”æ¡ˆé€ æˆè´¡çŒ®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šè´¡çŒ® $r-mid$ æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¯¹å·¦è¾¹æ•´ä¸ªåŒºé—´è®°å½•ä¸€ä¸ªä»å³å¼€å§‹çš„å‰ç¼€å’Œï¼Œä½†æ˜¯ç”±äºæ¯æ¬¡æ›´æ–°æ—¶ä¹˜ä¸Šçš„éƒ½æ˜¯ $r-mid$ æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥å†å¯¹ä»å³å¼€å§‹çš„å‰ç¼€å’Œè®°å½•ä¸€ä¸ªæ€»å’Œ $sumR$ï¼Œè¡¨ç¤ºè¿™ä¸€æ®µåŒºé—´å†…æ‰€æœ‰ä»å³å¼€å§‹çš„å‰ç¼€å’Œçš„æ€»å’Œï¼Œå³ï¼š \\large sumR=\\sum_{i=l}^{mid}sum(i,mid)åŒç†ï¼Œå¯ä»¥ç”¨ $sumL$ æ¥ç»´æŠ¤ä¸€ä¸ªåŒºé—´å·¦ç«¯å‰ç¼€å’Œçš„æ€»å’Œ ä½†æ˜¯ $sumL$ å’Œ $sumR$ æœ‰åº”è¯¥å¦‚ä½•ç»´æŠ¤ï¼Ÿ ä»¥ $sumL$ ä¸ºä¾‹ï¼Œä»ç„¶åƒä¸Šé¢é‚£æ ·è€ƒè™‘ï¼Œåˆå¹¶ä¹‹åä¼šå¤šå‡º $r-mid$ æ®µ $sum(i,mid)$ ï¼ŒåŠ å…¥ç­”æ¡ˆå³å¯ï¼Œå› æ­¤æˆ‘ä»¬è¿˜è¦ç»´æŠ¤ä¸€ä¸ª $sum$ è¡¨ç¤ºåŒºé—´å’Œ äºæ˜¯åˆå¹¶ä¸¤ä¸ªåŒºé—´å³å¯å†™æˆï¼š inline void Update(rint k,rint ls,rint rs) {//åŸæœ‰çš„å€¼åŠ ä¸Šæ–°å¢çš„è´¡çŒ® f[k]=f[ls]+f[rs]+sumR[ls]*len[rs]+len[ls]*sumL[rs], sumR[k]=sumR[rs]+sumR[ls]+sum[rs]*len[ls], sumL[k]=sumL[ls]+sumL[rs]+sum[ls]*len[rs], sum[k]=sum[ls]+sum[rs]; } 2ã€å¦‚ä½•æ›´æ–°ç­”æ¡ˆ/ä¸‹ä¼ æ ‡è®° åœ¨ä¸€ä¸ªåŒºé—´åŠ ä¸Šä¸€ä¸ªå€¼ $v$ï¼Œå…¶å¯¹ç­”æ¡ˆäº§ç”Ÿè´¡çŒ®çš„å½¢å¼æ˜¯ä¸€å®šçš„ï¼Œæ€»æ˜¯é‚£ä¸ªæš´åŠ›çš„å¼å­ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†å‡ºåŒºé—´ $+1$ çš„æƒ…å†µï¼ŒåŠ  $v$ ä¿®æ”¹æ—¶ï¼Œç›´æ¥ä¹˜ä»¥é¢„å¤„ç†å€¼å³å¯ï¼Œé¢„å¤„ç†çš„è¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºä¸Šè¿°åˆå¹¶è¿‡ç¨‹ï¼Œä¸è¿‡é•¿åº¦å’Œ $sumR$ å’Œ $sumL$ éƒ½å¯ä»¥é€šè¿‡ $l$ å’Œ $r$ ä½“ç°å‡ºæ¥ï¼Œä¸éœ€è¦å¼€æ•°ç»„é¢å¤–è®°å½• åˆå§‹åŒ–è¿‡ç¨‹å¦‚ä¸‹ï¼š inline void Init(rint k,rint ls,rint rs) { len[k]=len[ls]+len[rs],//åŸæœ¬æ˜¯ä¸ç”¨è®°å½•lençš„ï¼Œä½†æ˜¯æ¯æ¬¡æ±‚lenæœ‰ç‚¹å°é•¿ï¼Œå°±å†™æˆè¿™æ ·äº† frc[k]=frc[ls]+frc[rs]+len[rs]*len[ls]*(len[ls]+1)/2+len[ls]*len[rs]*(len[rs]+1)/2; }//å’Œä¸Šè¿°åˆå¹¶åŒºé—´æ˜¯ä¸€è‡´çš„ inline void built(rint k,rint l,rint r) { if(l==r) {len[k]=frc[k]=1;return;} rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,mid),built(ls|1,mid+1,r); Init(k,ls,ls|1); } 3ã€æŸ¥è¯¢ æŸ¥è¯¢æ—¶å’Œåˆå¹¶åŒºé—´ä¸€è‡´ warningè®¡ç®— $(R-L+1)\\times(R-L)$ æ—¶ä¸€å®šå¼€ $long\\ long$ï¼Œå¦‚æœä½ äº‹å…ˆå°† $R$ å‡äº† $1$ï¼Œæ¦‚ç‡å°±åº”æ”¹ä¸º $(R-L+1)\\times(R-L+2)$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define inf 0x7f7f7f7f #define N 100003 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} int n,T,L,R; LL ans,res,Sum,v,d,len[N&lt;&lt;2],frc[N&lt;&lt;2],sum[N&lt;&lt;2]; LL f[N&lt;&lt;2],tag[N&lt;&lt;2],sumL[N&lt;&lt;2],sumR[N&lt;&lt;2]; inline int read() { rint s=0,p=1; rgt char c=getchar(); while(!isdigit(c)) {if(c==&#39;-&#39;) p=-1;c=getchar();} while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s*p; } inline char get() { rgt char c=getchar(); while(c&lt;&#39;A&#39;||c&gt;&#39;Z&#39;) c=getchar(); return c; } inline void Init(rint k,rint ls,rint rs) { len[k]=len[ls]+len[rs], frc[k]=frc[ls]+frc[rs]+len[rs]*len[ls]*(len[ls]+1)/2+len[ls]*len[rs]*(len[rs]+1)/2; } inline void built(rint k,rint l,rint r) { if(l==r) {len[k]=frc[k]=1;return;} rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; built(ls,l,mid),built(ls|1,mid+1,r); Init(k,ls,ls|1); } inline void push(rint k,rint l,rint r) {//ä¸‹ä¼ æ ‡è®° f[k]+=frc[k]*tag[k], sum[k]+=tag[k]*len[k]; sumL[k]+=tag[k]*len[k]*(len[k]+1)/2; sumR[k]+=tag[k]*len[k]*(len[k]+1)/2; if(l!=r) { rint ls=k&lt;&lt;1; tag[ls]+=tag[k], tag[ls|1]+=tag[k]; } tag[k]=0; } inline void Update(rint k,rint ls,rint rs) { f[k]=f[ls]+f[rs]+sumR[ls]*len[rs]+len[ls]*sumL[rs], sumR[k]=sumR[rs]+sumR[ls]+sum[rs]*len[ls], sumL[k]=sumL[ls]+sumL[rs]+sum[ls]*len[rs], sum[k]=sum[ls]+sum[rs]; } inline void Modify(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tag[k]=v;return push(k,l,r);} rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,mid),Modify(ls|1,mid+1,r); Update(k,ls,ls|1); } inline void Add(rint k,rint L) { ans+=f[k]+L*sumL[k]+Sum*len[k], Sum+=L*sum[k]+sumR[k]; } inline void Query(rint k,rint l,rint r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) return Add(k,l-L);//è®¡ç®—ç­”æ¡ˆå’Œåˆå¹¶åŒºé—´å·²çŸ¥ rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Query(ls,l,mid),Query(ls|1,mid+1,r); } inline LL gcd(rgt LL a,rgt LL b) { return b?gcd(b,a%b):a;//å¤„ç†gcdæ˜¯ä¹Ÿéœ€è¦LL } int main() { int i,op; n=read()-1,T=read(),built(1,1,n); while(T--) { op=get(),L=read(),R=read()-1,res=1ll*(R-L+1)*(R-L+2); if(op==&#39;C&#39;) v=read(),Modify(1,1,n); else { ans=Sum=0; Query(1,1,n),ans*=2; d=gcd(ans,res); printf(&quot;%lld/%lld\\n&quot;,ans/d,res/d); } } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2619ã€[å›½å®¶é›†è®­é˜Ÿ2]Tree I è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2619-[NationalTeam2]Tree_I-Solution","date":"2019-08-14T00:23:23.000Z","updated":"2019-12-01T07:28:31.836Z","comments":true,"path":"2019/08/14/Luogu_P2619-[NationalTeam2]Tree_I-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/08/14/Luogu_P2619-[NationalTeam2]Tree_I-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æŸç§å«ä½œ $wqs$ ï¼ˆå¿˜æƒ…æ°´ï¼‰äºŒåˆ†çš„ç¥å¥‡ç®—æ³•ï¼Œå…·ä½“çš„ç®—æ³•å†…å®¹ç­‰è¯¦è§å­¦ä¹ ç¬”è®° åˆ†æ$Kruskal$ ç®—æ³•åªèƒ½æ±‚è§£æœ€å°ç”Ÿæˆæ ‘ï¼Œä½†æ˜¯ç”±äºè¦æ±‚çš„ç™½è¾¹æ•°æ˜¯ä¸€å®šçš„ï¼Œè¿™å°†å¯¼è‡´æœ€åçš„ç”Ÿæˆæ ‘å¹¶ä¸æ˜¯æœ€å°ç”Ÿæˆæ ‘ äºæ˜¯è€ƒè™‘æ€ä¹ˆæ¶ˆé™¤ç™½è¾¹çš„å½±å“ï¼Œä¸éš¾æƒ³åˆ°ï¼Œå¦‚æœç™½è¾¹çš„è¾¹æƒè¶Šå°ï¼Œæœ€åæ±‚å‡ºçš„æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç™½è¾¹æ•°è‚¯å®šè¶Šå¤šï¼Œäºæ˜¯å°±å¯ä»¥äºŒåˆ†ç™½è¾¹æ”¹å˜çš„å€¼ï¼Œè¡¨ç¤ºç™½è¾¹çš„è¾¹æƒå‡å° $mid$ ï¼Œç„¶åå†è·‘ä¸€éç”Ÿæˆæ ‘ï¼Œå¦‚æœç”Ÿæˆæ ‘ä¸­ç™½è¾¹æ•°å¤§äº $K$ è¯´æ˜ä¿®æ”¹çš„å€¼è¿‡å¤§ï¼Œåˆ™å°†å³è¾¹ç•Œå‡å°ï¼Œå¦åˆ™å°†å·¦è¾¹ç•Œå¢å¤§ è¿™æ ·æ»¡è¶³æœ€åå¾—å‡ºçš„ç­”æ¡ˆï¼Œä¸€å®šæ˜¯æ»¡è¶³æœ‰ $K$ æ¡ç™½è¾¹çš„æƒ…å†µï¼Œå› ä¸ºé¢˜ç›®ä¸­ä¿è¯æœ‰è§£ï¼Œä¸”å¦‚æœä¸æ»¡è¶³ $K$ æ¡è¾¹çš„æƒ…å†µï¼ŒäºŒåˆ†éƒ½ä¼šå°†å¯¹å·¦æˆ–å³è¾¹ç•Œåšå‡ºè°ƒæ•´ æœ€åç­”æ¡ˆå³ä¸ºæ±‚å‡ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒåŠ ä¸Š $K \\times$ ç™½è¾¹æ”¹å˜çš„å€¼ warning1ã€ç”±äºå¯èƒ½å­˜åœ¨ç™½è¾¹å’Œé»‘è¾¹çš„è¾¹æƒä¸€æ ·çš„æƒ…å†µï¼Œæ‰€ä»¥åœ¨ $Kruskal$ å¯¹è¾¹è¿›è¡Œæ’åºæ—¶ï¼Œè¦æŠŠè¾¹æƒä½œä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œé¢œè‰²ä½œä¸ºç¬¬äºŒå…³é”®å­— 2ã€æ’åºå¯ä»¥ç”¨å½’å¹¶æ’åºä¼˜åŒ–ï¼ˆç™½è¾¹è¾¹æƒæ”¹å˜åæŒ‰è¾¹æƒæ’åºçš„æ’åå¹¶æ²¡æœ‰å˜åŒ– Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define inf 0x7f7f7f7f #define M 100007 #define N 50007 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} struct node{ int x,y,w,c; }b[M],p[M]; int n,m,k,res,sum,ans,f[N],block,l,r,mid; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline bool cmp(rgt node a,rgt node b) {return (a.w!=b.w)?a.w&lt;b.w:a.c&lt;b.c;}//æ’åº inline int get(rint x) {return (f[x]!=x)?f[x]=get(f[x]):x;} inline int Kruskal(rint k) { rint i,fx,fy; for(i=1;i&lt;=m;i++) { b[i]=p[i]; if(!p[i].c) b[i].w-=k;//æ”¹å˜ç™½è¾¹çš„è¾¹æƒ }sort(b+1,b+1+m,cmp),block=sum=0;//å¯ä»¥ç”¨å½’å¹¶å¤æ‚åº¦è¾ƒä¼˜ for(i=1;i&lt;=n;i++) f[i]=i;//åˆå§‹åŒ–å¹¶æŸ¥é›† for(i=1;i&lt;=m;i++) { fx=get(b[i].x),fy=get(b[i].y); if(fx==fy) continue; f[fy]=fx; sum+=!b[i].c;//è®°å½•ç™½è¾¹æ•° if(block==n-1) break; } return sum; } inline void solve(rint k) {//æœ€åç”¨æ¥æ±‚æœ€å°ç”Ÿæˆæ ‘ç”¨ rint i,fx,fy; for(i=1;i&lt;=m;i++) { b[i]=p[i]; if(!p[i].c) b[i].w-=k; }sort(b+1,b+1+m,cmp),block=ans=0; for(i=1;i&lt;=n;i++) f[i]=i; for(i=1;i&lt;=m;i++) { fx=get(b[i].x),fy=get(b[i].y); if(fx==fy) continue; f[fy]=fx; ans+=b[i].w; if(block==n-1) break; } } int main() { int i; n=read(),m=read(),k=read(); for(i=1;i&lt;=m;i++) p[i].x=read()+1,p[i].y=read()+1, cmax(r,p[i].w=read()),p[i].c=read(); l=-r;//å¯ä»¥å¢å¤§ï¼Œå¯ä»¥å‡å° while(l&lt;=r) {//äºŒåˆ†ç™½è¾¹çš„æ”¹å˜å€¼ mid=(l+r)&gt;&gt;1; if(Kruskal(mid)&gt;=k)//æ»¡è¶³æ¡ä»¶è¯´æ˜è¿˜å¯ä»¥å°†æ”¹å˜å€¼è¾¹çš„æ›´å° res=mid,r=mid-1; else l=mid+1; } solve(res); printf(&quot;%d&quot;,ans+res*k);//ç­”æ¡ˆè¦åŠ ä¸Šè¾¹æ•°Ã—æ”¹å˜çš„å€¼ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"http://hovnySiLenCe.github.io/tags/äºŒåˆ†/"},{"name":"wqsäºŒåˆ†/å¸¦æƒäºŒåˆ†","slug":"wqsäºŒåˆ†-å¸¦æƒäºŒåˆ†","permalink":"http://hovnySiLenCe.github.io/tags/wqsäºŒåˆ†-å¸¦æƒäºŒåˆ†/"},{"name":"Kruskal","slug":"Kruskal","permalink":"http://hovnySiLenCe.github.io/tags/Kruskal/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF446Cã€DZY Loves Fibonacci Numbers è§£é¢˜æŠ¥å‘Š","slug":"CF446C-DZY_Loves_Fibonacci_Numbers-Solution","date":"2019-08-13T13:13:11.000Z","updated":"2019-12-01T07:28:40.588Z","comments":true,"path":"2019/08/13/CF446C-DZY_Loves_Fibonacci_Numbers-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/08/13/CF446C-DZY_Loves_Fibonacci_Numbers-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯çº¿æ®µæ ‘ é¢˜ç›®ä¸­æ¶‰åŠäº†åŒºé—´åŠ ã€åŒºé—´ä¿®æ”¹ï¼Œå› æ­¤å®šæ˜¯çº¿æ®µæ ‘çš„é¢˜ ä½†æ˜¯æ˜æ˜¾ï¼Œå°±ç®—åŒºé—´è½¬ç§»ï¼Œä½†æ˜¯ç”±äºæ–æ³¢é‚£å¥‘æ•°åˆ—åœ¨ç´¯åŠ ï¼Œå¯èƒ½ä¸€ä¸ªåŒºé—´å†…çš„æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬ä¸€ã€äºŒé¡¹çš„ä¸ä¼šä»…ä»…æ˜¯æ™®é€šæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­çš„ä»»æ„ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯å‡ºç°å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æƒ…å†µ è®¾æ™®é€šæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸º $\\large {F_n}$ï¼Œå¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸º $\\large {S_n}$ 1ã€$\\large \\forall $ ä»»ä¸€å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—æœ‰ï¼š \\large \\sum_{i=1}^nS_i=S_{n+2}-S_2è¯æ˜ï¼š $\\large S_3=S_2+S_1$ $\\large S_4=S_3+S_2=S_2+S_1+S_2$ $\\large S_5=S_4+S_3=S_3+S_2+S_1+S_2$ $\\large S_6=S_5+S_4=S_4+S_3+S_2+S_1+S_2$ $\\large S_7=S_6+S_5=S_5+S_4+S_3+S_2+S_1+S_2$ $\\large \\dots$ ç§»é¡¹å¯å¾—ï¼š $\\large S_4-S_2=S_2+S_1$ $\\large S_5-S_2=S_3+S_2+S_1$ $\\large S_6-S_2=S_4+S_3+S_2+S_1$ $\\large S_7-S_2=S_5+S_4+S_3+S_2+S_1$ $\\large \\dots$ 2ã€$\\large \\forall$ ä»»ä¸€å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæœ‰ \\large S_n=a \\times F_{n-2}+b \\times F_{n-1},a=S_1,b=S_2äºæ˜¯åªè¦æŠŠè¿™ä¸¤ä¸ªæ€§è´¨åˆç†åœ°è¿ç”¨ä¸€ä¸‹ï¼Œå†™æˆå‡½æ•°ï¼Œå°±å¯ä»¥å¾ˆå¿«åœ°è¿›è¡Œæ±‚å’Œå’Œæ±‚ä»»ä¸€ä¸€é¡¹çš„æ“ä½œï¼Œè¿™å°†åœ¨ $push$ å‡½æ•°é‡Œå¤§æœ‰ç”¨å¤„ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define inf 0x7f7f7f7f #define p 1000000009 #define N 300007 using namespace std; int n,T,L,R,tl[N&lt;&lt;2],tr[N&lt;&lt;2]; int f[N&lt;&lt;2],sum[N],fib[N]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline int dec(rint x) {return (x&gt;=p)?x-p:x;} inline int rec(rint x) {return (x&lt;0)?x+p:x;}//è¿™ä¸¤ä¸ªéƒ½æ˜¯å–æ¨¡å‡½æ•° inline int calc(rint k,rint l,rint r) {return (k&gt;1)?(1ll*fib[k-2]*l+1ll*fib[k-1]*r)%p:l;}//æ±‚ç¬¬ké¡¹ inline int Sum(rint k,rint l,rint r) {return rec((1ll*l*fib[k]+1ll*r*fib[k+1])%p-r);}//å‰ké¡¹å’Œ inline void push(rint k,rint l,rint r) {//ä¸‹ä¼ æ ‡è®° f[k]=dec(f[k]+Sum(r-l+1,tl[k],tr[k])); if(l!=r) { rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; tl[ls]=dec(tl[ls]+tl[k]),tl[ls|1]=dec(tl[ls|1]+calc(mid-l+2,tl[k],tr[k])), tr[ls]=dec(tr[ls]+tr[k]),tr[ls|1]=dec(tr[ls|1]+calc(mid-l+3,tl[k],tr[k])); }tl[k]=tr[k]=0; } inline void Modify(rint k,rint l,rint r) { if(tl[k]||tr[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) {tl[k]=fib[l-L+1],tr[k]=fib[l-L+2];return push(k,l,r);} rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; Modify(ls,l,mid),Modify(ls|1,mid+1,r); f[k]=dec(f[ls]+f[ls|1]); } inline int Query(rint k,rint l,rint r) { if(tl[k]||tr[k]) push(k,l,r); if(r&lt;L||R&lt;l) return 0; if(L&lt;=l&amp;&amp;r&lt;=R) return f[k]; rint mid=(l+r)&gt;&gt;1,ls=k&lt;&lt;1; return dec(Query(ls,l,mid)+Query(ls|1,mid+1,r)); } int main() { int i,op; n=read(),T=read(); for(i=1;i&lt;=n;i++) sum[i]=dec(sum[i-1]+read()); fib[1]=fib[2]=1; for(i=1;i&lt;=n+2;++i) fib[i+2]=dec(fib[i]+fib[i+1]);//é¢„å¤„ç†å‡ºFibæ•°åˆ— while(T--) { op=read(),L=read(),R=read(); (op&lt;2)?Modify(1,1,n),1:printf(&quot;%d\\n&quot;,dec(Query(1,1,n)+rec(sum[R]-sum[L-1]))); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"},{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®º/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF519Eã€A and B and Lecture Rooms è§£é¢˜æŠ¥å‘Š","slug":"CF519E-A_and_B_and_Lecture_Rooms-Solution","date":"2019-07-29T12:05:14.000Z","updated":"2019-12-01T07:28:40.146Z","comments":true,"path":"2019/07/29/CF519E-A_and_B_and_Lecture_Rooms-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/07/29/CF519E-A_and_B_and_Lecture_Rooms-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯å€å¢$Lca$ åˆ†æé¦–å…ˆï¼Œé¢˜ç›®ä¸­ç»™çš„æ˜¯ä¸€é¢—æ— æ ¹æ ‘ï¼Œå°†æ— æ ¹æ ‘è½¬æ¢ä¸ºæœ‰æ ¹æ ‘å¤„ç†ï¼Œéšä¾¿é€‰ä¸€ä¸ªç‚¹ä¸ºæ ¹å³å¯ åˆ°ä¸¤ç‚¹è·ç¦»ç›¸ç­‰çš„ç‚¹ï¼Œåº”ä¸ºä¸¤ç‚¹ä¹‹é—´å”¯ä¸€è·¯å¾„ä¸Šçš„ä¸­ç‚¹ä»¥åŠå…¶å»¶ä¼¸å‡ºå»çš„ç‚¹ï¼Œå¦‚æœä¸¤æ²¡æœ‰ä¸­ç‚¹ï¼Œåˆ™å¿…ä¸å­˜åœ¨ç­”æ¡ˆï¼Œç‰¹åˆ¤å³å¯ ç„¶åå°±æ˜¯æ‰¾ä¸­ç‚¹çš„é—®é¢˜ å…·ä½“å®ç°èµ·æ¥ä¼šå’Œ $Lca$ çš„ä½ç½®æœ‰ä¸€å®šå…³ç³»ï¼Œæ‰€ä»¥éœ€è¦æ±‚å‡º $x$ã€$y$ ä¸¤ç‚¹çš„ $Lca$ï¼Œç„¶åç®—å‡ºä¸­ç‚¹çš„è·ç¦» è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰¾å‡ºä¸¤ç‚¹çš„ä¸­ç‚¹å•¦ï¼Œè¿™æ ·ç­”æ¡ˆå³ä¸ºä¸­ç‚¹åŠå…¶å»¶ä¼¸å‡ºçš„ç‚¹çš„ä¸ªæ•° ä½†æ˜¯ä»ç„¶è¦åˆ†æƒ…å†µè®¨è®ºï¼ˆsize[k] ä¸ºä»¥ $1$ ä¸ºæ ¹æ—¶ $k$ çš„å­æ ‘å¤§å°ï¼‰ï¼š 1ã€ä¸­ç‚¹ä¸º $Lca$ æ—¶ï¼Œå¦‚è¯¢é—® $4$ã€$6$ ç»“æœåº”è¯¥æ˜¯æ‰‹åŠ¨çº¢æ¡†æ¡†å‡ºæ¥çš„è¾£äº›ç‚¹ï¼Œä»”ç»†ç ”ç©¶ä¸€ä¸‹ï¼Œå…¶å®åº”è¯¥æ˜¯ size[2]-size[3]-size[5] ä¹Ÿå°±æ˜¯ï¼šä¸­ç‚¹çš„å­æ ‘å¤§å° $-$ è·¯å¾„ä¸Šä¸ä¸­ç‚¹ç›¸é‚»ä¸¤ä¸ªç‚¹çš„å­æ ‘å¤§å° 2ã€ä¸­ç‚¹ä¸ä¸º $Lca$ ï¼Œè¯¢é—®çš„ $x$ã€$y$ éƒ½ä¸æ˜¯å¯¹æ–¹çš„ç¥–å…ˆæ—¶ï¼Œå¦‚è¯¢é—® $5$ã€$7$ è¿˜æ˜¯æ‰‹åŠ¨æ¡†å‡ºæ¥çš„è¾£ä¸ªç‚¹ï¼Œans=size[3]-size[4] ä¹Ÿå°±æ˜¯ï¼š ä¸­ç‚¹çš„å­æ ‘å¤§å° $-$ ä¸ä¸­ç‚¹ç›¸é‚»ä¸”æ·±åº¦è¾ƒå¤§çš„ç‚¹çš„å­æ ‘å¤§å° 3ã€ä¸­ç‚¹ä¸ä¸º $Lca$ ï¼Œè¯¢é—®çš„ $x$ã€$y$ ä¸€æ–¹ä¸ºå¯¹æ–¹çš„ç¥–å…ˆæ—¶ï¼Œå¦‚è¯¢é—® $1$ã€$7$ ä¸éš¾å‘ç°ï¼Œans=size[3]-size[4] å’Œ$2$ä¸­çš„ç»“è®ºä¸€è‡´ï¼Œæ‰€ä»¥å°±è®¨è®ºä¸¤ç§å°±å¥½äº† è¿˜è¦æ³¨æ„ä¸­ç‚¹åå‘ $x$ è¿˜æ˜¯ $y$ï¼Œæ“ä½œçš„å¯¹è±¡æ˜¯ä¸åŒçš„ å¦‚ä½•æ±‚é‚»è¿‘ç‚¹ï¼Ÿ ç”±äºé¢„å¤„ç†äº†æ¯ä¸ªç‚¹çš„ç¥–å…ˆæƒ…å†µï¼Œå› æ­¤é‚£äº›é‚»è¿‘ç‚¹å¯ä»¥åœ¨çŸ¥é“è·ç¦»çš„æƒ…å†µä¸‹ç”¨å€å¢æ±‚ Warningå¯èƒ½å­˜åœ¨æŸ¥è¯¢çš„ä¸¤ç‚¹ç›¸åŒçš„æƒ…å†µï¼Œæ­¤æ—¶ç­”æ¡ˆä¸º $0$ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define N 100003 using namespace std; struct Edge{ int to,nxt; }b[N&lt;&lt;1]; int head[N],deep[N],size[N]; int n,T,dis,t,f[N][17],rx,ry,root; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rgt int x,rgt int y) { b[++t].to=y,b[t].nxt=head[x],head[x]=t; b[++t].to=x,b[t].nxt=head[y],head[y]=t; } inline void built(rgt int k,rgt int fa) {//å¤„ç†å€å¢Lca rgt int i,to;size[k]=1; deep[k]=deep[fa]+1; for(i=0;i&lt;16;i++)//é¢„å¤„ç†å‡ºç¥–å…ˆæƒ…å†µ f[k][i+1]=f[f[k][i]][i]; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(to==fa) continue; f[to][0]=k,built(to,k),size[k]+=size[to]; } } inline int Lca(rgt int x,rgt int y) {//å€å¢æ±‚Lca if(deep[x]&lt;deep[y]) swap(x,y); rgt int i; for(i=16;i&gt;=0;i--) { if(deep[f[x][i]]&gt;=deep[y]) x=f[x][i]; if(x==y) return x; } for(i=16;i&gt;=0;i--) if(f[x][i]!=f[y][i]) x=f[x][i],y=f[y][i]; return f[x][0]; } inline int getanc(rgt int res,rgt int k) {//å€å¢æ±‚resèŠ‚ç‚¹çš„kæ¬¡ç¥–å…ˆ rgt int i,x; for(i=16,x=res;i&gt;=0;i--) if(deep[res]-deep[f[x][i]]&lt;=k) x=f[x][i]; return x; } int main() { int i,x,y; n=read(); for(i=1;i&lt;n;i++) x=read(),y=read(),add(x,y); built(1,0),T=read(); while(T--) { x=read(),y=read(); if(x==y) {printf(&quot;%d\\n&quot;,n);continue;}//ç‰¹åˆ¤ç›¸ç­‰ root=Lca(x,y);//æ±‚å‡ºLca dis=deep[x]+deep[y]-deep[root]-deep[root];//å°±ç®—ä¸¤ç‚¹é—´è·ç¦» if(dis&amp;1) {printf(&quot;0\\n&quot;);continue;}//æ²¡æœ‰ä¸­ç‚¹ dis&gt;&gt;=1;//åˆ°è·¯å¾„ä¸­ç‚¹çš„è·ç¦» if(dis==deep[x]-deep[root]) {//Lcaä¸ºä¸­ç‚¹çš„æƒ…å†µ rx=getanc(x,dis-1),ry=getanc(y,dis-1); printf(&quot;%d\\n&quot;,n-size[rx]-size[ry]); } else { if(dis&lt;deep[x]-deep[root]) {//çœ‹ä¸­ç‚¹åå‘å“ªä¸€è¾¹ root=getanc(x,dis),rx=getanc(x,dis-1); printf(&quot;%d\\n&quot;,size[root]-size[rx]); }//ä¹Ÿå°±æ˜¯çœ‹ä¸­ç‚¹æ˜¯xè¿˜æ˜¯yçš„ç¥–å…ˆï¼Œç”¨disåˆ¤æ–­æ¯”è¾ƒæ–¹ä¾¿ else { root=getanc(y,dis),ry=getanc(y,dis-1); printf(&quot;%d\\n&quot;,size[root]-size[ry]); } } } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Lca","slug":"Lca","permalink":"http://hovnySiLenCe.github.io/tags/Lca/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO12DECã€é€ƒè·‘çš„BarnRunning Away Fromâ€¦ è§£é¢˜æŠ¥å‘Š","slug":"USACO12DEC-BarnRunning_Away_From-Solution","date":"2019-07-29T07:35:23.000Z","updated":"2019-12-01T07:28:07.802Z","comments":true,"path":"2019/07/29/USACO12DEC-BarnRunning_Away_From-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/07/29/USACO12DEC-BarnRunning_Away_From-Solution/","excerpt":"","text":"é¢˜é¢è§£é¢˜æ€è·¯æ–¹æ³•å¾ˆå¤šï¼Œæ¯”å¦‚å·¦åæ ‘ã€ä¸»å¸­æ ‘ã€æ ‘ä¸ŠæŸ¥åˆ† çœ‹åˆ°æ•°æ®ç»“æ„å¤§ä½¬ç‘Ÿç‘Ÿå‘æŠ– è¿™é‡Œæä¾›ä¸€ç§æ–°çš„ç®—æ³• $\\large \\to$ æ ‘çŠ¶æ•°ç»„+ç¦»æ•£åŒ–ï¼ˆå¹¶ä¸ç”¨è®°å½• $dfs$ åº åˆ†ææ±‚å­æ ‘ä¸­åˆ°æ ¹çš„è·ç¦»åœ¨ä¸€å®šèŒƒå›´å†…çš„ç‚¹ï¼Œå¯ä»¥å¯¹æ¯æ£µå­æ ‘ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ä¸€ä¸ªæ‰€æœ‰ç‚¹åˆ°æ ¹çš„è·ç¦»ï¼ŒæŸ¥è¯¢æ—¶æŸ¥è¯¢ä¸€å®šèŒƒå›´å³å¯ ä½†æ˜¯æ˜æ˜¾è¿™æ˜¯ä¸è¡Œçš„ï¼Œç©ºé—´å’Œæ—¶é—´éƒ½ä¸å…è®¸ è€ƒè™‘ä¸€ä¸‹ä¼˜åŒ–ï¼Œç»å¯¹è·ç¦»æ˜¯æ²¡å¿…è¦çš„ï¼Œå¯ä»¥æœ‰ç›¸å¯¹è·ç¦»æ¥è¡¨ç¤ºä¸¤ç‚¹é—´çš„æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ä¸¤è€…çš„å¤§å°å…³ç³»ï¼‰ï¼Œå› æ­¤å¯ä»¥é¢„å¤„ç†å‡ºæ¯ä¸ªç‚¹åˆ° $root$ çš„è·ç¦»ï¼Œæ’åºåç»´æŠ¤å…¶ç¦»æ•£å€¼å³å¯ï¼ŒæŸ¥è¯¢æ—¶ä¹Ÿå¯ä»¥ç”¨ç¦»æ•£å€¼æ¥ä»£æ›¿ å†è€ƒè™‘å¯¹æ¯ä¸ªç‚¹ç»´æŠ¤å­æ ‘ä¿¡æ¯çš„ä¼˜åŒ–ï¼Œä¸éš¾å‘ç°ï¼Œ$dfs$ å®ç°æ—¶ï¼Œå¯¹äºä¸€ä¸ªç‚¹ï¼Œ$dfs$ å…¶å­æ ‘å‰ å’Œ å®Œæˆåï¼Œå¯¹ç­”æ¡ˆé€ æˆçš„å½±å“åªæœ‰å­æ ‘é‡Œçš„ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥åªå¼€ä¸€ä¸ªæ ‘çŠ¶æ•°ç»„ç»´æŠ¤ä¿¡æ¯ï¼Œæ¯æ¬¡è®°å½• $dfs$ å‰åçš„ç»“æœï¼Œä¸¤è€…ä¹‹å·®å³ä¸ºç­”æ¡ˆ å®ç°è¿‡ç¨‹1ã€å…ˆ $dfs$ è·‘ä¸€éï¼Œé¢„å¤„ç†å‡ºæ‰€æœ‰ç‚¹åˆ° $root(1)$ çš„ $dis$ å€¼ï¼Œç”¨ $p$ æ•°ç»„è®°å½• 2ã€å°† $p$ æ•°ç»„æŒ‰å‡åºæ’åº 3ã€å†æ¬¡ $dfs$ï¼Œç”¨æ ‘çŠ¶æ•°ç»„ $f$ è®°å½•å„ç‚¹åˆ° $root$ è·ç¦»çš„ç¦»æ•£å€¼ï¼Œæ¯æ¬¡åœ¨è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹çš„å„¿å­å‰ï¼ŒæŸ¥è¯¢è¯¥ç‚¹èƒ½åˆ°æœ€è¿œè·ç¦»çš„ç¦»æ•£å€¼ï¼Œç„¶ååœ¨æ ‘çŠ¶æ•°ç»„ä¸­æ ‡è®°è¿™ä¸ªç‚¹çš„ $dis$ï¼Œéå†å­æ ‘ï¼Œæœ€åå†æ¬¡æŸ¥è¯¢ï¼Œä¸¤æ¬¡æŸ¥è¯¢ä¹‹å·®å³ä¸ºè¯¥ç‚¹çš„ç­”æ¡ˆï¼Œå› ä¸ºåªå¯¹è¯¥ç‚¹å­æ ‘è¿›è¡Œçš„æ“ä½œï¼Œä¸ä¼šäº§ç”Ÿé¢å¤–çš„å½±å“ cur=lower_bound(p+1,p+t+1,dis[k])-p;//å½“å‰ç‚¹çš„ç¦»æ•£å€¼ pos=lower_bound(p+cur,p+t+1,dis[k]+R)-p;//æœ€è¿œèƒ½åˆ°çš„ç‚¹çš„ç¦»æ•£å€¼ if(p[pos]&gt;dis[k]+R) --pos;//è¦æ±‚ å°äºç­‰äº res=Query(pos),Modify(cur);//å…ˆæŸ¥è¯¢ï¼Œå†ä¿®æ”¹ . . . Ans[k]=Query(pos)-res;//å†æ¬¡æŸ¥è¯¢ï¼Œè®°å½•ä¸¤æ¬¡æŸ¥è¯¢çš„å·®ä¸ºç­”æ¡ˆ warning1ã€è®°å¾—å¼€ $long\\ long $ 2ã€$1$ åˆ° $root$ çš„ $dis$ å€¼ï¼Œè™½ç„¶æ˜¯ $0$ ä¹Ÿè¦è®°å½•ï¼Œå¦åˆ™ä¼šå½±å“ä¸Šè¿°è¿‡ç¨‹ä¸­ $cur$ çš„å€¼ï¼Œé—´æ¥å½±å“ç­”æ¡ˆï¼Œå¦‚ä¸‹å›¾æƒ…å†µï¼Œè‹¥é¢˜ç›®ä¸­çš„ $L&lt;10$ åˆ™ $root$ çš„ç­”æ¡ˆä¼šå°‘ $1$ ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç‰¹åˆ¤è§£å†³ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define LL long long #define N 200003 using namespace std; struct Edge{ int to,nxt; LL dis; Edge(int a,int b,LL c):to(a),nxt(b),dis(c){} Edge(){} }b[N];//è®°å½•è¾¹ int head[N],n,t; int f[N],Ans[N]; LL dis[N],p[N],R; inline LL read() { rgt LL s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rgt int x,rgt int y) { b[++t]=Edge(y,head[x],read()),head[x]=t; } inline void built(rgt int k) {//é¢„å¤„ç†dis p[++t]=dis[k];//1åˆ°rootçš„è·ç¦»ä¹Ÿè¦åŠ å…¥ rgt int i,to; for(i=head[k];i;i=b[i].nxt) { to=b[i].to, dis[to]=dis[k]+b[i].dis; built(to); } } inline int Query(rgt int x) { int res=0; for(;x;x-=x&amp;(-x)) res+=f[x]; return res; } inline void Modify(rgt int x) { for(;x&lt;=t;x+=x&amp;(-x)) ++f[x]; } inline void solve(rgt int k) { rgt int i,to,cur,res,pos; cur=lower_bound(p+1,p+t+1,dis[k])-p; pos=lower_bound(p+cur,p+t+1,dis[k]+R)-p;//å‡è£…ä»curå¼€å§‹æŸ¥èƒ½çœç‚¹æ—¶é—´ if(p[pos]&gt;dis[k]+R) --pos; res=Query(pos),Modify(cur); for(i=head[k];i;i=b[i].nxt) to=b[i].to,solve(to); Ans[k]=Query(pos)-res; } int main() { int i; n=read(),R=read();//nç‚¹æ•°ï¼ŒRè·ç¦» for(i=2;i&lt;=n;i++) add(read(),i); t=0,built(1),//ç¬¬ä¸€édfs sort(p+1,p+t+1),solve(1);//ç¬¬äºŒédfså¾—å‡ºç»“æœ for(i=1;i&lt;=n;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; } æœ€åå¦‚æœé¢˜ç›®æ²¡æœ‰ å­æ ‘ä¸­çš„é™åˆ¶â€¦","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç¦»æ•£åŒ–","slug":"ç¦»æ•£åŒ–","permalink":"http://hovnySiLenCe.github.io/tags/ç¦»æ•£åŒ–/"},{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘çŠ¶æ•°ç»„/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3964ã€[TJOI2013]æ¾é¼ èšä¼š è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-Luogu_P3964-[TJOI2013]SquirrelParty-Solution","date":"2019-06-26T09:58:13.000Z","updated":"2019-12-01T07:28:44.870Z","comments":true,"path":"2019/06/26/A-Luogu_P3964-[TJOI2013]SquirrelParty-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/26/A-Luogu_P3964-[TJOI2013]SquirrelParty-Solution/","excerpt":"","text":"é¢˜é¢Code#include&lt;bits/stdc++.h&gt; #define INF LONG_LONG_MAX #define ll long long #define rgt register #define N 100003 using namespace std; struct node{ int x,y; }b[N]; int n,X[N],Y[N]; ll Sx[N],Sy[N],x,y,ans=INF,res; inline int read() { rgt int s=0,p=1; rgt char c=getchar(); while(!isdigit(c)) {if(c==&#39;-&#39;) p=-1;c=getchar();} while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s*p; } int main() { int i; n=read(); for(i=1;i&lt;=n;i++) { x=read(),y=read(); X[i]=b[i].x=x+y, Y[i]=b[i].y=x-y; } sort(X+1,X+n+1),sort(Y+1,Y+n+1); for(i=1;i&lt;=n;i++) Sx[i]=Sx[i-1]+X[i]; for(i=1;i&lt;=n;i++) Sy[i]=Sy[i-1]+Y[i]; for(i=1;i&lt;=n;i++) { x=lower_bound(X+1,X+n+1,b[i].x)-X; y=lower_bound(Y+1,Y+n+1,b[i].y)-Y; res=b[i].x*x-Sx[x]+Sx[n]-Sx[x]-b[i].x*(n-x); res+=b[i].y*y-Sy[y]+Sy[n]-Sy[y]-b[i].y*(n-y); ans=min(ans,res); } printf(&quot;%lld&quot;,ans&gt;&gt;1); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è®¡ç®—å‡ ä½•","slug":"è®¡ç®—å‡ ä½•","permalink":"http://hovnySiLenCe.github.io/tags/è®¡ç®—å‡ ä½•/"},{"name":"è·ç¦»","slug":"è·ç¦»","permalink":"http://hovnySiLenCe.github.io/tags/è·ç¦»/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO2004OPENã€Cave Cows 3 è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-USACO2004OPEN-Cave_Cows_3-Solution","date":"2019-06-25T14:21:54.000Z","updated":"2019-12-01T07:28:42.476Z","comments":true,"path":"2019/06/25/A-USACO2004OPEN-Cave_Cows_3-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/25/A-USACO2004OPEN-Cave_Cows_3-Solution/","excerpt":"","text":"é¢˜é¢Code#include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define rgt register using namespace std; int n,x,y,Xmax,Xmin=INF,Ymax,Ymin=INF; inline int read() { rgt int s=0,p=1; rgt char c=getchar(); while(!isdigit(c)) {if(c==&#39;-&#39;) p=-1;c=getchar();} while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s*p; } int main() { int i; n=read(); for(i=1;i&lt;=n;i++) { x=read(),y=read(); Xmax=max(Xmax,x+y), Xmin=min(Xmin,x+y), Ymax=max(Ymax,x-y), Ymin=min(Ymin,x-y); } printf(&quot;%d&quot;,max(Xmax-Xmin,Ymax-Ymin)); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è®¡ç®—å‡ ä½•","slug":"è®¡ç®—å‡ ä½•","permalink":"http://hovnySiLenCe.github.io/tags/è®¡ç®—å‡ ä½•/"},{"name":"è·ç¦»","slug":"è·ç¦»","permalink":"http://hovnySiLenCe.github.io/tags/è·ç¦»/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4551ã€æœ€é•¿å¼‚æˆ–è·¯å¾„ è§£é¢˜æŠ¥å‘Š (å’•)","slug":"A-Luogu_P4551-TheLongestXORPath-Solution","date":"2019-06-25T14:12:56.000Z","updated":"2019-12-01T07:28:43.352Z","comments":true,"path":"2019/06/25/A-Luogu_P4551-TheLongestXORPath-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/25/A-Luogu_P4551-TheLongestXORPath-Solution/","excerpt":"","text":"é¢˜é¢Code#include&lt;bits/stdc++.h&gt; #define rgt register #define N 100003 using namespace std; struct Edge{ int to,nxt,cost; Edge(int a,int b,int c):to(a),nxt(b),cost(c){} Edge(){} }b[N&lt;&lt;1]; int head[N],f[N],bit[33]; int n,ans,t,T[N*33][2]; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rgt int x,rgt int y,rgt int cost) { b[++t]=Edge(y,head[x],cost),head[x]=t; b[++t]=Edge(x,head[y],cost),head[y]=t; } inline void built(rgt int k,rgt int fa) { for(rgt int i=head[k],to;i;i=b[i].nxt) { to=b[i].to; if(to==fa) continue; f[to]=f[k]^b[i].cost,built(to,k); } } inline void Search(int k) { int i,c,p=1,res=0; for(i=30;i&gt;=0;i--) { c=(k&amp;bit[i])?0:1; if(T[p][c]) res+=bit[i],p=T[p][c]; else p=T[p][c^1]; } ans=max(ans,res); } inline void Insert(int k) { int i,c,p=1; for(i=30;i&gt;=0;i--) { c=(k&amp;bit[i])?1:0; if(!T[p][c]) T[p][c]=++t; p=T[p][c]; } } int main() { int i,x,y,cost; n=read(); bit[0]=1;for(i=1;i&lt;31;i++) bit[i]=bit[i-1]&lt;&lt;1; for(i=1;i&lt;n;i++) x=read(),y=read(),cost=read(),add(x,y,cost); built(1,0),t=1; for(i=2;i&lt;=n;i++) ans=max(ans,f[i]),Search(f[i]),Insert(f[i]); printf(&quot;%d\\n&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"å­—å…¸æ ‘","slug":"å­—å…¸æ ‘","permalink":"http://hovnySiLenCe.github.io/tags/å­—å…¸æ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒOI-wikiã€ è·ç¦» å­¦ä¹ ç¬”è®° (å’•)","slug":"A-Oiwiki-Distance-Notes","date":"2019-06-25T13:52:07.000Z","updated":"2019-11-02T10:03:35.926Z","comments":true,"path":"2019/06/25/A-Oiwiki-Distance-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/25/A-Oiwiki-Distance-Notes/","excerpt":"","text":"æ¬§å‡ é‡Œå¾—è·ç¦» æ›¼å“ˆé¡¿è·ç¦» åˆ‡æ¯”é›ªå¤«è·ç¦» $L_m$è·ç¦» æ±‰æ˜è·ç¦»","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"è®¡ç®—å‡ ä½•","slug":"è®¡ç®—å‡ ä½•","permalink":"http://hovnySiLenCe.github.io/tags/è®¡ç®—å‡ ä½•/"},{"name":"è·ç¦»","slug":"è·ç¦»","permalink":"http://hovnySiLenCe.github.io/tags/è·ç¦»/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒLuogu P2446ã€ [SDOI2010]å¤§é™†äº‰éœ¸ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2446-[SDOI2010]MainlandFight-Solution","date":"2019-06-18T11:19:30.000Z","updated":"2019-12-01T07:28:33.949Z","comments":true,"path":"2019/06/18/Luogu_P2446-[SDOI2010]MainlandFight-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/18/Luogu_P2446-[SDOI2010]MainlandFight-Solution/","excerpt":"","text":"é¢˜é¢é¢˜ç›®æè¿°å¹»æƒ³å†$8012$å¹´$5$æœˆ$12$æ—¥æ·±å¤œï¼Œæ–¯æ™®æ—Â·å¸ƒæ‹‰æ³½é™ä¸‹ç¥è°•ï¼š$â€œTrust\\ me, earn\\ eternal\\ life.â€$ å…‹é‡Œæ–¯å†›å›¢å£«æ°”å¤§å¢ã€‚ä½œä¸ºå…‹é‡Œæ–¯å†›å›¢çš„ä¸»å¸…ï¼Œä½ å†³å®šåˆ©ç”¨è¿™ä¸€æœºä¼šå‘åŠ¨å¥‡è¢­ï¼Œä¸€ä¸¾å‡»è´¥æ°æ£®å›½ã€‚å…·ä½“åœ°è¯´ï¼Œæ°æ£®å›½æœ‰ $N$ ä¸ªåŸå¸‚ï¼Œç”± $M$ æ¡å•å‘é“è·¯è¿æ¥ã€‚ç¥è°•é•‡æ˜¯åŸå¸‚ $1$ è€Œæ°æ£®å›½çš„é¦–éƒ½æ˜¯åŸå¸‚ $N$ã€‚ä½ åªéœ€æ‘§æ¯ä½äºæ°æ£®å›½é¦–éƒ½çš„æ›¾Â·å¸ƒæ‹‰æ³½å¤§ç¥æ®¿ï¼Œæ°æ£®å›½çš„ä¿¡ä»°ï¼Œå†›é˜Ÿè¿˜æœ‰ä¸€åˆ‡å°±éƒ½ä¼šåœŸå´©ç“¦è§£ï¼Œç°é£çƒŸç­ã€‚ ä¸ºäº†å°½é‡å‡å°å·±æ–¹çš„æ¶ˆè€—ï¼Œä½ å†³å®šä½¿ç”¨è‡ªçˆ†æœºå™¨äººå®Œæˆè¿™ä¸€ä»»åŠ¡ã€‚å”¯ä¸€çš„å›°éš¾æ˜¯ï¼Œæ°æ£®å›½çš„ä¸€éƒ¨åˆ†åŸå¸‚æœ‰ç»“ç•Œä¿æŠ¤ï¼Œä¸ç ´åæ‰ç»“ç•Œå°±æ— æ³•è¿›å…¥åŸå¸‚ã€‚è€Œæ¯ä¸ªåŸå¸‚çš„ç»“ç•Œéƒ½æ˜¯ç”±åˆ†å¸ƒåœ¨å…¶ä»–åŸå¸‚ä¸­çš„ä¸€äº›ç»“ç•Œå‘ç”Ÿå™¨ç»´æŒçš„ï¼Œå¦‚æœæƒ³è¿›å…¥æŸä¸ªåŸå¸‚ï¼Œä½ å°±å¿…é¡»ç ´åæ‰ç»´æŒè¿™ä¸ªåŸå¸‚ç»“ç•Œçš„æ‰€æœ‰ç»“ç•Œå‘ç”Ÿå™¨ã€‚ ç°åœ¨ä½ æœ‰æ— é™å¤šçš„è‡ªçˆ†æœºå™¨äººï¼Œä¸€æ—¦è¿›å…¥äº†æŸä¸ªåŸå¸‚ï¼Œè‡ªçˆ†æœºå™¨äººå¯ä»¥ç¬é—´å¼•çˆ†ï¼Œç ´åä¸€ä¸ªç›®æ ‡ï¼ˆç»“ç•Œå‘ç”Ÿå™¨ï¼Œæˆ–æ˜¯æ°æ£®å›½å¤§ç¥æ®¿ï¼‰ï¼Œå½“ç„¶æœºå™¨äººæœ¬èº«ä¹Ÿä¼šä¸€èµ·è¢«ç ´åã€‚ä½ éœ€è¦çŸ¥é“ï¼šæ‘§æ¯æ°æ£®å›½æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šè¾“å…¥æ–‡ä»¶çš„ $landcraft.in$ çš„ç¬¬ä¸€è¡Œä¸¤ä¸ªæ­£æ•´æ•° $N, M$ã€‚ æ¥ä¸‹æ¥ $M$ è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•° $ui, vi, wi$ï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡ä»åŸå¸‚ $ui$ åˆ°åŸå¸‚ $vi$ çš„å•å‘é“è·¯ï¼Œè‡ªçˆ†æœºå™¨äººé€šè¿‡è¿™æ¡é“è·¯éœ€è¦ $wi$ çš„æ—¶é—´ã€‚ ä¹‹å $N$ è¡Œï¼Œæ¯è¡Œæè¿°ä¸€ä¸ªåŸå¸‚ã€‚é¦–å…ˆæ˜¯ä¸€ä¸ªæ­£æ•´æ•° $li$ï¼Œç»´æŒè¿™ä¸ªåŸå¸‚ç»“ç•Œæ‰€ä½¿ç”¨çš„ç»“ç•Œå‘ç”Ÿå™¨æ•°ç›®ã€‚ä¹‹å $li$ ä¸ª $1~N$ ä¹‹é—´çš„åŸå¸‚ç¼–å·ï¼Œè¡¨ç¤ºæ¯ä¸ªç»“ç•Œå‘ç”Ÿå™¨çš„ä½ç½®ã€‚å¦‚æœ $li = 0$ï¼Œåˆ™è¯´æ˜è¯¥åŸå¸‚æ²¡æœ‰ç»“ç•Œä¿æŠ¤ï¼Œä¿è¯ $l1 = 0$ã€‚ è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºæ–‡ä»¶ $landcraft.out$ ä»…åŒ…å«ä¸€ä¸ªæ­£æ•´æ•° ï¼Œå‡»è´¥æ°æ£®å›½æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š6 6 1 2 1 1 4 3 2 3 1 2 5 2 4 6 2 5 3 2 0 0 0 1 3 0 2 3 5 è¾“å‡ºæ ·ä¾‹#1ï¼š5 è¯´æ˜ å¯¹äº $20\\%$çš„æ•°æ®ï¼Œæ»¡è¶³ $N\\le15$ï¼Œ$M\\le50$ï¼› å¯¹äº $50\\%$ çš„æ•°æ®ï¼Œæ»¡è¶³ $N\\le500$ï¼Œ$M\\le6,000$ï¼› å¯¹äº $100\\% $çš„æ•°æ®ï¼Œæ»¡è¶³ $N\\le3,000$ï¼Œ$M\\le70,000$ï¼Œ$1\\le wi\\le10^8$ã€‚ è¾“å…¥æ•°æ®ä¿è¯ä¸€å®šæœ‰è§£ï¼Œä¸”ä¸ä¼šå­˜åœ¨ç»´æŒæŸä¸ªåŸå¸‚ç»“ç•Œçš„ç»“ç•Œå‘ç”Ÿå™¨åœ¨è¿™ä¸ªåŸå¸‚å†…éƒ¨ã€‚ è¿æ¥ä¸¤ä¸ªåŸå¸‚çš„é“è·¯å¯èƒ½ä¸æ­¢ä¸€æ¡ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨ä¸€ä¸ªåŸå¸‚è‡ªå·±åˆ°è‡ªå·±çš„é“è·¯ã€‚ è§£é¢˜æ€è·¯$Dijksra$ï¼Œå¯ä»¥è¯´æ˜¯ä¸€é“æ¯”è¾ƒå¥½çš„æœ€çŸ­è·¯å§ å¯¹äºæ§åˆ¶å…¶ä»–åŸå¸‚ç»“ç•Œè¿™ç§æƒ…å†µï¼Œæœæ–­è¿è¾¹ï¼Œå½“ç„¶å•¦ï¼Œè¿™äº›è¾¹æ˜¯ä¸è·‘å›¾çš„ ç„¶åæ€ä¹ˆå¤„ç†åªæœ‰ç»“ç•Œç ´ååæ‰èƒ½è·‘å›¾å‘¢ï¼Ÿ è¿™å°±æƒ³åˆ°äº† $Dijskstra$çš„æ€§è´¨ï¼Œå¯¹äºæ¯ä¸ªç‚¹ï¼Œåªæ‹¿å®ƒæ›´æ–°äº†ä¸€æ¬¡ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬ä¸€åŒæ›´æ–°ç»“ç•Œçš„æƒ…å†µï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ï¼Œæ¯æ¬¡æ›´æ–°ç»“ç•Œçš„æ—¶é—´ï¼Œè‚¯å®šæ˜¯æœ€çŸ­çš„ï¼Œé‚£ä¹ˆæ‰€æœ‰ç»“ç•Œå…¨éƒ¨è¢«ç ´åçš„æƒ…å†µå°±å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•äº†ï¼Œ$lim[i]$ è¡¨ç¤º $i$ è¿™ä¸ªç‚¹æ‰€æœ‰ç»“ç•Œéƒ½è¢«ç ´åçš„æœ€çŸ­æ—¶é—´ï¼Œè€Œå®ƒåˆæ˜¯æ¯ä¸ªç»“ç•Œè¢«ç ´åçš„æœ€çŸ­æ—¶é—´çš„æœ€å¤§å€¼ï¼ˆæœ‰ç‚¹ç»•ï¼Œä»”ç»†ç†è§£ä¸€ä¸‹ï¼‰ï¼Œé‚£ä¹ˆå°±å– $max$ å³å¯ è·‘å›¾çš„æ—¶å€™æ³¨æ„ï¼šå¯¹äºç»“ç•Œè¿˜æ²¡å…¨éƒ¨è¢«ç ´åçš„åŸå¸‚ä¸èƒ½è·‘ï¼ˆä½†æ˜¯èƒ½æ›´æ–° $d[i]$ï¼Œä¹Ÿå°±æ˜¯å…ˆå¾—å‡ºæœ€çŸ­è·¯ç­”æ¡ˆï¼Œæœ€åå†åˆ¤æ–­è¿™ä¸ªæœ€çŸ­è·ç¦»æ‰€ç”¨çš„æ—¶é—´æ˜¯å¦å¤§äºç»“ç•Œå…¨éƒ¨è¢«ç ´åçš„æ—¶é—´ æ€»ä½“æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯å…³äº $long\\ long$ç±»å‹èµ‹æå¤§å€¼é—®é¢˜è¿™é‡Œè¿˜æ˜¯è¦$\\%$ä¸€æ³¢ $Judge$ å·¨ä½¬ Code#include&lt;bits/stdc++.h&gt; #define INF 1000000000000000000 #define rgt register #define ll long long #define M 70003 #define N 3003 using namespace std; struct Edge{ int to,nxt,cost; Edge(int a,int b):to(a),cost(b){} Edge(){} }b[M&lt;&lt;1]; struct Extent{ int to,nxt; }Ev[M&lt;&lt;1]; struct node{ int to,cost; node(int a,int b):to(a),cost(b){} node(){} inline bool operator&lt; (const node x) const{ return cost&gt;x.cost; } }; int head[N],hv[N],a[N][N]; int n,m,t,tv,In[N]; ll d[N],lim[N],y; bool vis[N]; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(int x,int y,int cost) { b[++t]=Edge(y,cost),b[t].nxt=head[x],head[x]=t; } inline void Add(int x,int y) { Ev[++tv].to=y,Ev[tv].nxt=hv[x],hv[x]=tv; } inline void Dijkstra() { int i,cur,to;ll cost; priority_queue&lt;node&gt;p;p.push(node(1,0)); memset(d,0x7f,sizeof(d)),d[1]=0; while(!p.empty()) { cur=p.top().to,p.pop(); if(vis[cur]) continue;vis[cur]=1; for(i=hv[cur];i;i=Ev[i].nxt) {//å¤„ç†ç»“ç•Œ to=Ev[i].to,lim[to]=max(lim[to],d[cur]),--In[to]; if(!In[to]) { if(d[to]&lt;INF) {//ç»“ç•Œå·²ç»ç‚¸å®Œäº†ï¼Œè€Œä¸”d[to]è¢«è·‘åˆ°è¿‡äº† d[to]=max(d[to],lim[to]); p.push(node(to,d[to])); } } } for(i=head[cur];i;i=b[i].nxt) {//è·‘å›¾ to=b[i].to,cost=d[cur]+b[i].cost; if(!In[to]&amp;&amp;lim[to]&gt;cost) cost=lim[to]; if(d[to]&gt;cost) { d[to]=cost; if(!In[to]) p.push(node(to,cost));//ç»“ç•Œæ²¡ç‚¸å®Œçš„å°±ç®—äº†å§ } } } } int main() { int i,j,x,y; n=read(),m=read(); memset(a,0x7f7f7f7f,sizeof(a)); for(i=1;i&lt;=m;i++) x=read(),y=read(),a[x][y]=min(a[x][y],read()); for(i=1;i&lt;=n;i++) {//ä»€ä¹ˆé‡è¾¹ï¼Œè‡ªç¯éƒ½æå®š for(j=1;j&lt;=n;j++) { if(a[i][j]==0x7f7f7f7f||i==j) continue; add(i,j,a[i][j]); } } for(i=1;i&lt;=n;i++) { In[i]=read();//ç±»ä¼¼ç”¨äºæ‹“æ‰‘æ’åºä¸€æ · for(j=1;j&lt;=In[i];j++) x=read(),Add(x,i); } Dijkstra(); printf(&quot;%lld&quot;,d[n]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"http://hovnySiLenCe.github.io/tags/æœ€çŸ­è·¯/"},{"name":"Dijkstra","slug":"Dijkstra","permalink":"http://hovnySiLenCe.github.io/tags/Dijkstra/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2577ã€[ZJOI2004]åˆé¤ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2577-[ZJOI2004]Lunch-Solution","date":"2019-06-17T13:04:53.000Z","updated":"2019-12-01T07:28:32.700Z","comments":true,"path":"2019/06/17/Luogu_P2577-[ZJOI2004]Lunch-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/17/Luogu_P2577-[ZJOI2004]Lunch-Solution/","excerpt":"","text":"é¢˜é¢é¢˜ç›®æè¿°ä¸Šåˆçš„è®­ç»ƒç»“æŸäº†ï¼ŒTHU ACMå°ç»„é›†ä½“å»åƒåˆé¤ï¼Œä»–ä»¬ä¸€è¡Œ$N$äººæ¥åˆ°äº†è‘—åçš„åé£Ÿå ‚ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªæ‰“é¥­çš„çª—å£ï¼Œæ¯ä¸ªçª—å£åŒä¸€æ—¶åˆ»åªèƒ½ç»™ä¸€ä¸ªäººæ‰“é¥­ã€‚ç”±äºæ¯ä¸ªäººçš„å£å‘³ï¼ˆä»¥åŠèƒƒå£ï¼‰ä¸åŒï¼Œæ‰€ä»¥ä»–ä»¬è¦åƒçš„èœå„æœ‰ä¸åŒï¼Œæ‰“é¥­æ‰€è¦èŠ±è´¹çš„æ—¶é—´æ˜¯å› äººè€Œå¼‚çš„ã€‚å¦å¤–æ¯ä¸ªäººåƒé¥­çš„é€Ÿåº¦ä¹Ÿä¸å°½ç›¸åŒï¼Œæ‰€ä»¥åƒé¥­èŠ±è´¹çš„æ—¶é—´ä¹Ÿæ˜¯å¯èƒ½æœ‰æ‰€ä¸åŒçš„ã€‚ THU ACMå°ç»„çš„åƒé¥­è®¡åˆ’æ˜¯è¿™æ ·çš„ï¼šå…ˆæŠŠæ‰€æœ‰çš„äººåˆ†æˆä¸¤é˜Ÿï¼Œå¹¶å®‰æ’å¥½æ¯é˜Ÿä¸­å„äººçš„æ’åˆ—é¡ºåºï¼Œç„¶åä¸€å·é˜Ÿä¼åˆ°ä¸€å·çª—å£å»æ’é˜Ÿæ‰“é¥­ï¼ŒäºŒå·é˜Ÿä¼åˆ°äºŒå·çª—å£å»æ’é˜Ÿæ‰“é¥­ã€‚æ¯ä¸ªäººæ‰“å®Œé¥­åç«‹åˆ»å¼€å§‹åƒï¼Œæ‰€æœ‰äººéƒ½åƒå®Œé¥­åç«‹åˆ»é›†åˆå»å…­æ•™åœ°ä¸‹å®¤è¿›è¡Œä¸‹åˆçš„è®­ç»ƒã€‚ ç°åœ¨ç»™å®šäº†æ¯ä¸ªäººçš„æ‰“é¥­æ—¶é—´å’Œåƒé¥­æ—¶é—´ï¼Œè¦æ±‚å®‰æ’ä¸€ç§æœ€ä½³çš„åˆ†é˜Ÿå’Œæ’é˜Ÿæ–¹æ¡ˆä½¿å¾—æ‰€æœ‰äººéƒ½åƒå®Œé¥­çš„æ—¶é—´å°½é‡æ—©ã€‚ å‡è®¾THU ACMå°ç»„åœ¨æ—¶åˆ»$0$åˆ°è¾¾åé£Ÿå ‚ï¼Œè€Œä¸”é£Ÿå ‚é‡Œé¢æ²¡æœ‰å…¶ä»–åƒé¥­çš„åŒå­¦ï¼ˆåªæœ‰æ‰“é¥­çš„å¸ˆå‚…ï¼‰ã€‚æ¯ä¸ªäººå¿…é¡»è€Œä¸”åªèƒ½è¢«åˆ†åœ¨ä¸€ä¸ªé˜Ÿä¼é‡Œã€‚ä¸¤ä¸ªçª—å£æ˜¯å¹¶è¡Œæ“ä½œäº’ä¸å½±å“çš„ï¼Œè€Œä¸”æ¯ä¸ªäººæ‰“é¥­çš„æ—¶é—´æ˜¯å’Œçª—å£æ— å…³çš„ï¼Œæ‰“å®Œé¥­ä¹‹åç«‹åˆ»å°±å¼€å§‹åƒé¥­ï¼Œä¸­é—´æ²¡æœ‰å»¶è¿Ÿã€‚ ç°åœ¨ç»™å®š$N$ä¸ªäººå„è‡ªçš„æ‰“é¥­æ—¶é—´å’Œåƒé¥­æ—¶é—´ï¼Œè¦æ±‚è¾“å‡ºæœ€ä½³æ–¹æ¡ˆä¸‹æ‰€æœ‰äººåƒå®Œé¥­çš„æ—¶åˆ»ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Nï¼Œä»£è¡¨æ€»å…±æœ‰$N$ä¸ªäººã€‚ ä»¥ä¸‹$N$è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° $Ai$ï¼Œ$Bi$ã€‚ä¾æ¬¡ä»£è¡¨ç¬¬$i$ä¸ªäººçš„æ‰“é¥­æ—¶é—´å’Œåƒé¥­æ—¶é—´ã€‚ è¾“å‡ºæ ¼å¼ï¼šä¸€ä¸ªæ•´æ•°$T$ï¼Œä»£è¡¨æ‰€æœ‰äººåƒå®Œé¥­çš„æœ€æ—©æ—¶åˆ»ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š5 2 2 7 7 1 3 6 4 8 5 è¾“å‡ºæ ·ä¾‹#1ï¼š17 è¯´æ˜æ‰€æœ‰è¾“å…¥æ•°æ®å‡ä¸ºä¸è¶…è¿‡200çš„æ­£æ•´æ•°ã€‚ å‰è¨€æœç„¶ï¼Œæˆ‘è¿˜æ˜¯å¤ªèœäº† è§£é¢˜æ€è·¯è´ªå¿ƒ+DP å¯¹äºå¦‚æ­¤å°çš„æ•°æ®èŒƒå›´ï¼Œæœæ–­æƒ³åˆ°$DP$ï¼Œä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰æƒ³åˆ° å…¶å®æœ¬é¢˜å’Œè¿™é“é¢˜ï¼Œæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œå…¶å®çº¯å±çæ°ï¼Œä¸è¿‡$author$éƒ½åšä¸æ¥æ˜¯çœŸçš„ äºæ˜¯ä»è¿™é“é¢˜é‡Œå°±å¯ä»¥æ€»ç»“å‡ºä¸€ç‚¹åšé¢˜çš„ç»éªŒï¼Œå¯¹äºè¦æ±‚åˆ†æˆä¸¤ç»„çš„ï¼Œè€Œä¸”æ•°æ®èŒƒå›´ä¸å¤§çš„é¢˜ç›®ï¼Œæˆ‘ä»¬å¯ä»¥æœæ–­ä½¿ç”¨$DP$ï¼ˆå½“ç„¶å•¦ï¼Œè¿˜è¦æ»¡è¶³$DP$çš„å‰æâ€”â€”æ²¡æœ‰åæ•ˆæ€§ï¼‰ é¦–å…ˆæ¥è¯æ˜è´ªå¿ƒï¼Œå…ˆæŒ‰ç…§ç¬¬äºŒå…³é”®å­—ä»å¤§åˆ°å°æ’åºï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§åƒé¥­çš„æ—¶é—´$a[i].b$æ’åº ä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ä¸ºä»€ä¹ˆè´ªå¿ƒæ˜¯æ­£ç¡®çš„ï¼Œæ„Ÿæ€§ç†è§£ä¸€ä¸‹ ç”¨ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ’é˜Ÿçš„é¡ºåºï¼Œ å‡è®¾$i$å’Œ$j$åˆ†åˆ«ä¸ºä¿©ä¸ªäººï¼Œ $i&lt;j$ ï¼Œ$i$ åœ¨ $j$ çš„å‰é¢ï¼Œ ä¸” $a[i].b&lt;a[j].b$ ï¼Œå³ $i$ åƒé¥­æ¯” $j$ æ…¢ï¼Œ è®¾ï¼Œæ•´ä¸ªåºåˆ—ç”± $i$ å’Œ $j$ ä¸¤ä¸ªä½ç½®å†³å®šï¼Œåˆå› ä¸º $i$ è€—çš„æ—¶é—´è‚¯å®šæ¯” $j$ å°‘ï¼Œæ‰€ä»¥æ•´ä¸ªåºåˆ—çš„æ—¶é—´ç”± $j$ å†³å®š åˆ™ï¼Œå¦‚æœäº¤æ¢ $i$ å’Œ $j$ ä½ç½®ï¼Œ é‚£ä¹ˆå¯¹äºåŸæœ¬ $j$ çš„ä½ç½®æ¥è¯´ï¼Œ ç­‰å¾…æ—¶é—´ä¸å˜ï¼Œåƒé¥­æ—¶é—´å˜çŸ­ï¼Œç­”æ¡ˆå˜ä¼˜ï¼Œ å¯¹äºåŸæœ¬çš„ $i$ çš„ä½ç½®è¯´ï¼Œ$j$ ç§»åˆ° $i$ ä½ç½®ä¹‹åï¼Œç­‰å¾…æ—¶é—´å˜çŸ­ï¼Œåƒé¥­æ—¶é—´ä¸å˜ï¼Œå› æ­¤ç­”æ¡ˆä¹Ÿå˜ä¼˜ ç»¼ä¸Šï¼Œåƒé¥­æ—¶é—´ $a[i].b$ è¾ƒé•¿çš„äººåº”è¯¥æ”¾åœ¨å‰é¢ è¯æ¯•ï¼ï¼ï¼ æ²¡é‚£ä¹ˆå¤¸å¼ ï¼Œä½†æ˜¯çœŸçš„è¯æ˜å®Œäº† $qwq$ æ¥ä¸‹å»æ˜¯ $DP$ ï¼Œä¹Ÿå°±æ˜¯å¼€ä¸‰ç»´è¡¨ç¤ºä¸€ä¸‹ï¼š $f[i][j][k]$ ï¼šåœ¨ $i$ è¿™ä¸ªç‚¹ï¼Œ$1$ å·çª—çš„ç­‰å¾…æ—¶é—´ä¸º $j$ï¼Œ$2$ å·çª—çš„ç­‰å¾…æ—¶é—´ä¸º $k$ æ—¶çš„ç­”æ¡ˆ ä¸‰ç»´æ˜æ˜¾ä¼šç‚¸ ç¨å¾®è§‚å¯Ÿä¸€ä¸‹ï¼š$j+k$ æ˜¯ä¸æ˜¯å®šå€¼å•Šï¼Œå°±æ˜¯ç­‰äºå‰ $i$ ä¸ªäººçš„ç­‰å¾…æ—¶é—´æ€»å’Œï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸‹å‰ç¼€å’Œ $sum[i]$ï¼Œç„¶åå°†æ•°ç»„å˜æˆä¸¤ç»´çš„ æ¥ä¸‹å»ï¼Œè½¬ç§»æ–¹ç¨‹å°±æ¯”è¾ƒå¥½æ¨äº†ï¼š f[i][j]=max\\{f[i-1][j-a[i].a],f[i-1][j],j+a[i].b,sum[i]-j+a[i].b\\}å½“ç„¶å•¦ï¼Œ$j&lt;a[i].a$ æ—¶ï¼Œæœ‰äº›è½¬ç§»å°±æ— æ•ˆäº† å¦åˆ™REçˆ½æ­» Code#include&lt;bits/stdc++.h&gt; #define rgt register #define INF 0x7f7f7f7f #define M 40007 #define N 203 using namespace std; struct node{ int a,b; }a[N]; int n,sum[N],f[N][M],ans=INF; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline bool cmp(node a,node b) {return a.b&gt;b.b;} int main() { int i,j; n=read(); for(i=1;i&lt;=n;i++) a[i].a=read(),a[i].b=read(); memset(f,INF,sizeof(f));//å…¨éƒ½åˆå§‹åŒ–ä¸ºINF sort(a+1,a+n+1,cmp),f[0][0]=0;//åˆå§‹çŠ¶æ€ä¸ºå•¥éƒ½æ²¡æœ‰ for(i=1;i&lt;=n;i++) sum[i]=sum[i-1]+a[i].a;//å¤„ç†å‰ç¼€å’Œ for(i=1;i&lt;=n;i++) { for(j=0;j&lt;a[i].a;j++) if(f[i-1][j]!=INF)//ä¸€äº›ä¸å¯èƒ½çš„çŠ¶æ€å°±ä¸è¦è½¬ç§»äº† f[i][j]=max(f[i-1][j],sum[i]-j+a[i].b); for(j=a[i].a;j&lt;=sum[i];j++) { if(f[i-1][j]!=INF) f[i][j]=max(f[i-1][j],sum[i]-j+a[i].b); if(f[i-1][j-a[i].a]!=INF) f[i][j]=min(f[i][j],max(f[i-1][j-a[i].a],j+a[i].b)); } } for(i=1;i&lt;=sum[n];i++) ans=min(ans,f[n][i]); printf(&quot;%d&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP6517ã€JOCHEF - Farmer Sepp è§£é¢˜æŠ¥å‘Š","slug":"SP6517-JOCHEF_FarmerSepp-Solution","date":"2019-06-14T10:00:40.000Z","updated":"2019-11-12T11:33:17.234Z","comments":true,"path":"2019/06/14/SP6517-JOCHEF_FarmerSepp-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/14/SP6517-JOCHEF_FarmerSepp-Solution/","excerpt":"","text":"è§£é¢˜æ€è·¯æ‚¬çº¿æ³•ã€DP å¯¹äºæ¯ä¸ªä½ç½®ï¼Œ è®°å½• ä»¥è¿™ä¸ªä½ç½®ä¸ºä¸‹ç•Œçš„æœ€å¤§çŸ©é˜µçš„ å·¦è¾¹ç•Œ ï¼š$l[i][j]$ å³è¾¹ç•Œï¼š$r[i][j]$ é«˜ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹ç•Œå·®ï¼š$h[i][j]$ å½“ç„¶å•¦ï¼Œæš´åŠ›åšæ˜¯ä¼š$T$çš„ï¼ˆåºŸè¯ï¼‰ï¼Œäºæ˜¯å¯ä»¥å……åˆ†åˆ©ç”¨å·²ç»æ±‚å‡ºçš„ä¿¡æ¯ è¿›è¡Œ$\\to\\ DP$ é€’æ¨å¼ï¼š åœ¨æ¯ä¸ªä½ç½®æ›´æ–°ç­”æ¡ˆï¼Œå½“ç„¶ï¼Œåœ¨Cçš„ä½ç½®ä¸èƒ½é€‰ï¼Œç›´æ¥continueæ‰ Codeï¼š#include&lt;bits/stdc++.h&gt; #define ll long long #define N 4007 using namespace std; int n,m,l[N][N],r[N][N],h[N][N]; char b[N][N]; ll k,ans,L; inline int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int main() { int i,j; char c; while((n=read())) { m=read(),k=read(),ans=0; for(i=1;i&lt;=n;i++) {//è¯»å…¥ c=getchar(); while(c==&#39;\\n&#39;||c==&#39;\\r&#39;) c=getchar(); b[i][1]=c,l[i][1]=r[i][1]=1; for(j=2;j&lt;=m;j++)//åˆå§‹åŒ– b[i][j]=getchar(),l[i][j]=r[i][j]=j; } for(i=1;i&lt;=n;i++) {//å¤„ç†å‡ºæ¯ä¸ªä½ç½®å·¦å³çš„éšœç¢ç‚¹ for(j=2;j&lt;=m;j++) if(b[i][j]==b[i][j-1]) l[i][j]=l[i][j-1]; for(j=m-1;j;j--) if(b[i][j]==b[i][j+1]) r[i][j]=r[i][j+1]; } for(i=1;i&lt;=n;i++) { for(j=1;j&lt;=m;j++) { if(b[i][j]==&#39;C&#39;) continue; if(b[i][j]==b[i-1][j]) {//æ›´æ–°å¯èƒ½çš„çŸ©å½¢ l[i][j]=max(l[i][j],l[i-1][j]); r[i][j]=min(r[i][j],r[i-1][j]); h[i][j]=h[i-1][j]+1; } else h[i][j]=1; L=r[i][j]-l[i][j]+1; ans=max(ans,L*h[i][j]);//ç”¨çŸ©å½¢é¢ç§¯å…¬å¼æ›´æ–° } } printf(&quot;%lld\\n&quot;,ans*k);//åˆ«å¿˜äº†è¦ä¹˜ä¸Šå•ä½é¢ç§¯ } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ‚¬çº¿æ³•","slug":"æ‚¬çº¿æ³•","permalink":"http://hovnySiLenCe.github.io/tags/æ‚¬çº¿æ³•/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒæŸè®²ç¨¿ã€ æå¤§åŒ–æ€æƒ³ä¸æœ€å¤§å­çŸ©é˜µçš„æ¢ç©¶ å­¦ä¹ ç¬”è®°","slug":"LectureNotes-Maximizing&LargestSubmatrix-Notes","date":"2019-06-13T14:10:36.000Z","updated":"2019-12-01T07:28:38.309Z","comments":true,"path":"2019/06/13/LectureNotes-Maximizing&LargestSubmatrix-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/13/LectureNotes-Maximizing&LargestSubmatrix-Notes/","excerpt":"","text":"å†™åœ¨å‰é¢è¿™åº”è¯¥ç®—æ˜¯ $author$ çš„ç¬¬ä¸€ç¯‡çŸ¥è¯†ç¬”è®°å§ $qwq$ é¢˜ç›®å¼•å…¥å…ˆæ¥åº·åº·ä¸€é“é¢˜å§ï¼Œ ã€ŒLuogu P1578ã€ å¥¶ç‰›æµ´åœºé¢˜ç›®æè¿°ç”±äº $John$ å»ºé€ äº†ç‰›åœºå›´æ ï¼Œæ¿€èµ·äº†å¥¶ç‰›çš„æ„¤æ€’ï¼Œå¥¶ç‰›çš„äº§å¥¶é‡æ€¥å‰§å‡å°‘ã€‚ä¸ºäº†è®¨å¥½å¥¶ç‰›ï¼Œ$John$ å†³å®šåœ¨ç‰›åœºä¸­å»ºé€ ä¸€ä¸ªå¤§å‹æµ´åœºã€‚ä½†æ˜¯ $John$ çš„å¥¶ç‰›æœ‰ä¸€ä¸ªå¥‡æ€ªçš„ä¹ æƒ¯ï¼Œæ¯å¤´å¥¶ç‰›éƒ½å¿…é¡»åœ¨ç‰›åœºä¸­çš„ä¸€ä¸ªå›ºå®šçš„ä½ç½®äº§å¥¶ï¼Œè€Œå¥¶ç‰›æ˜¾ç„¶ä¸èƒ½åœ¨æµ´åœºä¸­äº§å¥¶ï¼Œäºæ˜¯ï¼Œ$John$ å¸Œæœ›æ‰€å»ºé€ çš„æµ´åœºä¸è¦†ç›–è¿™äº›äº§å¥¶ç‚¹ã€‚è¿™å›ï¼Œä»–åˆè¦æ±‚åŠ©äº $Clevow$ äº†ã€‚ä½ è¿˜èƒ½å¸®åŠ© $Clevow$ å—ï¼Ÿ $John$ çš„ç‰›åœºå’Œè§„åˆ’çš„æµ´åœºéƒ½æ˜¯çŸ©å½¢ã€‚æµ´åœºè¦å®Œå…¨ä½äºç‰›åœºä¹‹å†…ï¼Œå¹¶ä¸”æµ´åœºçš„è½®å»“è¦ä¸ç‰›åœºçš„è½®å»“å¹³è¡Œæˆ–è€…é‡åˆã€‚æµ´åœºä¸èƒ½è¦†ç›–ä»»ä½•äº§å¥¶ç‚¹ï¼Œä½†æ˜¯äº§å¥¶ç‚¹å¯ä»¥ä½äºæµ´åœºçš„è½®å»“ä¸Šã€‚ $Clevow$ å½“ç„¶å¸Œæœ›æµ´åœºçš„é¢ç§¯å°½å¯èƒ½å¤§äº†ï¼Œæ‰€ä»¥ä½ çš„ä»»åŠ¡å°±æ˜¯å¸®å¥¹è®¡ç®—æµ´åœºçš„æœ€å¤§é¢ç§¯ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šè¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $L$ å’Œ $W$ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰›åœºçš„é•¿å’Œå®½ã€‚æ–‡ä»¶çš„ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $n$ï¼Œè¡¨ç¤ºäº§å¥¶ç‚¹çš„æ•°é‡ã€‚ä»¥ä¸‹nè¡Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $x$ å’Œ $y$ï¼Œè¡¨ç¤ºä¸€ä¸ªäº§å¥¶ç‚¹çš„åæ ‡ã€‚æ‰€æœ‰äº§å¥¶ç‚¹éƒ½ä½äºç‰›åœºå†…ï¼Œå³ï¼š$0\\le x\\le L$ï¼Œ$0\\le y\\le W$ã€‚ è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºæ–‡ä»¶ä»…ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $S$ï¼Œè¡¨ç¤ºæµ´åœºçš„æœ€å¤§é¢ç§¯ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹ #1ï¼š10 10 4 1 1 9 1 1 9 9 9 è¾“å‡ºæ ·ä¾‹ #1ï¼š80 /è¿™è¡Œæ˜¯ä¸ºäº†å‰é¢æœ‰æ ‡å· è¯´æ˜$0\\le n\\le 5000$ $1\\le L,W\\le 30000$ $Winter\\ Camp\\ 2002$ åˆæ¯”å¦‚ï¼Œè¿™é“é¢˜ï¼š ã€ŒLuogu P1169ã€ [ZJOI2007]æ£‹ç›˜åˆ¶ä½œé¢˜ç›®æè¿°å›½é™…è±¡æ£‹æ˜¯ä¸–ç•Œä¸Šæœ€å¤è€çš„åšå¼ˆæ¸¸æˆä¹‹ä¸€ï¼Œå’Œä¸­å›½çš„å›´æ£‹ã€è±¡æ£‹ä»¥åŠæ—¥æœ¬çš„å°†æ£‹åŒäº«ç››åã€‚æ®è¯´å›½é™…è±¡æ£‹èµ·æºäºæ˜“ç»çš„æ€æƒ³ï¼Œæ£‹ç›˜æ˜¯ä¸€ä¸ª $8 \\times 8$ å¤§å°çš„é»‘ç™½ç›¸é—´çš„æ–¹é˜µï¼Œå¯¹åº”å…«å…«å…­åå››å¦ï¼Œé»‘ç™½å¯¹åº”é˜´é˜³ã€‚ è€Œæˆ‘ä»¬çš„ä¸»äººå…¬å°Qï¼Œæ­£æ˜¯å›½é™…è±¡æ£‹çš„ç‹‚çƒ­çˆ±å¥½è€…ã€‚ä½œä¸ºä¸€ä¸ªé¡¶å°–é«˜æ‰‹ï¼Œä»–å·²ä¸æ»¡è¶³äºæ™®é€šçš„æ£‹ç›˜ä¸è§„åˆ™ï¼Œäºæ˜¯ä»–è·Ÿä»–çš„å¥½æœ‹å‹å°Wå†³å®šå°†æ£‹ç›˜æ‰©å¤§ä»¥é€‚åº”ä»–ä»¬çš„æ–°è§„åˆ™ã€‚ å°Qæ‰¾åˆ°äº†ä¸€å¼ ç”± $N \\times M$ ä¸ªæ­£æ–¹å½¢çš„æ ¼å­ç»„æˆçš„çŸ©å½¢çº¸ç‰‡ï¼Œæ¯ä¸ªæ ¼å­è¢«æ¶‚æœ‰é»‘ç™½ä¸¤ç§é¢œè‰²ä¹‹ä¸€ã€‚å°Qæƒ³åœ¨è¿™ç§çº¸ä¸­è£å‡ä¸€éƒ¨åˆ†ä½œä¸ºæ–°æ£‹ç›˜ï¼Œå½“ç„¶ï¼Œä»–å¸Œæœ›è¿™ä¸ªæ£‹ç›˜å°½å¯èƒ½çš„å¤§ã€‚ ä¸è¿‡å°Qè¿˜æ²¡æœ‰å†³å®šæ˜¯æ‰¾ä¸€ä¸ªæ­£æ–¹å½¢çš„æ£‹ç›˜è¿˜æ˜¯ä¸€ä¸ªçŸ©å½¢çš„æ£‹ç›˜ï¼ˆå½“ç„¶ï¼Œä¸ç®¡å“ªç§ï¼Œæ£‹ç›˜å¿…é¡»éƒ½é»‘ç™½ç›¸é—´ï¼Œå³ç›¸é‚»çš„æ ¼å­ä¸åŒè‰²ï¼‰ï¼Œæ‰€ä»¥ä»–å¸Œæœ›å¯ä»¥æ‰¾åˆ°æœ€å¤§çš„æ­£æ–¹å½¢æ£‹ç›˜é¢ç§¯å’Œæœ€å¤§çš„çŸ©å½¢æ£‹ç›˜é¢ç§¯ï¼Œä»è€Œå†³å®šå“ªä¸ªæ›´å¥½ä¸€äº›ã€‚ äºæ˜¯å°Qæ‰¾åˆ°äº†å³å°†å‚åŠ å…¨å›½ä¿¡æ¯å­¦ç«èµ›çš„ä½ ï¼Œä½ èƒ½å¸®åŠ©ä»–ä¹ˆï¼Ÿ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šåŒ…å«ä¸¤ä¸ªæ•´æ•° $N$ å’Œ $M$ ï¼Œåˆ†åˆ«è¡¨ç¤ºçŸ©å½¢çº¸ç‰‡çš„é•¿å’Œå®½ã€‚æ¥ä¸‹æ¥çš„$N$è¡ŒåŒ…å«ä¸€ä¸ª $N \\times M$ çš„ $01$ çŸ©é˜µï¼Œè¡¨ç¤ºè¿™å¼ çŸ©å½¢çº¸ç‰‡çš„é¢œè‰²ï¼ˆ $0$ è¡¨ç¤ºç™½è‰²ï¼Œ$1$ è¡¨ç¤ºé»‘è‰²ï¼‰ã€‚ è¾“å‡ºæ ¼å¼ï¼šåŒ…å«ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚ç¬¬ä¸€è¡Œä¸ºå¯ä»¥æ‰¾åˆ°çš„æœ€å¤§æ­£æ–¹å½¢æ£‹ç›˜çš„é¢ç§¯ï¼Œç¬¬äºŒè¡Œä¸ºå¯ä»¥æ‰¾åˆ°çš„æœ€å¤§çŸ©å½¢æ£‹ç›˜çš„é¢ç§¯ï¼ˆæ³¨æ„æ­£æ–¹å½¢å’ŒçŸ©å½¢æ˜¯å¯ä»¥ç›¸äº¤æˆ–è€…åŒ…å«çš„ï¼‰ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹ #1ï¼š3 3 1 0 1 0 1 0 1 0 0 è¾“å‡ºæ ·ä¾‹ #1ï¼š4 6 è¯´æ˜å¯¹äº $20\\%$ çš„æ•°æ®ï¼Œ$N, M \\le 80$ å¯¹äº $40\\%$ çš„æ•°æ®ï¼Œ$N, M â‰¤ 400$ å¯¹äº $100\\%$ çš„æ•°æ®ï¼Œ$N, M â‰¤ 2000$ æ­£æ–‡æ±‚è§£çŸ©é˜µä¸­æœ€å¤§å­çŸ©é˜µé—®é¢˜ï¼Œå¯ä»¥ç”¨æå¤§åŒ–æ€æƒ³ å…ˆæ¥çœ‹ä¸€äº›å®šä¹‰ï¼š æœ‰æ•ˆå­çŸ©å½¢ï¼šé¡¾åæ€ä¹‰ï¼Œå³æ»¡è¶³æ¡ä»¶çš„çŸ©å½¢ æå¤§å­çŸ©å½¢ï¼šåŸçŸ©é˜µä¸­æ— æ³•å†æ‹“å±•ï¼ˆå³å‘å››å‘¨éƒ½æ— æ³•æ‹“å±•ï¼‰çš„å­çŸ©å½¢ æœ€å¤§å­çŸ©å½¢ï¼šå­—é¢æ„æ€ï¼Œæˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆ æå¤§åŒ–æ€æƒ³å¯ä»¥è¯æ˜ï¼Œæœ€å¤§å­çŸ©å½¢ä¸€å®šæ˜¯æå¤§å­çŸ©å½¢ äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œå³æšä¸¾æ‰€æœ‰æå¤§å­çŸ©é˜µï¼Œç„¶åæ±‚è§£ ä½†æ˜¯æš´åŠ›å‡ºå¥‡è¿¹æš´åŠ›æ€»ä¸æ˜¯æœ€å¥½çš„è§£æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é«˜æ•ˆåˆ©ç”¨æˆ‘ä»¬å¤„ç†å‡ºæ¥çš„ä¿¡æ¯ï¼Œå°†ç®—æ³•çš„å¤æ‚åº¦é™åˆ°$O(n^2)$ ä¸åŒçš„é¢˜å‹ï¼Œä¸åŒçš„è§£æ³•å¯¹äºç»™å‡ºçš„ç¬¬ä¸€é“é¢˜ï¼Œè‚¯å®šä¸èƒ½åŸºäºçŸ©å½¢çš„å¤§å°åšï¼Œäºæ˜¯å°±å¯ä»¥è®¾è®¡ä¸€ä¸ªåŸºäºéšœç¢ç‚¹æ•°çš„ç®—æ³• ç”±äºæå¤§åŒ–æ€æƒ³ï¼Œä¸€ä¸ªæå¤§å­çŸ©é˜µçš„è¾¹ç¼˜ä¸Šä¸€å®šæœ‰éšœç¢ç‚¹ï¼Œæ‰€ä»¥å¯ä»¥æšä¸¾æ¯ä¸ªéšœç¢ç‚¹ï¼Œå†ä»éšœç¢ç‚¹æ‰©å±• è¿™å«ä¹Ÿä¸çŸ¥é“å«ä»€ä¹ˆçš„ç®—æ³• å¦‚å›¾ï¼š è¿™æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œæˆ‘ä»¬å¼•å…¥äº†çŸ©é˜µçš„å››ä¸ªé¡¶ç‚¹ ç„¶åæšä¸¾æ¯ä¸ªç‚¹ï¼Œæ¯”å¦‚æˆ‘ä»¬åšåˆ°è¿™ç‚¹ï¼Œåªå‘ä¸€ä¸ªæ–¹å‘æ›´æ–°ï¼Œä»¤ $U$ ä¸ºä»¥ $i$ ç‚¹ä¸ºå·¦è¾¹çš„çŸ©å½¢æœ€å¤§å¯èƒ½çš„ä¸Šç•Œç¼–å·ï¼Œ$D$ åˆ™ä¸ºç›¸å¯¹åº”çš„æœ€å¤§å¯èƒ½çš„ä¸‹ç•Œç¼–å· æ­¤æ—¶ï¼š$U=7\\ \\ D=0$ å¯ä»¥çœ‹å‡ºï¼Œè¿˜å¯ä»¥å‘å³æ‹“å±•ï¼Œäºæ˜¯åšåˆ° $j$ ç‚¹ æ­¤æ—¶ï¼š$U=7\\ \\ D=0$ è™½ç„¶è¯´ï¼Œç°åœ¨çš„ç­”æ¡ˆå·²ç»æ˜¯æœ€å¤§äº†ï¼ˆç¨‹åºåˆä¸æ˜¯äººï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æ‹“å±• æ—¢ç„¶è¦æ±‚ $i$ ç‚¹ä¸€å®šè¦åœ¨çŸ©å½¢çš„è¾¹ç¼˜ä¸Šä¸”çŸ©å½¢å†…ä¸èƒ½æœ‰éšœç¢ç‚¹ï¼Œæ‰€ä»¥å°±æ”¹å˜ $U$ æˆ– $D$ çš„å€¼ æ­¤æ—¶ï¼š$U=7\\ \\ D=3$ ç„¶åç»§ç»­å¾€å³æ‹“å±•ï¼Œç›´åˆ° $U==D$ æˆ–è€…æ‰€æœ‰ç‚¹éƒ½æ‹“å±•å®Œï¼Œå‰è€…ä¸èƒ½æ‹“å±•çš„åŸå› æ˜¯å› ä¸ºæ— æ³•å½¢æˆçŸ©å½¢â€”â€”å·²ç»æ˜¯ä¸€æ¡çº¿äº† ç„¶åå°† $i$ ç‚¹å³ç§»ï¼Œç»§ç»­åšï¼Œä¸æ–­æ›´æ–°ç­”æ¡ˆ ä½†æ˜¯ï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†å˜›ï¼Ÿ æ ·ä¾‹è¿‡äº†å•Šï¼Œæ ·ä¾‹æ˜¯çœŸæ°´ æˆ‘ä»¬åœ¨æ ·ä¾‹çš„åŸºç¡€ä¸ŠåŠ ä¸¤ä¸ªç‚¹ æ˜¯ä¸æ˜¯å°±å¿˜è®°äº†è¿™ä¸¤ç§æƒ…å†µï¼Œè€Œå®é™…ä¸Šï¼Œè¿™ä¸¤ç§æƒ…å†µå°±éƒ½æ˜¯è¦ç«–ç€åšä¸€éï¼Œä½†æ˜¯ç”±äºå«Œçƒ¦ è¿˜æ˜¯ç‰¹åˆ¤ä¸€ä¸‹å¥½äº†ï¼Œå‰è€…æ’åºåç‰¹åˆ¤ï¼Œåè€…å†ä»å³å¾€å·¦æ‰«ä¸€éï¼ˆä¸€å¼€å§‹æˆ‘ä»¬æ˜¯ä»å³å¾€å·¦æ›´æ–° Codeï¼š#include&lt;bits/stdc++.h&gt; #define M b[i].y #define N 5007//ç”±äºåæ ‡ç³»å’Œæ–‡ä¸­æ‰€æè¿°çš„æ–¹æ³•å¯¹xå’Œyçš„å®šä¹‰æœ‰ç‚¹ä¸åŒ using namespace std;//é€ æˆçš„å°å·®å¼‚è¯»è€…å¯ä»¥è‡ªè¡Œæ€è€ƒ struct node{ int x,y; node(int a,int b):x(a),y(b){} node(){} }b[N]; int n,m,t,ans,D,U; inline int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline bool cmp(node a,node b) {return a.y&lt;b.y;} inline bool Cmp(node a,node b) {return a.x&lt;b.x;} int main() { int i,j; n=read(),m=read(),t=read(); for(i=1;i&lt;=t;++i) b[i].x=read(),b[i].y=read(); b[++t]=node(0,m),b[++t]=node(n,0), b[++t]=node(0,0),b[++t]=node(n,m); sort(b+1,b+1+t,cmp);//æŒ‰yæ’åº for(i=1;i&lt;t;++i) ans=max(ans,(b[i+1].y-b[i].y)*n);//å¯¹äºç¬¬ä¸€ç§æƒ…å†µçš„ç‰¹åˆ¤ sort(b+1,b+1+t,Cmp); for(i=2;i&lt;t;++i) { D=0,U=m; for(j=i+1;j&lt;=t;++j) { ans=max(ans,(b[j].x-b[i].x)*(U-D)); if(D&lt;=b[j].y&amp;&amp;b[j].y&lt;=U) { if(b[j].y==M) break; if(M&lt;b[j].y&amp;&amp;b[j].y&lt;U) U=b[j].y; if(D&lt;b[j].y&amp;&amp;b[j].y&lt;M) D=b[j].y; } } D=0,U=m; for(j=i-1;j;--j) { ans=max(ans,(b[i].x-b[j].x)*(U-D)); if(D&lt;=b[j].y&amp;&amp;b[j].y&lt;=U) { if(b[j].y==M) break; if(M&lt;b[j].y&amp;&amp;b[j].y&lt;U) U=b[j].y; if(D&lt;b[j].y&amp;&amp;b[j].y&lt;M) D=b[j].y; } } } printf(&quot;%d&quot;,ans); return 0; } æ‚¬çº¿æ³•å½“éšœç¢ç‚¹å˜å¾—å¯†é›†ï¼Œä¸Šæ–‡æ‰€è¿°çš„æ–¹æ³•å°±ä¸é€‚ç”¨äº†ï¼Œäºæ˜¯å°±å¼•å‡ºäº†æ–°ç®—æ³•â€”â€”æ‚¬çº¿æ³• è¿™æ˜¯ä¸€ä¸ªåŸºäºçŸ©é˜µå¤§å°çš„ç®—æ³• å¯¹äºæ¯ä¸ªç‚¹å¤„ç†ï¼š l[i][j]ï¼šä»¥(i,j)ç‚¹ä¸ºä¸‹ç•Œçš„åŠæå¤§æœ‰æ•ˆå­çŸ©å½¢(å› ä¸ºå¯èƒ½è¿˜èƒ½å‘ä¸‹æ‹“å±•)çš„å·¦è¾¹ç•Œ(éšœç¢ç‚¹çš„jå€¼) r[i][j]ï¼šä»¥(i,j)ç‚¹ä¸ºä¸‹ç•Œçš„åŠæå¤§æœ‰æ•ˆå­çŸ©å½¢çš„å³è¾¹ç•Œ h[i][j]ï¼šä»¥(i,j)ç‚¹ä¸ºä¸‹ç•Œçš„åŠæå¤§æœ‰æ•ˆå­çŸ©å½¢çš„é«˜ï¼Œä¸Šç•Œåˆ°ä¸‹ç•Œçš„è·ç¦» é€’æ¨å¼ï¼š $(i,j)$ ä½ç½®å·¦å³æœ€è¿‘çš„éšœç¢ç‚¹å¯ä»¥ç”¨ä¸€æ¬¡ $DP$ å¤„ç† for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++)//ä¸€å¼€å§‹l[i][j]å’Œr[i][j]éƒ½æ˜¯j b[i][j]=read(),l[i][j]=r[i][j]=j; for(i=1;i&lt;=n;i++) { for(j=2;j&lt;=m;j++) if(b[i][j]^b[i][j-1]) l[i][j]=l[i][j-1]; for(j=m-1;j;j--) if(b[i][j]^b[i][j+1]) r[i][j]=r[i][j+1]; } ç„¶ååœ¨æ¯ä¸ªç‚¹æ›´æ–°ç­”æ¡ˆ Codeï¼š#include&lt;bits/stdc++.h&gt; #define rgt register #define N 2007 using namespace std; int n,m,l[N][N],r[N][N],h[N][N],L,a,res,ans; bool b[N][N]; inline bool read() { rgt char c=getchar(); while(!isdigit(c)) c=getchar(); return c-&#39;0&#39;; } int main() { int i,j; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) b[i][j]=read(),l[i][j]=r[i][j]=j; for(i=1;i&lt;=n;i++) { for(j=2;j&lt;=m;j++) if(b[i][j]^b[i][j-1])//ç¨å¾®å˜æ¢ä¸€ä¸‹ï¼Œå’Œå·¦å³åŒè‰²çš„å°±æ˜¯éšœç¢ç‚¹ l[i][j]=l[i][j-1]; for(j=m-1;j;j--) if(b[i][j]^b[i][j+1]) r[i][j]=r[i][j+1]; } for(i=1;i&lt;=n;i++) { for(j=1;j&lt;=m;j++) { if(i&gt;1&amp;&amp;b[i][j]^b[i-1][j]) { l[i][j]=max(l[i][j],l[i-1][j]); r[i][j]=min(r[i][j],r[i-1][j]); h[i][j]=h[i-1][j]+1; } else h[i][j]=1; L=r[i][j]-l[i][j]+1,a=min(L,h[i][j]); res=max(res,a*a); ans=max(ans,L*h[i][j]); } } printf(&quot;%d\\n%d&quot;,res,ans); return 0; } æ¨èé¢˜ç›®SP6517 JOCHEF - Farmer SeppLuogu P4147 ç‰èŸ¾å®«","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"},{"name":"æ‚¬çº¿æ³•","slug":"æ‚¬çº¿æ³•","permalink":"http://hovnySiLenCe.github.io/tags/æ‚¬çº¿æ³•/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒLuogu P4802ã€[CCO 2015]è·¯çŸ­æœ€ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4802-[CCO 2015]PathShortestMost-Solution","date":"2019-06-11T12:57:31.000Z","updated":"2019-11-10T11:55:21.237Z","comments":true,"path":"2019/06/11/Luogu_P4802-[CCO 2015]PathShortestMost-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/11/Luogu_P4802-[CCO 2015]PathShortestMost-Solution/","excerpt":"","text":"è§£é¢˜æ€è·¯å…¶å®è¿™å°±æ˜¯Hamiltonè·¯å¾„çš„æ¨¡æ¿é¢˜ $\\to â€‹$ æ ¹æœ¬åšæ³•å…¶å®æ˜¯çŠ¶å‹DP ç”¨bæ•°ç»„å­˜è¾¹ï¼Œç„¶åfæ•°ç»„ç”¨æ¥è·‘$DP$ ç”¨$i$è¡¨ç¤º çŠ¶å‹åï¼Œå·²ç»èµ°è¿‡çš„ç‚¹æœ‰å“ªäº›ï¼ˆå½“ç„¶å•¦ï¼ŒåŒ…å«ä¸‹é¢çš„$j$ç‚¹ï¼‰ï¼Œä¸ºfæ•°ç»„çš„ç¬¬ä¸€ç»´ ç”¨$j$è¡¨ç¤º æœ€ååˆ°çš„æ˜¯å“ªä¸ªç‚¹ï¼Œä¸ºfæ•°ç»„çš„ç¬¬äºŒç»´ ç„¶åå¯¹äºæ¯ç§æƒ…å†µï¼Œå¯ä»¥ä»å…¶ä»–çŠ¶æ€è½¬ç§»è¿‡æ¥ï¼Œè¿™é‡Œå°±ä¸è¯¦è¿°äº†ï¼Œå…·ä½“çš„è§ä»£ç  Code#include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define N 19 using namespace std; int n,m,Max,res,ans;//Maxè¡¨ç¤ºæ¯ä¸€ä½éƒ½å–çš„çŠ¶å‹å€¼ï¼ˆä¹Ÿå°±æ˜¯èŒƒå›´ï¼‰ int b[N][N],f[1&lt;&lt;19][N]; inline int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } int main() { int i,j,k,x,y; n=read(),m=read(); for(i=1;i&lt;=m;i++)//å•å‘è¾¹ x=read(),y=read(),b[x][y]=read(); Max=(1&lt;&lt;n)-1;//æ±‚èŒƒå›´ï¼Œf[1][0]=0 for(i=2;i&lt;=Max;i++) {//å› ä¸ºå¿…ç»è¿‡0å·ç‚¹ï¼Œæ‰€ä»¥ç›´æ¥ä»çŠ¶æ€2å¼€å§‹ï¼Œè™½ç„¶2æ— æ„ä¹‰ï¼Œä½†æ˜¯ä½ è¦èµ‹åˆå€¼å•Š for(j=0;j&lt;n;j++) {//å°±æ˜¯æšä¸¾ï¼Œåˆ¤æ–­å¯ä»¥ ä»¥å“ªäº›ç‚¹ä¸ºç»ˆç‚¹ f[i][j]=-INF;//èµ‹åˆå€¼ if((i&gt;&gt;j)&amp;1) {//åˆ¤æ–­ res=i^(1&lt;&lt;j);//é™¤å»ä¸ºç»“å°¾çš„è¿™ä¸ªç‚¹ï¼Œå¯ä»¥ä»å“ªäº›çŠ¶æ€è½¬ç§»è¿‡æ¥ for(k=0;k&lt;n;k++)//å†æšä¸¾ if((res&gt;&gt;k)&amp;1&amp;&amp;b[k][j])//å†åˆ¤æ–­ï¼Œè¦æ³¨æ„æœ‰è¾¹æ‰èƒ½èµ° f[i][j]=max(f[i][j],f[res][k]+b[k][j]);//æ±‚è¾ƒå¤§å€¼ } } } --n; for(i=1+(1&lt;&lt;n);i&lt;=Max;i++)//ä»¥nä¸ºç»“å°¾çš„å„ç§æƒ…å†µï¼Œièµ‹çš„åˆå€¼æ˜¯ä¸ºäº†ä¿è¯n-1è¿™ä¸ªç‚¹èƒ½å–åˆ° ans=max(ans,f[i][n]); printf(&quot;%d&quot;,ans); return 0; } ä¸€ç‚¹å°é—®é¢˜å¯ä»¥è‡ªè¡Œæ€è€ƒä¸€ä¸‹æ—¶é—´å¤æ‚åº¦ è¿™é‡Œæ˜¯ä¸ä¼šè¶…çš„ï¼Œä½†æ˜¯å°†$n$æ”¹ä¸º$20$æ—¶ï¼Œä»ä¸ä¼š$T$ï¼Œæš´åŠ›å°±æ˜¯è¿™ä¹ˆä¼˜ç§€","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çŠ¶å‹DP","slug":"çŠ¶å‹DP","permalink":"http://hovnySiLenCe.github.io/tags/çŠ¶å‹DP/"},{"name":"Hamiltonè·¯å¾„","slug":"Hamiltonè·¯å¾„","permalink":"http://hovnySiLenCe.github.io/tags/Hamiltonè·¯å¾„/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1772ã€[ZJOI2006]ç‰©æµè¿è¾“ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P1772-[ZJOI2006]LogisticsTransportation-Solution","date":"2019-06-10T14:25:46.000Z","updated":"2019-11-10T11:56:10.579Z","comments":true,"path":"2019/06/10/Luogu_P1772-[ZJOI2006]LogisticsTransportation-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/06/10/Luogu_P1772-[ZJOI2006]LogisticsTransportation-Solution/","excerpt":"","text":"å‰è¨€éœ‡æƒŠï¼è¿™ç§éä¸»æµçš„æ–¹æ³•å±…ç„¶$A$äº† è§£é¢˜æ€è·¯ä»‹ç»ä¸€ç§ä¸ä¸€æ ·çš„æ€è·¯ï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¯DPçš„å†™æ³•ï¼Œ çº¯ç²¹çš„æœ€çŸ­è·¯ æ•°æ®èŒƒå›´æ¯”è¾ƒå°ï¼Œç„¶ååˆä¸åŒçš„å¤©æ•° äºæ˜¯å°±å¯ä»¥æåˆ†å±‚å›¾ æ”¹å˜è·¯å¾„çš„æƒ…å†µåªè¦åœ¨ä¸€å±‚çš„ $n$ å·ç‚¹ä¸ä¸‹ä¸€å±‚ $1$ å·ç‚¹ä¹‹é—´è¿ä¸€æ¡è¾¹æƒä¸º $K$ çš„è¾¹ ä¸æ”¹å˜è·¯å¾„çš„æƒ…å†µè¿™ç§æƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œä½†è¿˜æ˜¯ç”±äºæ•°æ®èŒƒå›´æ¯”è¾ƒå°ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«åœ°æš´åŠ›äº† æŠŠæ¯ä¸€ç§è·¯å¾„ä¸æ”¹å˜çš„æƒ…å†µï¼ˆç§°ä¸ºé˜¶æ®µï¼‰æ±‚å‡ºæ¥ å…ˆæšä¸¾ $i$ï¼Œè¡¨ç¤ºè¿™ä¸€é˜¶æ®µçš„å¼€å§‹æ—¶é—´ï¼ˆå³åˆ†å±‚å›¾ä¸Šçš„ç¬¬ $i$ å±‚ï¼‰ï¼Œ å†æšä¸¾ $j$ï¼Œè¡¨ç¤ºè¿™ä¸€é˜¶æ®µçš„ç»“æŸæ—¶é—´ï¼ˆå³åˆ†å±‚å›¾ä¸Šçš„ç¬¬ $j$ å±‚ï¼‰ï¼Œ æœŸé—´ï¼Œèƒ½ç”¨çš„ç‚¹ï¼Œåº”è¯¥åœ¨è¿™é˜¶æ®µå†…çš„æ¯ä¸€å¤©éƒ½å¯ä»¥é€šè¿‡ï¼Œ ä¹Ÿå°±æ˜¯åªèƒ½èµ°æ²¡æ ‡è®°è¿‡çš„ç‚¹ å¯¹äºæ¯ä¸ªé˜¶æ®µï¼Œä¹Ÿå¯ä»¥å¾ˆæ„‰å¿«åœ°è·‘æœ€çŸ­è·¯ è·‘å®Œæœ€çŸ­è·¯çš„ç»“æœå°±æ˜¯ä¸€æ¬¡ï¼ˆè·‘ä¸€å±‚ï¼‰çš„è´¹ç”¨ï¼Œå†ä¹˜ä¸Š å±‚æ•°ï¼Œåœ¨ç¬¬ $i$ å±‚çš„ $1$ å·ç‚¹å’Œç¬¬ $j$ å±‚çš„ $n$ å·ç‚¹ä¹‹é—´è¿è¾¹ï¼Œä¹Ÿå°±æ˜¯è¡¨ç¤ºå¯ä»¥ç›´æ¥ç•¥è¿‡ä¸­é—´éƒ¨åˆ† æœ€åå†æ•´ä½“è·‘ä¸ªå›¾å°±å¥½äº† æ€ä¹ˆå¯èƒ½æ²¡æœ‰å‘ å‘ç‚¹å°±æ˜¯ï¼Œä¸ºäº†é˜²æ­¢æˆ‘ä»¬è¿åœ¨ $1$ å·ç‚¹å’Œ $n$ å·ç‚¹çš„è¾¹æ›´æ–° $n$ å·ç‚¹æ‰€åœ¨å±‚çš„å…¶ä»–èŠ‚ç‚¹çš„ç­”æ¡ˆï¼ˆæ¯•ç«Ÿä½ ç•¥è¿‡äº†ä¸­é—´éƒ¨åˆ†å°±ä¸èƒ½å¾€å›èµ°äº†ï¼‰ï¼Œæ‰€ä»¥åœ¨å»ºå›¾çš„æ—¶å€™ï¼Œä¸ $n$ å·ç‚¹ç›¸è¿çš„è¾¹ç”±åŒå‘è¾¹æ”¹ä¸ºå•å‘è¾¹å³å¯ Code#include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define rgt register #define M 10407 #define Mn 107 #define N 23 using namespace std; struct Edge{ int to,cost,nxt; Edge(int a,int b):to(a),cost(b) {} Edge(){ } }b[M&lt;&lt;1]; struct node{ int p,t,cost; node(int a,int b,int c):p(a),t(b),cost(c){} node(){} inline bool operator&lt; (const node x) const{ return cost&gt;x.cost; } }; int head[N],hed[Mn];//åˆ†åˆ«å­˜ç‚¹å’Œæ—¶é—´ int n,m,t,T,K,D,d[N],s[N][Mn];//dæ•°ç»„æ˜¯ä¸€å±‚çš„æœ€çŸ­è·¯ï¼Œsæ˜¯åˆ†å±‚å›¾ä¸Šæœ€çŸ­è·¯ bool vis[N],usd[N],gg[N][Mn];//usdè®°å½•ä¸€ä¸ªé˜¶æ®µä¸èƒ½é€‰çš„ç‚¹æœ‰å“ªäº› inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void Add(int x,int y,int cost) { b[++t]=Edge(y,cost),b[t].nxt=head[x],head[x]=t; } inline void add(int x,int y,int cost) { b[++t]=Edge(y,cost),b[t].nxt=hed[x],hed[x]=t; } inline void Spfa() {//æ±‚ä¸€å±‚çš„æœ€çŸ­è·¯ int i,to,cur,cost; queue&lt;int&gt;p;p.push(1); memset(d,INF,sizeof(d)),d[1]=0,vis[1]=1; while(!p.empty()) { cur=p.front(),p.pop(),vis[cur]=0; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to; if(usd[to]) continue; cost=d[cur]+b[i].cost; if(d[to]&gt;cost) { d[to]=cost; if(!vis[to]) vis[to]=1, p.push(to); } } } } inline void Dijstra() {//æ±‚æ•´ä½“çš„æœ€çŸ­è·¯ int i,to,p,t,cost; bool vis[N][Mn]; priority_queue&lt;node&gt;Q;Q.push(node(1,1,0)); memset(s,INF,sizeof(s));s[1][1]=0; memset(vis,0,sizeof(vis)); while(!Q.empty()) { p=Q.top().p,t=Q.top().t,Q.pop(); if(vis[p][t]||t&gt;T) continue;vis[p][t]=1; for(i=head[p];i;i=b[i].nxt) { to=b[i].to;if(gg[to][t]) continue; cost=b[i].cost+s[p][t]; if(s[to][t]&gt;cost) { s[to][t]=cost; Q.push(node(to,t,cost)); } } if(p==1) {//ç‰¹åˆ«çš„æ“ä½œï¼Œå…¶å®å°±æ˜¯ä¸ºäº†å‡å°‘è¿è¾¹æ•°ï¼ˆæœ‰ä¿©ä¸ªå…³é”®å­—å¤ªçƒ¦äº† for(i=hed[t];i;i=b[i].nxt) { to=b[i].to,cost=b[i].cost+s[p][t]; if(s[n][to]&gt;cost) { s[n][to]=cost; Q.push(node(n,to,cost)); } } } else if(p==n) {//è¿™ç§æƒ…å†µç›´æ¥ç‰¹åˆ¤ï¼Œä¸ç”¨è¿è¾¹ï¼ˆå› ä¸ºå¤ªçƒ¦äº† if(s[1][t+1]&gt;s[n][t]+K) { s[1][t+1]=s[n][t]+K; Q.push(node(1,t+1,s[1][t+1])); } } } } int main() { int i,j,k,l,r,x,y,cost; T=read(),n=read(),K=read(),m=read(); for(i=1;i&lt;=m;i++) { x=read(),y=read(),cost=read(); if(x==n) swap(x,y);//å»ºå›¾çš„æ—¶å€™nç‚¹è¿çš„æ˜¯å•å‘è¾¹ if(y!=n) Add(y,x,cost); Add(x,y,cost); } D=read(); while(D--) { x=read(),l=read(),r=read(); for(i=l;i&lt;=r;i++) gg[x][i]=1;//ggå°±æ˜¯ä¸èƒ½ç”¨ } for(i=1;i&lt;T;i++) {//æšä¸¾i for(k=1;k&lt;=n;k++) usd[k]=gg[k][i];// for(j=i+1;j&lt;=T;j++) { for(k=1;k&lt;=n;k++) usd[k]|=gg[k][j]; Spfa();if(d[n]!=INF) add(i,j,d[n]*(j-i+1));//å¦‚æœä¸è¿é€šï¼Œå°±ä¸èƒ½è¿ï¼Œå¦åˆ™å°±ä¼šå˜¿å˜¿å˜¿ } }Dijstra(); printf(&quot;%d&quot;,s[n][T]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"http://hovnySiLenCe.github.io/tags/æœ€çŸ­è·¯/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3365ã€æ”¹é€ äºŒå‰æ ‘ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3365-TransformationBinaryTree-Solution","date":"2019-05-12T12:26:07.000Z","updated":"2019-12-01T07:28:29.305Z","comments":true,"path":"2019/05/12/Luogu_P3365-TransformationBinaryTree-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/05/12/Luogu_P3365-TransformationBinaryTree-Solution/","excerpt":"","text":"é¢˜é¢å‰è¨€åœ¨æ‰“æ¨¡æ‹Ÿèµ›çš„æ—¶å€™å¥½åƒ$sha$äº†ä¸€æ ·æƒ³ä¸å‡ºæ¥ï¼Œï¼ˆè‚¯å®šæ˜¯æˆ‘å¤ªèœäº† è§£é¢˜æ€è·¯é¢˜ç›®ä¸­æè¿°çš„æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œä½†æ˜¯å®é™…ä¸Šé¢˜ç›®ä¸è¦æ±‚æ”¹å˜æ ‘çš„å½¢æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æŠŠæ ‘å½¢ç»“æ„è½¬åŒ–ä¸ºçº¿æ€§ç»“æ„ï¼Œè¿™åº”è¯¥æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å°$tip$å§ è½¬åŒ–ä¸ºçº¿æ€§çš„æ•°ç»„ä¹‹åï¼Œå°±å˜æˆäº†è¿™æ ·çš„é—®é¢˜ï¼š æ±‚ ä½¿æ•°ç»„ ä¸¥æ ¼ä¸Šå‡ æœ€å°‘ è¦æ”¹å˜çš„å…ƒç´ ä¸ªæ•° ä¸€å¼€å§‹æƒ³ä¸å‡ºæ¥ï¼Œé‚£å°±å¯ä»¥å…ˆæ‰“æ‰“æš´åŠ›æ‰¾çµæ„Ÿ for(i=1;i&lt;=n;++i) {//DPï¼Œfæ•°ç»„è¡¨ç¤ºåœ¨ä¿ç•™iè¿™ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œ for(j=i-1;j&gt;=0;--j)//æœ€å¤šå¯ä»¥ä¿ç•™å¤šå°‘å…ƒç´  if(b[i]-b[j]&gt;=i-j) f[i]=max(f[i],f[j]+1); ans=max(f[i],ans); } å…¶å®è¿˜æ˜¯æœ‰ç‚¹åƒ$LIS$çš„æ„Ÿè§‰çš„ é‚£ä»å“ªé‡Œå…¥æ‰‹å‘¢ï¼Ÿ $b[i]-b[j]&gt;=i-j$ å¥½åƒè¿™ä¸ªå¼å­å¯ä»¥ç§»é¡¹å•Š ç„¶åå°±å˜æˆ $b[i]-i&gt;=b[j]-j$ï¼ï¼ è¿™ä¸‹çœŸçš„å¯ä»¥ç”¨æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é‚£å¥—ä¸œè¥¿äº† å°†$O(n^2)$ä¼˜åŒ–æˆ$O(nlogn)$ å°±æ˜¯è¿™ä¹ˆä¼˜ç§€ CodeçŒ®ä¸ŠæçŸ­ä¸‘é™‹çš„ä»£ç  #include&lt;bits/stdc++.h&gt; #define getchar() *(p++) #define INF 0x7f7f7f7f #define rgt register #define N 100007//æœ‰å·¨ä½¬è¯´è¿™é‡Œå¼€å¥‡æ•°çš„æ•°ç»„èƒ½å¿«ä¸€ç‚¹ using namespace std; int son[N][2],n,t,a[N],b[N]; char bf[1&lt;&lt;23],*p; inline int read() {//å¿«è¯»ä¸ç®¡ rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void built(rgt int x) { if(son[x][0]) built(son[x][0]);a[++t]=b[x]; if(son[x][1]) built(son[x][1]); } int main() { int i; bf[fread(bf,1,1&lt;&lt;23,stdin)]=&#39;\\0&#39;,p=bf;//å¿«è¯»ä¸€éƒ¨åˆ†ä¸ç®¡ n=read(); for(i=1;i&lt;=n;i++) b[i]=read();//è¯»å…¥æ¯ä¸ªåŸå®¿ for(i=2;i&lt;=n;i++) son[read()][read()]=i;//å·æ‡’è¯»å…¥è¾¹ built(1),b[t=0]=-INF;//å› ä¸ºb[i]-iä¹‹åå¯èƒ½ä¸ºè´Ÿæ•°ï¼Œä¿é™©å°±èµ‹ä¸€ä¸ªæå°å€¼ for(i=1;i&lt;=n;++i) { a[i]-=i;//å¤„ç†ä¸€ä¸‹ if(b[t]&lt;=a[i]) b[++t]=a[i];//æœ€é•¿ä¸ä¸‹é™å­åºåˆ—æ¿å­ else *upper_bound(b+1,b+t+1,a[i])=a[i];//ç›´æ¥æŒ‡é’ˆ } printf(&quot;%d&quot;,n-t); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO18OPENã€ Disruption è§£é¢˜æŠ¥å‘Š","slug":"USACO18OPEN-Disruption-Solution","date":"2019-04-21T10:49:39.000Z","updated":"2019-12-01T07:28:06.740Z","comments":true,"path":"2019/04/21/USACO18OPEN-Disruption-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/04/21/USACO18OPEN-Disruption-Solution/","excerpt":"","text":"é¢˜ç›®æè¿°é¢˜ç›®æè¿°$Farmer\\ John$è‡ªè±ªäºä»–æ‰€ç»è¥çš„äº¤é€šå‘è¾¾çš„çš„å†œåœºã€‚è¿™ä¸ªå†œåœºæ˜¯ç”±$N$å—ç‰§åœºï¼ˆ$2 \\leq N \\leq 50,000$ï¼‰ç»„æˆçš„ï¼Œ$N-1$æ¡åŒå‘é“è·¯å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œæ¯ä¸€æ¡é“è·¯çš„éƒ½ä¸ºä¸€å•ä½é•¿åº¦ã€‚$Farmer\\ John$æ³¨æ„åˆ°ï¼Œä»ä»»ä½•ä¸€å—ç‰§åœºåˆ°å¦ä¸€å—ç‰§åœºï¼Œéƒ½èƒ½é€šè¿‡ä¸€ç»„åˆé€‚çš„é“è·¯åˆ°è¾¾ã€‚ å°½ç®¡$FJ$çš„å†œåœºç°åœ¨æ˜¯è¿é€šçš„ï¼Œä»–æ‹…å¿ƒå¦‚æœæœ‰ä¸€æ¡é“è·¯è¢«é˜»æ–­ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå› ä¸ºè¿™äº‹å®ä¸Šä¼šå°†ä»–çš„å†œåœºåˆ†ä¸ºä¸¤ä¸ªä¸ç›¸äº¤çš„ç‰§åœºé›†åˆï¼Œå¥¶ç‰›ä»¬åªèƒ½å¤Ÿåœ¨æ¯ä¸€ä¸ªé›†åˆå†…ç§»åŠ¨ä½†ä¸èƒ½åœ¨é›†åˆé—´ç§»åŠ¨ã€‚äºæ˜¯$FJ$åˆå»ºé€ äº†$M$æ¡é¢å¤–çš„åŒå‘é“è·¯ï¼ˆ$1 \\leq M \\leq 50,000$ï¼‰ï¼Œæ¯ä¸€æ¡çš„é•¿åº¦éƒ½æ˜¯ä¸€ä¸ªè‡³å¤šä¸º$10^9$çš„æ­£æ•´æ•°ã€‚å¥¶ç‰›ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨åŸæœ‰çš„é“è·¯è¿›è¡Œç§»åŠ¨ï¼Œé™¤éå…¶ä¸­çš„æŸäº›è¢«é˜»æ–­äº†ã€‚ å¦‚æœæŸæ¡åŸæœ‰çš„é“è·¯è¢«é˜»æ–­äº†ï¼Œå†œåœºå°±ä¼šè¢«åˆ†ä¸ºä¸¤å—ä¸ç›¸äº¤çš„åŒºåŸŸï¼Œé‚£ä¹ˆ$FJ$å°±ä¼šä»ä»–çš„é¢å¤–ä¿®å»ºçš„é“è·¯ä¸­é€‰æ‹©ä¸€æ¡èƒ½å¤Ÿé‡å»ºè¿™ä¸¤å—åŒºåŸŸçš„è¿é€šæ€§çš„ï¼Œå–ä»£åŸæ¥é‚£æ¡ï¼Œä»è€Œå¥¶ç‰›ä»¬åˆå¯ä»¥ä»ä»»ä½•ä¸€å—ç‰§åœºå»å¾€å¦ä¸€å—ç‰§åœºã€‚ å¯¹äºå†œåœºä¸Šæ¯ä¸€æ¡åŸæœ‰çš„é“è·¯ï¼Œå¸®åŠ©$FJ$é€‰å‡ºæœ€çŸ­çš„æ›¿ä»£ç”¨çš„é“è·¯ã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šè¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«$N$å’Œ$M$ã€‚æ¥ä¸‹æ¥çš„$N-1$è¡Œï¼Œæ¯è¡Œç”¨æ•´æ•°$p$å’Œ$q$æè¿°äº†ä¸€æ¡åŸæœ‰çš„é“è·¯ï¼Œå…¶ä¸­$p \\ne q$æ˜¯è¿™æ¡é“è·¯è¿æ¥çš„ä¸¤å—ç‰§åœºï¼ˆåœ¨$1 \\ldots N$èŒƒå›´å†…ï¼‰ã€‚å‰©ä¸‹çš„$M$è¡Œï¼Œæ¯è¡Œç”¨ä¸‰ä¸ªæ•´æ•°$p$ã€$q$å’Œ$r$æè¿°äº†ä¸€æ¡é¢å¤–çš„é“è·¯ï¼Œå…¶ä¸­$r$æ˜¯è¿™æ¡é“è·¯çš„é•¿åº¦ã€‚ä»»ä½•ä¸¤å—ç‰§åœºä¹‹é—´è‡³å¤šåªæœ‰ä¸€æ¡é“è·¯ã€‚ è¾“å‡ºæ ¼å¼ï¼šå¯¹åŸæœ‰çš„$Nâˆ’1$æ¡é“è·¯çš„æ¯ä¸€æ¡ï¼ŒæŒ‰ç…§å®ƒä»¬åœ¨è¾“å…¥ä¸­å‡ºç°çš„é¡ºåºï¼Œè¾“å‡ºå¦‚æœè¿™æ¡é“è·¯è¢«é˜»æ–­çš„è¯ï¼Œèƒ½å¤Ÿé‡æ–°è¿æ¥å†œåœºçš„æœ€çŸ­çš„æ›¿ä»£ç”¨é“è·¯çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨åˆé€‚çš„æ›¿ä»£ç”¨çš„é“è·¯ï¼Œè¾“å‡º$-1$ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š6 3 1 2 1 3 4 1 4 5 6 5 2 3 7 3 6 8 6 4 5 è¾“å‡ºæ ·ä¾‹#1ï¼š7 7 8 5 5 è§£é¢˜æ€è·¯æ ‘é“¾å‰–åˆ† ç»è¿‡æ¯”è¾ƒä»”ç»†çš„åˆ†æï¼Œè¿˜æ˜¯å¯ä»¥å¾—å‡ºä¸€æ¡å˜åˆ æ‰ä¹‹åï¼ŒåŠ å…¥çš„é‚£æ¡è¾¹å¿…èƒ½ä½¿æ ‘é‡æ–°è”é€šï¼Œé‚£ä¹ˆåŠ å…¥çš„è¿™æ¡è¾¹çš„ä¸¤ç«¯ç‚¹ï¼Œåœ¨åŸæ ‘ä¸Šçš„è·¯å¾„å¿…ç»è¿‡é‚£æ¡åˆ æ‰çš„è¾¹ï¼Œ$RT \\downarrow$ Code#include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define rgt register #define N 50010 using namespace std; struct node{ int to,nxt; }b[N&lt;&lt;1]; int head[N],seg[N],top[N],f[N&lt;&lt;2]; int deep[N],Sz[N],son[N],fa[N]; int n,m,t,x,y,num,L,R,res,ans; inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(rgt int x,rgt int y) { b[++t].to=y,b[t].nxt=head[x],head[x]=t; b[++t].to=x,b[t].nxt=head[y],head[y]=t; } inline void dfs1(rgt int k) { rgt int i,to; deep[k]=deep[fa[k]]+1,Sz[k]=1; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(to==fa[k]) continue; fa[to]=k,dfs1(to); Sz[k]+=Sz[to]; if(Sz[to]&gt;Sz[son[k]]) son[k]=to; } } inline void dfs2(rgt int k) { if(son[k]) { seg[son[k]]=++num; top[son[k]]=top[k]; dfs2(son[k]); } rgt int i,to; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(top[to]) continue; seg[to]=++num; top[to]=to; dfs2(to); } } inline void push(rgt int k) {//å…¶å®ä¸€ä¸ªæ•°ç»„å°±å¤Ÿäº†ï¼Œå°±æ˜¯ç‰¹åˆ¤æœ‰ç‚¹å¤æ‚ int cur=k&lt;&lt;1; f[cur]=min(f[cur],f[k]); f[cur|1]=min(f[cur|1],f[k]); f[k]=INF;//ä¸‹ä¼ ååˆå€¼è¦å˜æˆINF } inline void Modify(rgt int k,rgt int l,rgt int r) { if(f[k]!=INF&amp;&amp;l!=r) push(k); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { f[k]=min(f[k],res); if(l!=r) push(k); return; } rgt int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Modify(cur,l,mid); Modify(cur|1,mid+1,r); } #define fx top[x] #define fy top[y] inline void Add(int x,int y) { while(fx!=fy) { if(deep[fx]&lt;deep[fy]) swap(x,y); L=seg[fx],R=seg[x]; Modify(1,1,n); x=fa[fx]; } if(deep[x]&lt;deep[y]) swap(x,y); L=seg[y]+1,R=seg[x]; Modify(1,1,n); return; } inline void Query(rgt int k,rgt int l,rgt int r) { if(f[k]!=INF&amp;&amp;l!=r) push(k); if(l==r&amp;&amp;l==L) {ans=f[k];return;} rgt int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; if(L&lt;=mid) Query(cur,l,mid); else Query(cur|1,mid+1,r); } int main() { int i; n=read(),m=read(); for(i=1;i&lt;n;i++) x=read(),y=read(),add(x,y); num=seg[1]=top[1]=1; dfs1(1),dfs2(1); memset(f,INF,sizeof(f));//æ³¨æ„ä¸€å¼€å§‹çš„åˆå§‹åŒ– for(i=1;i&lt;=m;i++) { x=read(),y=read(),res=read(); Add(x,y); } for(i=1;i&lt;t;i+=2) { x=b[i+1].to,y=b[i].to; if(deep[x]&gt;deep[y]) L=seg[x]; else L=seg[y]; Query(1,1,n); if(ans!=INF) printf(&quot;%d\\n&quot;,ans); else printf(&quot;-1\\n&quot;); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3306ã€[SDOI2013]éšæœºæ•°ç”Ÿæˆå™¨ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3306-[SDOI2013]RandomMachine-Solution","date":"2019-04-21T06:45:12.000Z","updated":"2019-12-01T07:28:29.804Z","comments":true,"path":"2019/04/21/Luogu_P3306-[SDOI2013]RandomMachine-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/04/21/Luogu_P3306-[SDOI2013]RandomMachine-Solution/","excerpt":"","text":"é¢˜ç›®æè¿°å°$W$å–œæ¬¢è¯»ä¹¦ï¼Œå°¤å…¶å–œæ¬¢è¯»ã€Šçº¦ç¿°å…‹é‡Œæ–¯æœµå¤«ã€‹ã€‚æœ€è¿‘å°Wå‡†å¤‡è¯»ä¸€æœ¬æ–°ä¹¦ï¼Œè¿™æœ¬ä¹¦ä¸€å…±æœ‰$P$é¡µï¼Œé¡µç èŒƒå›´ä¸º$0 \\cdots P-1$ã€‚ å°$W$å¾ˆå¿™ï¼Œæ‰€ä»¥æ¯å¤©åªèƒ½è¯»ä¸€é¡µä¹¦ã€‚ä¸ºäº†ä½¿äº‹æƒ…æœ‰è¶£ä¸€äº›ï¼Œä»–æ‰“ç®—ä½¿ç”¨NOI2012ä¸Šå­¦ä¹ çš„çº¿æ€§åŒä½™æ³•ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œæ¥å†³å®šæ¯å¤©å…·ä½“è¯»å“ªä¸€é¡µã€‚ æˆ‘ä»¬ç”¨$Xi$æ¥è¡¨ç¤ºé€šè¿‡è¿™ç§æ–¹æ³•ç”Ÿæˆå‡ºæ¥çš„ç¬¬$i$ä¸ªæ•°ï¼Œä¹Ÿå³å°$W$ç¬¬$i$å¤©ä¼šè¯»å“ªä¸€é¡µã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦è®¾ç½®$3$ä¸ªå‚æ•°$a,b,X1$ï¼Œæ»¡è¶³$0\\leq a,b,X1\\leq p-1$ï¼Œä¸”$a,b,X1$éƒ½æ˜¯æ•´æ•°ã€‚æŒ‰ç…§ä¸‹é¢çš„å…¬å¼ç”Ÿæˆå‡ºæ¥ä¸€ç³»åˆ—çš„æ•´æ•°ï¼š$X_{i+1} \\equiv aX_i+b \\pmod p$å…¶ä¸­$mod$è¡¨ç¤ºå–ä½™æ“ä½œã€‚ ä½†æ˜¯è¿™ç§æ–¹æ³•å¯èƒ½å¯¼è‡´æŸä¸¤å¤©è¯»çš„é¡µç ä¸€æ ·ã€‚ å°Wè¦è¯»è¿™æœ¬ä¹¦çš„ç¬¬$t$é¡µï¼Œæ‰€ä»¥ä»–æƒ³çŸ¥é“æœ€æ—©åœ¨å“ªä¸€å¤©èƒ½è¯»åˆ°ç¬¬$T$é¡µï¼Œæˆ–è€…æŒ‡å‡ºä»–æ°¸è¿œä¸ä¼šè¯»åˆ°ç¬¬$t$é¡µã€‚ è¾“å…¥è¾“å‡ºæ ¼å¼è¾“å…¥æ ¼å¼ï¼šè¾“å…¥å«æœ‰å¤šç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°$T$ï¼Œè¡¨ç¤ºè¿™ä¸ªæµ‹è¯•ç‚¹å†…çš„æ•°æ®ç»„æ•°ã€‚ æ¥ä¸‹æ¥$T$è¡Œï¼Œæ¯è¡Œæœ‰äº”ä¸ªæ•´æ•°$p$ï¼Œ$a$ï¼Œ$b$ï¼Œ$X1$ï¼Œ$t$ï¼Œè¡¨ç¤ºä¸€ç»„æ•°æ®ã€‚ä¿è¯$X1$å’Œ$t$éƒ½æ˜¯åˆæ³•çš„é¡µç ã€‚ æ³¨æ„ï¼š$P$ä¸€å®šä¸ºè´¨æ•° è¾“å‡ºæ ¼å¼ï¼šå…±$T$è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºä»–æœ€æ—©è¯»åˆ°ç¬¬$t$é¡µæ˜¯å“ªä¸€å¤©ã€‚å¦‚æœä»–æ°¸è¿œä¸ä¼šè¯»åˆ°ç¬¬$t$é¡µï¼Œè¾“å‡º$-1$ã€‚ è¾“å…¥è¾“å‡ºæ ·ä¾‹è¾“å…¥æ ·ä¾‹#1ï¼š37 1 1 3 37 2 2 2 07 2 2 2 1è¾“å‡ºæ ·ä¾‹#1ï¼š13-1 è¯´æ˜$0â‰¤aâ‰¤Pâˆ’1,0â‰¤bâ‰¤Pâˆ’1,2â‰¤Pâ‰¤10^9$ å‰è¨€è‡´æ•¬è‡ªå·±çš„$16$æ¬¡æäº¤ï¼Œæ¼æ´ç™¾å‡º è§£é¢˜æ€è·¯è¿™ç§é¢˜ç›®ï¼Œå½“ç„¶å°±æ˜¯æ‰¾è§„å¾‹å¥—è·¯é¢˜å•Š æœ‰ç»éªŒå°±ä¼šçŸ¥é“è¿™æ˜¯ä¸€é“BSGSçš„é¢˜ æ‰¾BSGSæ‰¾åˆ°çš„ä¸æ˜¯BSGSæ˜¯ä»€ä¹ˆ æœ€å¤æ‚çš„å°±æ˜¯é¢“æ¨å…¬å¼äº† å…ˆéšä¾¿ä»$x_1$å¼€å§‹å†™å‡ ç»„ $x_1=x_1$ é¢˜ç›®å·²ç»ç»™å‡ºäº† $x_2=ax_1+b$ $x_3=a^2x_1+ab+b$ $x_4=a^3x_1+a^2b+ab+b$ å¥½åƒå°±å¯ä»¥å¾—å‡ºç»“è®ºäº† x_i=a^{i-1}x_1+a^{i-1}b+a^{i-2}b+â€¦+bå¯¹äºåé¢è¿™ä¸€ä¸²ä¸œä¸œï¼Œå¦‚æœä¸Šè¿‡å°å­¦å­¦è¿‡ç­‰æ¯”æ•°åˆ—æ±‚å’Œå…¬å¼çš„å·¨è›¤éƒ½çŸ¥é“ x_i=a^{i-1}x_1+\\frac{b(1-a^{i-1})} {1-a}é‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥å¼€å§‹ç‹‚é¢“å…¬å¼äº† 1ã€æ¢å…ƒï¼ˆè¿™ç»å¯¹ä¸æ˜¯é«˜ä¸­æ•°å­¦è¯¾ x_i \\equiv t(mod\\ p)ç„¶åæŠŠä¸Šé¢é‚£ä¸ªä»£å…¥ a^{i-1}x_1+\\frac {b(1-a^{i-1})} {1-a} \\equiv tç–¯ç‹‚æä¸€æï¼ŒæŠŠ$a^{i-1}$æå‡ºæ¥ ï¼ˆ1-aï¼‰Â·a^{i-1}x_1+{b(1-a^{i-1})} \\equiv t-tÂ·a (x_1-x_1Â·a)Â·a^{i-1}+b-bÂ·a^{i-1} \\equiv t-tÂ·a (x_1-x_1Â·a-b)Â·a^{i-1}\\equiv t-tÂ·a-b a^{i-1}\\equiv \\frac {t-tÂ·a-b} {x_1-x_1Â·a-b}è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§æ™®é€šçš„$BSGS$æ±‚ï¼ŒæŠŠç»“æœ$+1$å³å¯ ç„¶åå°±å¾ˆOKäº† ç„¶é¹…å¹¶æ²¡å®Œï¼Œï¼ˆä¸è¦é—®ä¸ºä»€ä¹ˆï¼Œå¦åˆ™æˆ‘ä¹Ÿä¸ä¼šæäº¤16æ¬¡äº† è€ƒè™‘å‡ ç§ç‰¹æ®Šæƒ…å†µï¼š $1ã€x_1=t$ ç¬¬ä¸€å¤©å°±å¯ä»¥è¯»åˆ°ï¼Œè¾“å‡º1ï¼Œå…¶å®ä¹Ÿæ²¡æ˜¯ä»€ä¹ˆå½±å“ï¼Œå› ä¸ºç»“æœè¿˜æ˜¯ä¸€æ ·çš„ $2ã€a=1$ è¿™å°±å˜æˆäº†$x_1+kÂ·b \\equiv t(mod\\ p)$ï¼Œè´¹é©¬å°å®šç†æ±‚ä¸€ä¸‹å°±å¥½äº†ï¼Œæ³¨æ„æ— è§£çš„æƒ…å†µâ€”â€”ä¹Ÿå°±æ˜¯$b=0$ $3ã€a=0$ å‚»å­éƒ½çŸ¥é“å’Œ$x_1$æ— å…³äº†ï¼Œè¿™æ—¶åªè¦åˆ¤æ–­ä¸€ä¸‹$b==t$ï¼Œåˆ™ç¬¬äºŒå¤©å°±èƒ½è¯»åˆ°$t$ï¼Œå¦åˆ™è¯»ä¸€è¾ˆå­éƒ½è¯»ä¸å®Œï¼ˆé‚£å°±åˆ«è¯»äº† Codeï¼š#include&lt;bits/stdc++.h&gt;//è¿™é‡ŒåŸé¢˜ä¸­çš„tç”¨rè¡¨ç¤º #define rgt register #define ll long long #define N 100007 using namespace std; int head[N],nxt[N],val[N],num[N];//ç”¨hashè¡¨å­˜ä¼šå¿«ä¸€ç‚¹ï¼Œè™½ç„¶å¯ä»¥ç”¨unordered_map int T,t,ans; ll a,b,r,p,x,Mol,Den,res;//Molæ˜¯åˆ†å­ï¼ŒDenæ˜¯åˆ†æ¯ï¼Œï¼ˆé¬¼ç•œçš„å˜é‡å inline int read() { rgt int s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void Insert(rgt int x,rgt int y) {//æ’å…¥ï¼Œé“¾å¼å‰å‘æ˜Ÿ nxt[++t]=head[x%N],head[x%N]=t; val[t]=x,num[t]=y; } inline int Search(rgt int x) {//æŸ¥è¯¢ï¼Œç†è®ºä¸Šæ˜¯æŒºå¿«çš„ for(rgt int i=head[x%N];i;i=nxt[i]) if(val[i]==x) return num[i]; return -1; } inline ll Pow(rgt ll a,rgt int b) {//å¿«é€Ÿå¹‚ rgt ll res=1; while(b) { if(b&amp;1) res=res*a%p; a=a*a%p,b&gt;&gt;=1; } return res; } inline void Init() {//åˆå§‹åŒ– memset(head,0,sizeof(head)),t=0;//tç”¨äºé“¾å¼å‰å‘æ˜Ÿï¼ŒåŸæ¥çš„tä»£ç ä¸­ç”¨rè¡¨ç¤º Mol=((r-r*a-b)%p+p)%p,Den=Pow(((x-a*x-b)%p+p)%p,p-2);//æ±‚å‡ºå³è¾¹é‚£ä¸€å¤§ä¸²ä¸œä¸œ b=Mol*Den%p;//ç°åœ¨å°±å˜æˆäº†a^xâ‰¡b(mod p) } inline int BSGS() { Init(); if(b==1) return 0;//æœ‰è¿™ä¸ªä¸‹æ–‡x==rçš„ç‰¹åˆ¤å°±å¯ä»¥çœå» rgt int i,j,t; t=sqrt(p)+1,res=b; for(i=0;i&lt;t;i++) Insert(res,i),res=res*a%p; a=Pow(a,t),res=1; if(!a) return (!b)?1:-1; for(i=0;i&lt;=t;i++) { j=Search(res); if(j&gt;=0&amp;&amp;i*t-j&gt;=0) return i*t-j; res=res*a%p; } return -1; } int main() { T=read(); while(T--) { p=read(),a=read(),b=read(),x=read(),r=read(); if(x==r) {printf(&quot;1\\n&quot;);continue;} if(a==1) { if(!b) printf(&quot;-1\\n&quot;); else { r=((r-x)%p+p)%p; printf(&quot;%lld\\n&quot;,r*Pow(b,p-2)%p+1); } continue; } if(!a) { if(b==r) printf(&quot;2\\n&quot;); else printf(&quot;-1\\n&quot;); continue; } ans=BSGS(); if(~ans) printf(&quot;%d\\n&quot;,ans+1);//ç­”æ¡ˆè®°å¾—+1 else printf(&quot;-1\\n&quot;); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"BSGS","slug":"BSGS","permalink":"http://hovnySiLenCe.github.io/tags/BSGS/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2486ã€[SDOI2011]æŸ“è‰² è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2486-[SDOI2011]Dye-Solution","date":"2019-04-02T14:21:33.000Z","updated":"2019-12-01T07:28:33.603Z","comments":true,"path":"2019/04/02/Luogu_P2486-[SDOI2011]Dye-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/04/02/Luogu_P2486-[SDOI2011]Dye-Solution/","excerpt":"","text":"å‰è¨€è¿™æ˜¯å±¯äº†ä¸€é“å¾ˆä¹…çš„é¢˜ç›®ï¼Œæ˜¨å¤©åšå®Œä»Šå¤©è¡¥ä¸€ä¸‹é¢˜è§£ï¼Œå…¶å®ä¹Ÿå¹¶ä¸æ˜¯å¾ˆéš¾ï¼Œåªè¦æƒ³æ¸…æ¥šä¸€äº›ç»†èŠ‚å°±å¥½äº† é¢˜é¢æ ‘ä¸ŠåŒºé—´è¦†ç›–ï¼ŒåŒºé—´æŸ¥è¯¢é¢œè‰²æ®µæ•° è§£é¢˜æ€è·¯ç”±æ˜“åˆ°éš¾æ˜¯æˆ‘ä»¬æ•°å­¦è€å¸ˆç»å¸¸è¯´çš„ä¸€å¥è¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¹Ÿæ¥ä¹±æåº”ç”¨ä¸€ä¸‹ 0ã€é¢„å¤‡é¦–å…ˆï¼Œè¿™å½“ç„¶æ˜¯ä¸€é“æ ‘å‰–çš„é¢˜ï¼Œç„¶ååŠ ä¸€ä¸ªçº¿æ®µæ ‘ç»´æŠ¤åŒºé—´é¢œè‰²æ®µæ•°ï¼Œè€ƒè™‘åˆ°åˆå¹¶æ—¶å€™æœ€å¤šå°±æ˜¯ä¸­é—´ä¼šå°‘å»ä¸€æ®µ $1\\ 3\\ 4$ å’Œ $4\\ 2 \\ 1$åˆå¹¶æ—¶ï¼Œä¸­é—´çš„$4$ä¼šå¤šç®—ä¸€éï¼Œæ‰€ä»¥è¦å‡å» ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•ä¸‰ä¸ªå€¼ $l$å’Œ$r$æ˜¯å½“å‰åŒºé—´çš„å·¦å³ç«¯ç‚¹ï¼Œç”¨$k$è¡¨ç¤ºå½“å‰åŒºé—´çš„ç¼–å· $f[k]\\ =\\ l$åˆ°$r$è¿™æ®µåŒºé—´ä¸­é¢œè‰²æ®µæ•° $fl[k]\\ =\\ $æœ€å·¦è¾¹èŠ‚ç‚¹çš„é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯$l$çš„é¢œè‰² $fr[k]\\ =\\ $æœ€å³è¾¹èŠ‚ç‚¹çš„é¢œè‰²ï¼Œå³$r$çš„é¢œè‰² äºæ˜¯$built$å°±å¯ä»¥è¿™æ ·å†™ï¼š inline void Upd(register int k,register int cur) { f[k]=f[cur]+f[cur|1]-(fr[cur]==fl[cur|1]); fl[k]=fl[cur],fr[k]=fr[cur|1]; } void built(register int k,register int l,register int r) { if(l&gt;r) return; if(l==r) {fl[k]=fr[k]=a[rev[l]];f[k]=1;return;}//ä¸è¦å¿˜è®°revæ•°ç»„ register int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; built(cur,l,mid); built(cur|1,mid+1,r); Upd(k,cur); } 1ã€å¯¹äºä¸åœ¨æ ‘ä¸Šçš„ä¿®æ”¹&amp;æŸ¥è¯¢ä¿®æ”¹åŒºé—´è¦†ç›–ï¼Œè‚¯å®šæ˜¯ç›´æ¥è¦†ç›–ä¸ç”¨è¯´çš„ï¼ŒåŒºé—´ä¿®æ”¹æ³¨æ„æ‰“æ ‡è®°çš„æ–¹å¼ï¼Œç„¶åå†å’Œ$built$çš„æ—¶å€™ä¸€æ ·$Upd$ä¸€ä¸‹å°±å¥½äº†ï¼Œæ„Ÿæ€§ç†è§£è¿™æ ·æ˜¯å¯¹çš„ å¯¹äºæŸ¥è¯¢ï¼Œçº¿æ®µæ ‘çš„æŸ¥è¯¢æ–¹å¼æ˜¯å°†$[L,R]$è¿™ä¸ªåŒºé—´åˆ†æˆ$Log$å—ï¼Œç„¶åä¾æ¬¡æŸ¥è¯¢$[L,R]$çš„æ¯ä¸€å—ï¼Œå¾ˆæ˜æ˜¾ï¼ŒæŸ¥è¯¢çš„é¡ºåºæ˜¯ä»å·¦åˆ°å³çš„ï¼Œé‚£ä¹ˆå’Œ$built$çš„æ—¶å€™ä¸€æ ·ï¼Œ$Upd$æŠŠå·¦å³èŠ‚ç‚¹ç›¸åŒé¢œè‰²çš„æƒ…å†µå‡æ‰å³å¯ $Las\\ =\\ $ä¸Šä¸€æ¬¡æŸ¥è¯¢çš„å— æœ€å³èŠ‚ç‚¹çš„é¢œè‰²ï¼ˆ$Las$çš„åˆå§‹å€¼ä¸ºä¸€ä¸ªä¸å¯èƒ½åœ¨åºåˆ—ä¸­å‡ºç°çš„æ•°ï¼Œæ¯”å¦‚$0$ï¼‰ ç„¶åå°±å¯ä»¥è¿™æ ·å†™æŸ¥è¯¢ï¼š void Query(register int k,register int l,register int r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { if(Las==fl[k]) --ans; ans+=f[k];Las=fr[k]; if(l==L) Lres=fl[k]; if(r==R) Rres=fr[k]; return; } register int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Query(cur,l,mid); Query(cur|1,mid+1,r); } 2ã€å¯¹äºåœ¨æ ‘ä¸Šçš„ä¿®æ”¹è™½ç„¶ä¼šåˆ†æˆå¾ˆå¤šé“¾ï¼Œä½†å®é™…ä¸Šäººçš„æœ¬è´¨æ˜¯ä¸å˜çš„ï¼Œåªè¦å¯¹äºæ¯æ¡é‡é“¾$Modify$ä¸€ä¸‹å°±å¥½äº† 3ã€å¯¹äºåœ¨æ ‘ä¸Šçš„æŸ¥è¯¢ç°åœ¨ä¸ä»…æ˜¯å—äº†ï¼Œè¿˜æœ‰å¾ˆå¤šæ¡é“¾ç›¸è¿ï¼Œæ‰€ä»¥è¿˜è¦è€ƒè™‘é“¾çš„å½±å“ï¼Œä½†å…¶å®é“¾çš„æœ¬è´¨å’Œä¸Šæ–‡æ‰€è¿°å—æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿåªè¦è®°å½•ä¸€ä¸‹ç›¸é‚»çš„ä¸¤ä¸ªç‚¹å°±å¥½äº†ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ç›´æ¥å…¨éƒ¨è®°å½•åœ¨æ•°ç»„é‡Œï¼Œæœ€åå†ä¸€èµ·éå†äº†ï¼Œä¸è¦è¿™ç§å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¼€å‡ ä¸ªå˜é‡ç„¶ååœ¨è¿‡ç¨‹ä¸­åˆ¤æ–­å°±å¥½äº† é™„ä¸Šè¶…å¤šçš„ä»£ç ï¼š #define fx top[x] #define fy top[y] inline void Uni() { register int i; for(i=2;i&lt;p[0][0];i+=2) ans-=(p[i][0]==p[i+1][0]); for(i=2;i&lt;p[0][1];i+=2) ans-=(p[i][1]==p[i+1][1]); if(p[p[0][0]][0]==p[p[0][1]][1]) --ans; printf(&quot;%d\\n&quot;,ans); } inline void Ask() { p[0][0]=p[0][1]=ans=0;//è¡¨ç¤ºçš„æ˜¯å…¬å…±ç¥–å…ˆå·¦è¾¹è¿™æ¡é“¾å’Œå³è¾¹è¿™æ¡é“¾çš„é”®å€¼ä¸ªæ•° register int l=0;//è¡¨ç¤ºå½“å‰çš„xæ˜¯åœ¨å…¬å…±ç¥–å…ˆçš„å“ªä¸€è¾¹ï¼Œåˆå§‹çš„æ—¶å€™é»˜è®¤xä¸€ä¾§ä¸º0 while(fx!=fy) { if(deep[fx]&lt;deep[fy]) swap(x,y),l^=1; L=seg[fx],R=seg[x],Las=0; Query(1,1,num); p[++p[0][l]][l]=Rres,p[++p[0][l]][l]=Lres;//å°±æ˜¯æŠŠé”®å€¼è®°å½•è¿›å» x=fa[fx]; } if(deep[x]&lt;deep[y]) swap(x,y),l^=1; L=seg[y],R=seg[x],Las=0; Query(1,1,num); p[++p[0][l]][l]=Rres,p[++p[0][l]][l]=Lres; Uni();//æœ€åå†ä¸€èµ·æ return; } Code#include&lt;bits/stdc++.h&gt; #define getchar() *(pos++) #define fx top[x] #define fy top[y] #define N 100010 using namespace std; struct node{ int to,nxt; }b[N&lt;&lt;1]; int head[N],seg[N],top[N],rev[N],tag[N&lt;&lt;2],f[N&lt;&lt;2]; int deep[N],Sz[N],son[N],fa[N],fl[N&lt;&lt;2],fr[N&lt;&lt;2]; int n,T,C,t,num,x,y,a[N],p[N&lt;&lt;1][2],L,R,Lres,Rres,ans,Las; char bf[1&lt;&lt;25],*pos; inline int read() { register int s=0; register char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(register int x,register int y) { b[++t].to=y,b[t].nxt=head[x],head[x]=t; b[++t].to=x,b[t].nxt=head[y],head[y]=t; } void dfs1(int k) { int i,to; deep[k]=deep[fa[k]]+1;Sz[k]=1; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(to==fa[k]) continue; fa[to]=k,dfs1(to); Sz[k]+=Sz[to]; if(Sz[to]&gt;Sz[son[k]]) son[k]=to; } } void dfs2(int k) { if(son[k]) { seg[son[k]]=++num; top[son[k]]=top[k]; rev[num]=son[k]; dfs2(son[k]); } int i,to; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(top[to]) continue; seg[to]=++num; rev[num]=to; top[to]=to; dfs2(to); } } inline void Upd(register int k,register int cur) { f[k]=f[cur]+f[cur|1]-(fr[cur]==fl[cur|1]); fl[k]=fl[cur],fr[k]=fr[cur|1]; } void built(register int k,register int l,register int r) { if(l&gt;r) return; if(l==r) {fl[k]=fr[k]=a[rev[l]];f[k]=1;return;} register int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; built(cur,l,mid); built(cur|1,mid+1,r); Upd(k,cur); } inline void push(register int k,register int l,register int r) { f[k]=1; fl[k]=fr[k]=tag[k]; if(l!=r) { register int cur=k&lt;&lt;1; tag[cur]=tag[cur|1]=tag[k]; } tag[k]=0; } void Modify(register int k,register int l,register int r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { tag[k]=C; push(k,l,r); return; } register int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Modify(cur,l,mid); Modify(cur|1,mid+1,r); Upd(k,cur); } void Query(register int k,register int l,register int r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { if(Las==fl[k]) --ans; ans+=f[k];Las=fr[k]; if(l==L) Lres=fl[k]; if(r==R) Rres=fr[k]; return; } register int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Query(cur,l,mid); Query(cur|1,mid+1,r); } inline void Add() {//ä¿®æ”¹å°±æ”¾ä¸€èµ·äº†ï¼Œç›´æ¥æ¨¡æ¿å¼æ”¹å°±å¥½äº† C=read(); while(fx!=fy) { if(deep[fx]&lt;deep[fy]) swap(x,y); L=seg[fx],R=seg[x]; Modify(1,1,num); x=fa[fx]; } if(deep[x]&lt;deep[y]) swap(x,y); L=seg[y],R=seg[x]; Modify(1,1,num); return; } inline void Uni() { register int i; for(i=2;i&lt;p[0][0];i+=2)//é¦–å…ˆè¦ç†è§£æ¯æ¡é‡é“¾çš„é”®å€¼æˆå¯¹å‡ºç°ï¼Œè€Œä¸¤æ¡é“¾ä¹‹é—´çš„é”®å€¼æ‰æ˜¯æœ‰ç”¨çš„ ans-=(p[i][0]==p[i+1][0]); for(i=2;i&lt;p[0][1];i+=2) ans-=(p[i][1]==p[i+1][1]); if(p[p[0][0]][0]==p[p[0][1]][1]) --ans;//æœ€åå°¾è¿æ¥çš„æ—¶å€™ä¹Ÿè¦åˆ¤æ–­ä¸€ä¸‹ printf(&quot;%d\\n&quot;,ans); } inline void Ask() { p[0][0]=p[0][1]=ans=0; register int l=0; while(fx!=fy) { if(deep[fx]&lt;deep[fy]) swap(x,y),l^=1; L=seg[fx],R=seg[x],Las=0; Query(1,1,num); p[++p[0][l]][l]=Rres,p[++p[0][l]][l]=Lres; x=fa[fx]; } if(deep[x]&lt;deep[y]) swap(x,y),l^=1; L=seg[y],R=seg[x],Las=0; Query(1,1,num); p[++p[0][l]][l]=Rres,p[++p[0][l]][l]=Lres; Uni(); return; } int main() { int i; char c; bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;,pos=bf; n=read();T=read(); for(i=1;i&lt;=n;i++) a[i]=read(); for(i=1;i&lt;n;i++) x=read(),y=read(),add(x,y); num=seg[1]=rev[1]=top[1]=1; dfs1(1),dfs2(1),built(1,1,num); while(T--) { c=getchar(); while(c!=&#39;C&#39;&amp;&amp;c!=&#39;Q&#39;) c=getchar(); x=read(),y=read(); if(c==&#39;C&#39;) Add(); else Ask(); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUVA10444ã€Multi-peg Towers of Hanoi è§£é¢˜æŠ¥å‘Š","slug":"UVA10444-Multi-peg_Towers_of_Hanoi-Solution","date":"2019-03-29T14:48:27.000Z","updated":"2019-12-01T07:28:05.644Z","comments":true,"path":"2019/03/29/UVA10444-Multi-peg_Towers_of_Hanoi-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/29/UVA10444-Multi-peg_Towers_of_Hanoi-Solution/","excerpt":"","text":"é¢˜é¢æ±‚ $p(3&lt; p \\le 20)$ æ ¹æ†å­ï¼Œ$n(0\\le n \\le200)$ ä¸ªåœ†ç›˜çš„æœ€ä¼˜è§£ï¼ˆè§„åˆ™å’Œæ™®é€šæ±‰è¯ºå¡”ä¸€æ ·ï¼‰ è§£é¢˜æ€è·¯$DP$ åˆ†æè®¾ $f[k][i]$ è¡¨ç¤º $k$ æ ¹æ†å­å’Œ $i$ ä¸ªåœ†ç›˜æ—¶çš„çŠ¶æ€ï¼Œåˆ™ï¼š f[k][i]=min\\{2\\times f[k][j]+f[k-1][i-j]\\},1\\le j < iè¡¨ç¤ºçš„æ„æ€æ˜¯ï¼š å…ˆæŠŠ $j$ ä¸ªåœ†ç›˜åœ¨ $k$ æ ¹æ†å­çš„æƒ…å†µä¸‹è½¬ç§»ï¼Œå†å°†å‰©ä¸‹çš„ $i-j$ ä¸ªåœ†ç›˜åœ¨ $k-1$ æ ¹æ†å­çš„æƒ…å†µä¸‹è½¬ç§» è¿™æ ·è¯»æ‡‚äº†ä¹‹åä»£ç å°±å¾ˆå¥½å†™äº† Warning$ n\\le 200 $ï¼Œæ‰€ä»¥â€¦â€¦é«˜ç²¾æˆ–è€…pyâ€‹ Code#include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define ll long long #define N 200 using namespace std; struct node{ int a[110],l; node operator+ (const node x) const{//å…¶å®é‡è½½ä¸ªåŠ æ³•å°±éå¸¸æ–¹ä¾¿äº† int L=max(l,x.l);node y;//Lè¡¨ç¤ºé•¿åº¦ y.a[1]=0; for(int i=1;i&lt;=L;i++) { y.a[i]+=a[i]+x.a[i]; y.a[i+1]=y.a[i]/10; y.a[i]%=10; } if(y.a[L+1]) ++L;y.l=L; return y; } }f[25][N+7],init;//initæ˜¯ä¸€ä¸ªå•ä½çš„æ•°ï¼Œä¹Ÿå°±æ˜¯1 int n,p,t; inline node Min(register node a,register node b) {//æ¯”è¾ƒå¤§å° if(a.l!=b.l) return (a.l&lt;b.l)?a:b; register int t=a.l; while(a.a[t]==b.a[t]&amp;&amp;t) --t; return (a.a[t]&lt;b.a[t])?a:b; } inline void Init() {//é¢„å¤„ç†ä¸€ä¸‹ int i,j,k;init.a[1]=1,init.l=1;f[3][1]=init; for(i=2;i&lt;=N;i++) f[3][i]=(f[3][i-1]+f[3][i-1])+init; for(k=4;k&lt;=20;k++) { f[k][1]=init; for(i=2;i&lt;=N;i++) { f[k][i].l=INF; for(j=1;j&lt;i;j++) f[k][i]=Min(f[k][i],(f[k][j]+f[k][j])+f[k-1][i-j]); } } } inline void Print(register int n,register int p) { int i; printf(&quot;Case %d: &quot;,++t); if(!f[p][n].l) {puts(&quot;0&quot;);return;} for(i=f[p][n].l;i;i--) printf(&quot;%d&quot;,f[p][n].a[i]); puts(&quot;&quot;); } int main() { Init(); while(~scanf(&quot;%d%d&quot;,&amp;n,&amp;p)&amp;&amp;p!=0) Print(n,p);//è¾“å‡ºå°±å¥½äº† return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"http://hovnySiLenCe.github.io/tags/åŠ¨æ€è§„åˆ’/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€Œç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ã€0x01 æœ€çŸ­Hamiltonè·¯å¾„ è§£é¢˜æŠ¥å‘Š","slug":"AlgorithmGuide-0x01_ShortHamiltonPath-Solution","date":"2019-03-27T13:59:31.000Z","updated":"2019-11-09T07:13:28.213Z","comments":true,"path":"2019/03/27/AlgorithmGuide-0x01_ShortHamiltonPath-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/AlgorithmGuide-0x01_ShortHamiltonPath-Solution/","excerpt":"","text":"é¢˜ç›®åœ¨è¿™é‡Œå•Šé¢˜ç›®åœ¨è¿™é‡Œ~ Hamiltonè·¯å¾„ï¼šå°†æ‰€æœ‰ç‚¹éƒ½éå†åˆšå¥½ä¸€æ¬¡çš„è·¯å¾„ æ€è·¯ï¼šæ•°æ®èŒƒå›´æ¯”è¾ƒå°ï¼ˆ1~20ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æš´åŠ›ä¸­çš„æšä¸¾ æ•°ç»„f[i][j] içš„äºŒè¿›åˆ¶è¡¨ç¤ºé€‰å–äº†å“ªäº›ç‚¹ jè¡¨ç¤ºä»¥å“ªä¸ªç‚¹ç»“å°¾ ç„¶åå°±æ˜¯çŠ¶æ€å‹ç¼© ç”±äºæ±‚çš„æ˜¯æœ€å°å€¼ï¼Œæ‰€ä»¥ä¸€å¼€å§‹çš„æ—¶å€™è¦èµ‹åˆå€¼INF ä¸ºäº†æœ‰è§£ï¼Œf[1][0]åº”è¯¥èµ‹å€¼ä¸º0. #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define Max (1&lt;&lt;n) using namespace std; int n; int a[20][20]; int f[1&lt;&lt;20][20]; int res; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void Hamilton() { int i,j,k; f[1][0]=0; for(i=2;i&lt;Max;i++) { for(j=0;j&lt;n;j++) { f[i][j]=INF; if((i&gt;&gt;j)&amp;1) { res=i^(1&lt;&lt;j); for(k=0;k&lt;n;k++) if((res&gt;&gt;k)&amp;1) f[i][j]=min(f[i][j],f[res][k]+a[k][j]); } } } return; } int main() { int i,j; n=read(); for(i=0;i&lt;n;i++) for(j=0;j&lt;n;j++) a[i][j]=read(); Hamilton(); printf(&quot;%d\\n&quot;,f[Max-1][n-1]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Hamiltonè·¯å¾„","slug":"Hamiltonè·¯å¾„","permalink":"http://hovnySiLenCe.github.io/tags/Hamiltonè·¯å¾„/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€Œç®—æ³•ç«èµ›è¿›é˜¶æŒ‡å—ã€0x01 ä½è¿ç®— å­¦ä¹ ç¬”è®°","slug":"AlgorithmGuide-0x01_bit-Notes","date":"2019-03-27T13:58:30.000Z","updated":"2019-11-02T10:03:34.806Z","comments":true,"path":"2019/03/27/AlgorithmGuide-0x01_bit-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/AlgorithmGuide-0x01_bit-Notes/","excerpt":"","text":"åªæ˜¯ä¸€äº›æŠ„æ¥çš„trickè€Œå·² int lowbit(int x) { return x&amp;(-x);//x&amp;(~x+1),~x=-1-x; } int __builtin_ctz(unsigned int x) int __builtin_ctzll(unsigned long long x) è¿”å›xçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹æœ€ä½ä½çš„1åé¢æœ‰å¤šå°‘ä¸ª0 int __builtin_popcount(unsigned int x) int __builtin_popcountll(unsigned long long x) è¿”å›xçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹æœ‰å¤šå°‘ä½ä¸º1","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}],"tags":[{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"http://hovnySiLenCe.github.io/tags/ä½è¿ç®—/"}],"keywords":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://hovnySiLenCe.github.io/categories/å­¦ä¹ ç¬”è®°/"}]},{"title":"ã€ŒUSACO11NOVã€ç‰›çš„éšœç¢Cow Steeplechase è§£é¢˜æŠ¥å‘Š","slug":"USACO11NOV-Cow_Steeplechase-Solution","date":"2019-03-27T13:58:25.000Z","updated":"2019-12-01T07:28:07.992Z","comments":true,"path":"2019/03/27/USACO11NOV-Cow_Steeplechase-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/USACO11NOV-Cow_Steeplechase-Solution/","excerpt":"","text":"$\\mathtt{Updata\\ 2019.11.13}$ ä»Šå¤©è†œä½ èµ›åšåˆ°äº†åŸé¢˜ï¼Œä¸å¾—ä¸æ¥ä¿®ä¸€ä¸‹ $blog$ é¢˜é¢æœ‰ $n$ æ¡å¹³è¡Œäºåæ ‡è½´çº¿æ®µï¼Œå–çš„çº¿æ®µè¦æ±‚ä¸ç›¸äº¤ï¼Œæœ€å¤§åŒ–æ‰€å–çº¿æ®µæ•°ç›® è§£é¢˜æ€è·¯äºŒåˆ†å›¾åŒ¹é… åˆ†ææŠŠå¹³è¡Œäº $x$ è½´å’Œå¹³è¡Œäº $y$ è½´çš„çº¿æ®µåˆ†åˆ«çœ‹æˆä¸¤ä¸ªé›†åˆï¼Œè¿™æ ·å°±å’ŒäºŒåˆ†å›¾æœ‰å…³äº† ä»æœ€å°å‰²çš„æ–¹é¢æƒ³ï¼Œè¦æƒ³æ‰€é€‰çš„æ•°ç›®å°½é‡å¤šï¼Œé‚£ä¹ˆå°±æ˜¯ä¸èƒ½é€‰çš„å°½é‡å°‘ æ˜¾ç„¶ï¼Œå¦‚æœä¸¤æ¡çº¿æ®µæœ‰ç›¸äº¤çš„éƒ¨åˆ†ï¼Œåˆ™æœ‰ä¸€æ¡å¿…ä¸èƒ½å–ï¼Œå› æ­¤ä»¥æ˜¯å¦ç›¸äº¤ä¸ºä¾æ®å»ºè¾¹ï¼Œå†è·‘ä¸€ä¸ªæœ€å°å‰²ï¼Œæˆ–è€…è¯´å°±æ˜¯äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ï¼Œç­”æ¡ˆå³ä¸º $n-Maxflow$ å¯ä»¥ç”¨ $Dinic$ æˆ–è€…åŒˆç‰™åˆ©ç®—æ³•å®ç° warningä¸ªäººè®¤ä¸ºæœ€å¤§çš„å‘ç‚¹æ˜¯æ‰€ç»™çš„çº¿æ®µçš„ç«¯ç‚¹ä¸æ˜¯æœ‰åºçš„ï¼Œæ¯”å¦‚å¹³è¡Œäº $x$ è½´çš„çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹å¯èƒ½å¹¶ä¸æ˜¯æŒ‰ç…§ä¸¤ç‚¹ $x$ åæ ‡çš„å¤§å°ç»™å‡ºï¼Œè¦ç‰¹åˆ«åˆ¤æ–­ï¼Œå¦åˆ™ï¼Œåˆ¤æ–­ç›¸äº¤çš„æ—¶å€™å°± $GG$ äº†ï¼Œå½“ç„¶ä¸è¦å¿˜è®°ç½‘ç»œæµå»ºè¾¹å¼€å››åå€ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define inf 0x7f7f7f7f #define M 3000003 #define N 257 using namespace std; template&lt;class K&gt;inline bool cmax(K&amp;a,const K&amp;b){return(a&lt;b)?a=b,1:0;} template&lt;class K&gt;inline bool cmin(K&amp;a,const K&amp;b){return(a&gt;b)?a=b,1:0;} inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } struct Edge{ int to,nxt,cap; Edge(int a,int b,int c):to(a),nxt(b),cap(c){} Edge(){} }b[M]; struct segment{ int lx,ly,rx,ry; inline void in() { lx=read(),ly=read(), rx=read(),ry=read(); if(lx&gt;rx) lx^=rx^=lx^=rx;//å¯èƒ½ä¸æ˜¯æœ‰åºçš„ if(ly&gt;ry) ly^=ry^=ly^=ry; } }A[N],B[N],c; int n,la,lb,t=1,S,T,head[N],dep[N],Maxflow; inline void add(rint x,rint y) { b[++t]=Edge(y,head[x],1),head[x]=t, b[++t]=Edge(x,head[y],0),head[y]=t; } inline bool cross(rgt segment a,rgt segment b) {//åˆ¤æ–­ç›¸äº¤ return b.lx&lt;=a.lx&amp;&amp;a.lx&lt;=b.rx&amp;&amp;a.ly&lt;=b.ly&amp;&amp;b.ly&lt;=a.ry; } inline bool BFS() { rint i,to,cur,cap; queue&lt;int&gt;p; memset(dep,0,sizeof(dep)); dep[S]=1,p.push(S); while(!p.empty()) { cur=p.front(),p.pop(); for(i=head[cur];i;i=b[i].nxt) { to=b[i].to; if(b[i].cap&amp;&amp;!dep[to]) { dep[to]=dep[cur]+1; if(to==T) return 1; p.push(to); } } }return 0; } inline int Dinic(rint k,rint flow) { if(k==T) return flow; rint i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to,cap=b[i].cap; if(cap&amp;&amp;dep[to]==dep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) dep[to]=0; b[i].cap-=res, b[i^1].cap+=res, rest-=res; } } return flow-rest; } int main() { rint i,j,flow;n=read(); for(i=1;i&lt;=n;i++) { c.in(); if(c.lx==c.rx) A[++la]=c;//æŒ‰ç…§å¹³è¡Œçš„åæ ‡åˆ†ç»„ else B[++lb]=c; }T=n+1; for(i=1;i&lt;=la;i++) add(S,i);//è¶…æºå’Œè¶…æ±‡ for(i=1;i&lt;=lb;i++) add(i+la,T); for(i=1;i&lt;=la;i++) for(j=1;j&lt;=lb;j++) if(cross(A[i],B[j]))//ç›¸äº¤å°±å»ºè¾¹ add(i,j+la); while(BFS())//Dinicå¤§æ³•å¼ while((flow=Dinic(S,inf))) Maxflow+=flow; printf(&quot;%d&quot;,n-Maxflow); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"http://hovnySiLenCe.github.io/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP23776ã€KQUERYO - K-Query Online è§£é¢˜æŠ¥å‘Š","slug":"SP23776-KQUERYO_KQueryOnline-Solution","date":"2019-03-27T13:58:12.000Z","updated":"2019-12-01T07:28:09.052Z","comments":true,"path":"2019/03/27/SP23776-KQUERYO_KQueryOnline-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/SP23776-KQUERYO_KQueryOnline-Solution/","excerpt":"","text":"é¢˜é¢$n$ä¸ªæ•°ï¼Œ$q$æ¬¡è¯¢é—®ï¼Œè¯¢é—®$[i,j]$åŒºé—´å¤§äº$k$çš„æ•°çš„ä¸ªæ•°ï¼Œè¾“å…¥æ—¶ï¼Œè¾“å…¥$a,b,c$ i = a xor last_ans j = b xor last_ans k = c xor last_ans ä¸€å¼€å§‹last_ansä¸º$0$ æ€è·¯ï¼šä¸»å¸­æ ‘ å…¶å®æ˜¯ä¸€é“æ¨¡æ¿é¢˜ ç¦»æ•£åŒ–åç›´æ¥ç¡¬ä¸Šæ¨¡æ¿ è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯â€”â€” æœ€åæŸ¥è¯¢çš„æ—¶å€™$k$ä¸è¦ç¦»æ•£åŒ–ï¼Œè€Œæ˜¯åœ¨æŸ¥è¯¢å‡½æ•°ä¸­æ”¹å˜åˆ¤æ–­æ¡ä»¶ Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 30010 using namespace std; struct node{ int l,r,sum; }T[N*30]; int a[N],b[N],root[N],t,n,m,res; int x,y,k,ans; int read(){ int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void built(int l,int r,int &amp;x,int y,int pos) { T[++res]=T[y];T[res].sum++;x=res; if(l==r) return; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) built(l,mid,T[x].l,T[y].l,pos); else built(mid+1,r,T[x].r,T[y].r,pos); } void query(int l,int r,int x,int y) { if(l==r) { if(b[l]&lt;=k) ans+=T[y].sum-T[x].sum; return; } int mid=(l+r)&gt;&gt;1; int sum=T[T[y].l].sum-T[T[x].l].sum; if(k&lt;=b[mid])//å°±æ˜¯åœ¨è¿™é‡ŒåŠ åˆ¤æ–­ query(l,mid,T[x].l,T[y].l); else ans+=sum,query(mid+1,r,T[x].r,T[y].r);//ansåŠ ä¸Šå·¦å­æ ‘çš„å¤§å°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªæ•°æ¯”kå° }//ä½†æ˜¯å®é™…ä¸Šå¯ä»¥æŠŠæ¡ä»¶æ”¹ä¸€æ”¹ï¼Œç„¶ååŠ ä¸Šå³å­æ ‘çš„å¤§å°ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå°±ä¸æ”¹äº† int main() { int i; n=read(); for(i=1;i&lt;=n;i++) b[i]=a[i]=read(); sort(b+1,b+1+n);t=unique(b+1,b+1+n)-b-1; for(i=1;i&lt;=n;i++) { a[i]=lower_bound(b+1,b+1+t,a[i])-b; built(1,t,root[i],root[i-1],a[i]); } m=read(); for(i=1;i&lt;=m;i++) { x=read()^ans;y=read()^ans;k=read()^ans;ans=0; if(x&lt;1) x=1; if(y&gt;n) y=n; if(x&gt;y) { printf(&quot;%d\\n&quot;,ans); continue; } query(1,t,root[x-1],root[y]); ans=y-x+1-ans; printf(&quot;%d\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ä¸»å¸­æ ‘","slug":"ä¸»å¸­æ ‘","permalink":"http://hovnySiLenCe.github.io/tags/ä¸»å¸­æ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP20644ã€ZQUERY - Zero Query è§£é¢˜æŠ¥å‘Š","slug":"SP20644-ZQUERY0_ZeroQuery-Solution","date":"2019-03-27T13:53:16.000Z","updated":"2019-12-01T07:28:09.444Z","comments":true,"path":"2019/03/27/SP20644-ZQUERY0_ZeroQuery-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/SP20644-ZQUERY0_ZeroQuery-Solution/","excerpt":"","text":"é¢˜é¢SPOJä¸Šçš„é¢˜ï¼Œæ•°æ®éƒ½å¾ˆå‘ å¤§æ„ï¼šé•¿åº¦ä¸º$n$çš„åºåˆ—ï¼Œåºåˆ—ä¸­çš„å€¼ä¸º$1$æˆ–$-1$ æœ‰$m$ä¸ªè¯¢é—®ï¼Œè¯¢é—®åœ¨$[L,R]$ä¸­åŒºé—´å’Œä¸º$0$çš„åŒºé—´çš„æœ€å¤§é•¿åº¦ è¿™æ ·ä¼šæ¯”è¾ƒå¥½ç†è§£å§ï¼Œç¿»è¯‘çš„æ—¶å€™æ²¡ç¿»å¥½ æ€è·¯ï¼šè«é˜Ÿ+multisetå¯¹äºè¿™ç§åŒºé—´ä¹±ææ“ä½œçš„ï¼Œä¸€èˆ¬é€‰ç”¨è«é˜Ÿ(Moâ€™s algorithm)æ¯”è¾ƒæ–¹ä¾¿ æ¥åšè¿™é“é¢˜çš„å¤§ä½¬ä»¬åº”è¯¥éƒ½æœ‰å­¦è¿‡è«é˜Ÿå§ï¼Œ$Luogu$æ²¡æœ‰è«é˜Ÿæ¨¡æ¿ç¡®å®æ˜¯ä¸€ä»¶æ¯”è¾ƒå¤æ‚çš„äº‹æƒ…ï¼ŒåŸæœ¬è¿™é“é¢˜$\\large \\to$HHçš„é¡¹é“¾è¿˜æ˜¯èƒ½ç”¨è«é˜Ÿæ°´è¿‡å»ï¼Œç„¶åç»“æœæ•°æ®åŠ å¼ºäº†â€¦â€¦ è«é˜Ÿæ¨¡æ¿é¢˜$\\to$å°Bçš„è¯¢é—®å¯ä»¥å»åšä¸€ä¸‹ æ±‚å’Œä¸º$0$çš„åŒºé—´ï¼Œæ˜¾ç„¶æ˜¯è¦é¢„å¤„ç†çš„ï¼Œæ‰€ä»¥è¯»å…¥çš„æ—¶å€™å°±è®°å½•å‰ç¼€å’Œ é‚£ä¹ˆé¢˜ç›®è½¬åŒ–ä¸º$\\to$ä¸¤ä¸ªç›¸åŒå…ƒç´ çš„æœ€å¤§é—´è· åŸå…ˆçš„æ ·ä¾‹ä¸ºï¼š 1 1 1 -1 -1 -1 è½¬åŒ–ä¸ºå‰ç¼€å’Œï¼š 1 2 3 2 1 0 æ±‚$[1,3]$è¿™ä¸ªåŒºé—´ï¼Œç”±äºå‰ç¼€å’Œçš„å½±å“ï¼Œä¸åº”è¯¥ç›´æ¥åœ¨$[1,3]$è¿™ä¸ªåŒºé—´é‡Œæ‰¾ç›¸åŒï¼Œè€Œæ˜¯åº”è¯¥æŠŠå·¦ç«¯ç‚¹å·¦ç§»ä¸€ä½ï¼Œæ±‚$[0,3]$è¿™ä¸ªåŒºé—´çš„ç›¸åŒ ç”±äºåŒºé—´çš„ç›¸åŒå…ƒç´ å¯èƒ½æœ‰å¤šä¸ªï¼š 1 -1 1 -1 1 -1 è¿™ç»„æ•°æ®è½¬åŒ–åå°±æ˜¯ï¼š 1 0 1 0 1 0 è®¾å…ƒç´ $x$ï¼Œåœ¨$[l,r]$ä¸­æœ€æ—©å‡ºç°çš„ä½ç½®ä¸º$Min[x]$ï¼Œæœ€æ™šå‡ºç°çš„ä½ç½®ä¸º$Max[x]$ åœ¨$[1,6]$ä¸­ï¼Œå…ƒç´ $1$å’Œ$0$åˆ†åˆ«æœ‰$3$ä¸ªï¼Œä½†æ˜¯å®é™…ä¸Šç¬¬ä¸€ä¸ª$1$ï¼ˆæˆ–$0$ï¼‰å’Œæœ€åä¸€ä¸ª$1$ï¼ˆæˆ–$0$ï¼‰æ‰æ˜¯æœ‰ä»·å€¼çš„ï¼ˆä¹Ÿå°±æ˜¯$Max[1],min[1],Max[0],Min[0]$ï¼Œä»·å€¼ä¸ºä»–ä»¬ä¹‹é—´çš„è·ç¦»ï¼Œå³$5-1=4$æˆ–$6-2=4$ï¼‰ï¼Œé‚£ä¹ˆä¸­é—´çš„å…ƒç´ å°±å¯ä»¥çœå»å—ï¼Ÿ ä¸è¡Œï¼ç”±äºè«é˜Ÿç®—æ³•ä¸­$Add$å’Œ$Del$æ“ä½œï¼Œè¦æ±‚æˆ‘ä»¬è®°å½•è¿™äº›å€¼ï¼Œæ‰èƒ½åœ¨$O(1)$çš„æ—¶é—´é‡Œæ›´æ–° $[l,r]$è¿™ä¸ªåŒºé—´é‡Œï¼Œç”±æ¯ç§å…ƒç´ éƒ½æœ‰å¯èƒ½æ„æˆæœ€ä¼˜å€¼ï¼Œå› æ­¤è¿˜è¦ç”¨$multiset$è®°å½•æ¯ç§å…ƒç´ çš„æœ€ä¼˜å€¼ï¼Œå½“ç„¶ï¼Œå¦‚æœä¸€ä¸ªåŒºé—´ä¸­æŸä¸ªå…ƒç´ åªå‡ºç°äº†ä¸€æ¬¡ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ çš„ä»·å€¼åº”è¯¥æ˜¯$Max[x]=Min[x],Max[x]-Min[x]=0$ï¼Œä¹Ÿå¯ä»¥åŠ å…¥$multiset$ä¸­ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘æ€•æ—¶é—´æ— æ³•æ‰¿å—ï¼Œå°±ç‰¹åˆ¤æ‰äº† é‚£ä¹ˆå¦‚ä½•è®°å½•è¿™äº›ä¸­é—´å€¼å‘¢ï¼Ÿæˆ‘åªæƒ³åˆ°äº†é“¾è¡¨ï¼Œå…¶å®åŒç«¯é˜Ÿåˆ—ï¼ˆ$deque$åº”è¯¥ä¹Ÿå¯ä»¥ï¼Œå¦‚æœä¸æ€•ç‚¸çš„è¯ï¼‰ å†è¯´ä¸€ä¸‹å‰ç¼€å’Œï¼Œå‰ç¼€å’Œå¯èƒ½æ˜¯è´Ÿæ•°å“¦~ é‚£ä¹ˆå°±åŠ ä¸€ä¸ª$n+1$å°±å¤Ÿäº†ï¼ˆ$n$ä¸ºåºåˆ—é•¿åº¦ï¼Œå½“ç„¶ä¿é™©ç‚¹åŠ ä¸ª$n+7$ï¼‰ Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 50010 using namespace std; struct node{ int l,r,i; }b[N]; int a[N],n,m,block,pos[N],l,r,num; int Min[N&lt;&lt;1],Max[N&lt;&lt;1],Ans[N],L[N],R[N];//Ansè®°å½•ç­”æ¡ˆï¼Œå…¶ä»–æ•°ç»„ç”¨äºå­˜é“¾è¡¨ï¼Œæ®è¯´STLä¸­ä¸ä¸€ä¸ªlist multiset&lt;int&gt;ans; bool cmp(node a,node b){//è«é˜Ÿå¥‡å¶åˆ’åˆ† return (pos[a.l]==pos[b.l])?(pos[a.l]&amp;1)?a.r&gt;b.r:a.r&lt;b.r:a.l&lt;b.l; } void Add(int x){//æ·»åŠ  num=a[x]+n+1; if(Max[num]&lt;0)//è¿™ç§æƒ…å†µé“¾è¡¨ä¸­æ²¡æœ‰å…ƒç´  { Max[num]=Min[num]=x; return; } if(Max[num]!=Min[num])//è¦æ›´æ–°ä»·å€¼ï¼ŒåŸå…ˆçš„å°±è¦åˆ æ‰ï¼Œç‰¹åˆ¤æ‰äº†ä»·å€¼ä¸º0çš„æƒ…å†µï¼Œä¸º0ä¸åˆ  ans.erase(ans.lower_bound(Max[num]-Min[num])); if(Min[num]&gt;x)//åŠ å…¥å¤´ { L[Min[num]]=x; R[x]=Min[num]; Min[num]=x; } else//åŠ å…¥å°¾ { R[Max[num]]=x; L[x]=Max[num]; Max[num]=x; } ans.insert(Max[num]-Min[num]);//æ›´æ–°æœ€å¤§å€¼ } void Del(int x){//åˆ é™¤ num=a[x]+n+1; if(Min[num]==Max[num]) { Max[num]=-1;Min[num]=(n&lt;&lt;1)+7; return; } ans.erase(ans.lower_bound(Max[num]-Min[num])); if(Min[num]==x) Min[num]=R[x]; else Max[num]=L[x]; if(Max[num]!=Min[num]) ans.insert(Max[num]-Min[num]); } int main() { int i,j; scanf(&quot;%d%d&quot;,&amp;n,&amp;m);block=pow(n,0.54);//ç„å­¦ä¼˜åŒ– for(i=1;i&lt;=n;i++) { scanf(&quot;%d&quot;,&amp;a[i]); a[i]+=a[i-1];//å‰ç¼€å’Œ pos[i]=i/block; } for(i=1;i&lt;=m;i++) scanf(&quot;%d%d&quot;,&amp;b[i].l,&amp;b[i].r),b[i].i=i; sort(b+1,b+1+m,cmp);l=1; for(i=1;i&lt;=(n&lt;&lt;1)+7;i++) Min[i]=(n&lt;&lt;1)+7,Max[i]=-1;//Max[i]èµ‹ä¸º-1æ˜¯ä¸ºäº†åŒ…å®¹0è¿™ä¸ªä½ç½® ans.insert(0);//é¢„å…ˆè¾“å…¥0ï¼Œé˜²æ­¢REï¼ˆå¯æˆ‘è¿˜æ˜¯REäº†ï¼‰ for(i=1;i&lt;=m;i++) { while(r&lt;b[i].r) Add(++r); while(l&gt;b[i].l-1) Add(--l);//å¦‚æœREäº†ï¼Œå°±æŠŠAddå¾€å‰æŒªå§ï¼Œåƒä¸‡è¦æ³¨æ„é¡ºåºï¼ while(r&gt;b[i].r) Del(r--);//å¦åˆ™Del(r--)åï¼Œrçš„å€¼å¯èƒ½å°äºlï¼Œç„¶åå°±çˆ†ç‚¸ while(l&lt;b[i].l-1) Del(l++); Ans[b[i].i]=*(--ans.end());//æœ€å¤§çš„ä»·å€¼ } for(i=1;i&lt;=m;i++) printf(&quot;%d\\n&quot;,Ans[i]); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è«é˜Ÿ","slug":"è«é˜Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/è«é˜Ÿ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒSP1487ã€PT07J - Query on a tree III è§£é¢˜æŠ¥å‘Š","slug":"SP1487-PT07J_QueryOnATreeIII-Solution","date":"2019-03-27T13:53:05.000Z","updated":"2019-12-01T07:28:09.859Z","comments":true,"path":"2019/03/27/SP1487-PT07J_QueryOnATreeIII-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/SP1487-PT07J_QueryOnATreeIII-Solution/","excerpt":"","text":"æˆ³è¿™é‡Œçœ‹é¢˜é¢ä¸€é“æŒºæœ‰æ„æ€çš„é¢˜ï¼Œå¯ä»¥ç»ƒä¸€ä¸‹æ¿å­ å¤§æ„ï¼šç»™å‡º$n(1\\le n \\le10^5)$ä¸ªç»“ç‚¹çš„æ ‘ï¼Œ$m$ç»„è¯¢é—®ï¼Œæ±‚ ä»¥$x$ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ä¸­ ç¬¬$k$å°çš„æ•°ï¼ˆä»å°åˆ°å¤§ç¬¬$k$ä¸ªï¼‰ é¢˜ç›®ä¸­æ²¡ç¿»è¯‘æ¸…æ¥šï¼Œè¯¥æ ‘æ ‘ä»¥$1$ä¸ºæ ¹èŠ‚ç‚¹ æ€è·¯ï¼šå¯¹äºæ ‘ä¸Šæ“ä½œï¼Œæˆ‘å·²å¼€å§‹æƒ³åˆ°çš„æ˜¯æ ‘å‰–ï¼Œä½†æ˜¯é¢˜ç›®ä¸­æ‰€æ±‚çš„æ˜¯ä»¥$x$ä¸ºæ ¹çš„æ ‘ï¼Œé‚£ä¹ˆé‚£ä¹ˆå°±åº”è¯¥æƒ³åˆ°DFSåº è¿™å’Œæ ‘å‰–ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªèƒ½å°†æ ‘å½¢ç»“æ„è½¬åŒ–ä¸ºçº¿æ€§ç»“æ„çš„ç¥å¥‡çš„ä¸œè¥¿ ç¡®å®šäº†ä½¿ç”¨$DFS$åºä¹‹åï¼Œå¯¹äºæ ‘ä¸­ç¬¬$k$å°ï¼Œç”±äºå®ƒæ˜¯ä¸å¸¦ä¿®çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“æƒ³åˆ°ä½¿ç”¨ä¸»å¸­æ ‘ ç„¶åå°±å¼€å§‹ä¹±æäº† æ³¨æ„è¦ç‚¹ï¼šé¢˜ç›®ä¸­æ‰€æ±‚çš„æ˜¯ç¬¬$k$å°ç‚¹çš„ç¼–å·ï¼ï¼ ä¸»å¸­æ ‘æŸ¥è¯¢å‡ºç»“æœåï¼Œè¿™ä¸ªlå€¼ä¸æ˜¯å®é™…ä¸Šçš„ç¼–å· å› ä¸ºä¸»å¸­æ ‘æœ€åå¾—åˆ°l==rçš„æ—¶å€™ï¼Œlçš„å€¼å®é™…ä¸Šæ˜¯è¿™ä¸ªç‚¹åœ¨æƒå€¼çº¿æ®µæ ‘ä¸­çš„ä½ç½® è€Œè¿™ä¸ªç‚¹åŸå…ˆçš„Idå¹¶ä¸ä¸€å®šæ˜¯lï¼Œæ‰€ä»¥è¿˜è¦è®°å½•ä¸€ä¸‹Idç„¶åå†å¯¹åº”å›å» å…·ä½“è¯¦è§ä»£ç å§ï¼Œç»“åˆä»£ç è¯´çš„æ›´æ¸…æ¥š Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 100010 using namespace std; struct node{ int to,nxt; }b[N&lt;&lt;1]; struct Node{ int l,r,sum; }T[N*80];//å¼€å¤§ç‚¹æ²¡äº‹ï¼Œä½†æ˜¯ç®—ä¸€ä¸‹ï¼Œå®é™…ä¸Š40å·®ä¸å¤šäº† int head[N],in[N],out[N],a[N],p[N],rev[N],root[N],Id[N]; int n,Ts,num,x,y,res,t,ans,k;//revæ•°ç»„å°†dfsåºå¯¹åº”ä¼šåŸæ¥çš„ç¼–å· int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void add(int x,int y){ b[++t].to=y;b[t].nxt=head[x];head[x]=t; b[++t].to=x;b[t].nxt=head[y];head[y]=t; } void dfs(int k,int fa)//è¿™é‡Œæ±‚çš„æ˜¯dfsåºï¼Œin[k]è¡¨ç¤ºkè¿™ä¸ªç‚¹çš„dfsåº {//out[k]è¡¨ç¤ºkè¿™ä¸ªç‚¹çš„å­æ ‘ä¸­æœ€å¤§dfsåºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨in[k]~out[k]è¿™ä¸ªåŒºé—´ï¼Œéƒ½æ˜¯ä»¥kä¸ºæ ¹çš„æ ‘ çš„èŠ‚ç‚¹çš„dfsåº in[k]=++num;//æœ‰ç‚¹ç»•å£ rev[num]=k; int i,to; for(i=head[k];i;i=b[i].nxt) { to=b[i].to; if(to==fa) continue; dfs(to,k); } out[k]=num; } void Modify(int l,int r,int &amp;x,int y,int pos,int i) { T[++res]=T[y];T[res].sum++;x=res; if(l==r) { Id[l]=i;//é¡ºä¾¿è®°å½•ä¸€ä¸‹è¿™ä¸ªç‚¹åŸå…ˆçš„ç¼–å· return; } int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) Modify(l,mid,T[x].l,T[y].l,pos,i); else Modify(mid+1,r,T[x].r,T[y].r,pos,i); } void query(int l,int r,int x,int y,int k) { if(l==r) { ans=Id[l];//è¿™æ ·å°±å¯ä»¥ç›´æ¥å¯¹åº”äº† return; } int mid=(l+r)&gt;&gt;1; int sum=T[T[y].l].sum-T[T[x].l].sum; if(k&lt;=sum) query(l,mid,T[x].l,T[y].l,k); else query(mid+1,r,T[x].r,T[y].r,k-sum); } int main() { int i; n=read(); for(i=1;i&lt;=n;i++) p[i]=a[i]=read(); for(i=1;i&lt;n;i++) { x=read();y=read(); add(x,y); } dfs(1,0); sort(p+1,p+1+n); for(i=1;i&lt;=n;i++)//iè¡¨ç¤ºçš„æ˜¯dfsåº { a[rev[i]]=lower_bound(p+1,p+1+n,a[rev[i]])-p;//ç¦»æ•£åŒ– Modify(1,n,root[i],root[i-1],a[rev[i]],rev[i]); } Ts=read(); while(Ts--) { x=read();k=read(); query(1,n,root[in[x]-1],root[out[x]],k); printf(&quot;%d\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘é“¾å‰–åˆ†","slug":"æ ‘é“¾å‰–åˆ†","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘é“¾å‰–åˆ†/"},{"name":"ä¸»å¸­æ ‘","slug":"ä¸»å¸­æ ‘","permalink":"http://hovnySiLenCe.github.io/tags/ä¸»å¸­æ ‘/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4051ã€[JSOI2007]å­—ç¬¦åŠ å¯† è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4051-[JSOI2007]CharPasscode-Solution","date":"2019-03-27T13:52:59.000Z","updated":"2019-12-01T07:28:26.028Z","comments":true,"path":"2019/03/27/Luogu_P4051-[JSOI2007]CharPasscode-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P4051-[JSOI2007]CharPasscode-Solution/","excerpt":"","text":"é¢˜é¢æ€è·¯ï¼šä½œä¸ºä¸€ä¸ªåç¼€æ•°ç»„çš„åˆå­¦è€…ï¼Œå½“ç„¶é¦–å…ˆæƒ³åˆ°çš„æ˜¯åç¼€æ•°ç»„ æŠŠ$s$è¿™ä¸ªä¸²é¦–å°¾ç›¸æ¥ï¼Œæ‰©å±•ä¸ºåŸæ¥çš„ä¸¤å€ï¼Œå°±èƒ½æŒ‰åç¼€æ•°ç»„çš„æ–¹æ³•å¤„ç† è¯æ˜ï¼šç¥ä»™ä¸€çœ¼å°±çœ‹å‡ºè¿™æ˜¯åç¼€çš„è£¸é¢˜ï¼Œæˆ‘è¿™ä¸ªè’Ÿè’»æƒ³äº†åŠå¤©æƒ³ä¸å‡ºæ¥ å¦‚æœæˆ‘ä»¬åªå¯¹$s$ä¸²è¿›è¡Œåç¼€æ’åºï¼Œæ˜æ˜¾æ— æ³•å¤„ç†å¦‚ä¸‹çš„æƒ…å†µï¼Œäºæ˜¯å°±æ‹¿äº†30åˆ† $s=bnabn$ $bn$ä¼šåœ¨$bnabn$å‰é¢ï¼Œè€Œå®é™…$bn$å¯¹åº”çš„åº”è¯¥æ˜¯$bnbna$ï¼Œæ¯”$bnabn$è¦å¤§ é‚£ä¹ˆåº”è¯¥è¿™ä¹ˆå¤„ç†è¿™äº›ç¼ºå°‘çš„ä¸²å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹æŠŠåŸæ¥çš„$s$å˜æˆä¸¤å€ $s=bnabn+bnabn$ åç¼€$bnabnbnabn$åœ¨åç¼€$bnbnabn$å‰é¢ï¼Œè€Œå®é™…ä¸Š$bnabn$ä¹ŸåŒæ ·åœ¨$bnbna$å‰é¢ è¿™æ ·æ‰©å±•äº†ä¸€å€ä¹‹åï¼Œä¹Ÿå°±æ˜¯è¯´é¢˜ç›®ä¸­å˜åŒ–å¾—åˆ°çš„$len(s)$ä¸ªä¸²éƒ½å‡ºç°è¿‡ï¼Œä½†æ˜¯å¤šå‡ºæ¥çš„éƒ¨åˆ†ä¼šä¸ä¼šå½±å“ç»“æœå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ä¼š æ¯”å¦‚è¯´ï¼š $s=abcd$ æ‰©å±•å$ \\to s=abcdabcd$ å¯¹äºåŸä¸²çš„ä¸€ç§å˜åŒ–ç»“æœ$bcda$ åŒ…å«åœ¨æ‰©å±•åçš„$s$ä¸­ï¼Œè€Œ$bcda$å¯¹åº”çš„åç¼€å°±æ˜¯$bcdabcd$ï¼Œåç¼€ä¸­å¤šå‡ºçš„$bcd$å¯¹äº$bcda$æ¥è¯´ï¼Œå®ƒå®é™…ä¸Šæ˜¯$bcda$çš„å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯¹$bcda$çš„å½±å“ç”±$bcda$å†³å®šï¼Œè¿™ä¸å°±æ˜¯æ²¡æœ‰å½±å“å— Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 1000010 using namespace std; int n,m,x[N],y[N],c[N],sa[N],p,t; char s[N]; int main() { int i,k; scanf(&quot;%s&quot;,s); t=strlen(s);m=300;n=t&lt;&lt;1;//tæ˜¯åŸæ¥sçš„é•¿åº¦ï¼Œnæ˜¯æ‰©å±•åé•¿åº¦ï¼Œmåˆå§‹å€¼å®é™…ä¸ç”¨300 for(i=t;i&lt;n;i++) s[i]=s[i-t]; for(i=0;i&lt;n;i++) c[x[i]=s[i]]++; for(i=1;i&lt;m;i++) c[i]+=c[i-1]; for(i=0;i&lt;n;i++) sa[--c[x[i]]]=i; for(k=1;k&lt;=n;k&lt;&lt;=1) { p=0; for(i=n-k;i&lt;n;i++) y[p++]=i; for(i=0;i&lt;n;i++) if(sa[i]&gt;=k) y[p++]=sa[i]-k; for(i=0;i&lt;m;i++) c[i]=0; for(i=0;i&lt;n;i++) c[x[y[i]]]++; for(i=1;i&lt;m;i++) c[i]+=c[i-1]; for(i=n-1;i&gt;=0;i--) sa[--c[x[y[i]]]]=y[i]; swap(x,y);p=1;x[sa[0]]=0; for(i=1;i&lt;n;i++) x[sa[i]]=(y[sa[i-1]]==y[sa[i]]&amp;&amp;y[sa[i-1]+k]==y[sa[i]+k])?p-1:p++; if(p&gt;=n) break; m=p; }//éƒ½æ˜¯åç¼€æ•°ç»„çš„æ¨¡æ¿ for(i=0;i&lt;n;i++) if(sa[i]&lt;t) printf(&quot;%c&quot;,s[(sa[i]+t-1)]);//ä¹Ÿå°±æ˜¯ä¸€ä¸ªåç¼€å¼€å§‹çš„å‰ä¸€ä½ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"åç¼€æ•°ç»„","slug":"åç¼€æ•°ç»„","permalink":"http://hovnySiLenCe.github.io/tags/åç¼€æ•°ç»„/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4313ã€æ–‡ç†åˆ†ç§‘ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4313-DivideSubject-Solution","date":"2019-03-27T13:52:53.000Z","updated":"2019-12-01T07:28:24.402Z","comments":true,"path":"2019/03/27/Luogu_P4313-DivideSubject-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P4313-DivideSubject-Solution/","excerpt":"","text":"é¢˜é¢å¤§æ„ï¼š$n \\times m$ çŸ©é˜µä¸Šçš„ç‚¹ï¼Œåˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ¯ä¸ªç‚¹åˆ†é…åä¼šæœ‰ä¸€ä¸ªåˆ†æ•°ï¼Œä¸Šä¸‹å·¦å³ä»¥åŠä¸­é—´ çš„äº”ä¸ªç‚¹åˆ†åˆ°ä¸€èµ·ä¼šæœ‰é¢å¤–çš„åˆ†æ•°ï¼Œå¯ä»¥æ˜¯0ï¼Œæ±‚åˆ†é…åæœ€å¤§çš„åˆ†æ•° è§£é¢˜æ€è·¯ç½‘ç»œæµæœ€å°å‰² ç½‘ç»œæµçš„æ¨¡æ¿å¹¶ä¸æ˜¯å¾ˆéš¾ï¼Œéš¾åœ¨å»ºè¾¹ è€Œå¯¹äºè¿™é“é¢˜ï¼Œå…¶å®æ˜¯ç½‘ç»œæµä¸­çš„ä¸€ç§æ ‡å‡†æ¨¡å‹å§ ä¸€ä¸ªç‚¹åˆ†åˆ°Aæˆ–Bä¸¤éƒ¨åˆ†ä¸­ï¼Œä¸åŒçš„ç‚¹ç»„åˆåœ¨ä¸€èµ·æœ‰åŠ åˆ†çš„æƒ…å†µ ç”¨ç½‘ç»œæµçš„æœ€å°å‰²åš å°±åº”è¯¥å…ˆæŠŠé—®é¢˜è½¬åŒ–ä¸€ä¸‹ï¼š æœ€ä¼˜çš„ç­”æ¡ˆå½“ç„¶æ˜¯æ‰€æœ‰åˆ†å€¼éƒ½åŠ åœ¨ä¸€èµ·å’¯ ä½†æ˜¯ï¼Œä¸€ä¸ªç‚¹ä¸å¯èƒ½åŒæ—¶å‡ºç°åœ¨ä¸¤éƒ¨åˆ†ï¼Œæ‰€ä»¥å¯¼è‡´äº†ä¸€äº›ä¸å¯èƒ½çš„æƒ…å†µ ç°åœ¨æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯å»æ‰å°½é‡å°‘çš„åˆ†æ•°ï¼ˆè¾¹æƒï¼‰ï¼Œä½¿ä¸€ä¸ªç‚¹åªèƒ½å‡ºç°åœ¨ä¸€ä¸ªéƒ¨åˆ† è¿™å°±éå¸¸ç¬¦åˆæœ€å°å‰²äº† ä¸€å¼€å§‹å¯ä»¥å…ˆè€ƒè™‘æŠŠæ¯ä¸ªç‚¹æ‹†æˆä¸¤ä¸ªç‚¹ï¼Œä¸€ä¸ªå’Œè¶…çº§æºç‚¹Sï¼Œå¦ä¸€ä¸ªå’Œè¶…çº§æ±‡ç‚¹Tç›¸è¿ åœ¨é¢˜ç›®ä¸­çš„å®é™…æ„ä¹‰å°±æ˜¯è¿™ä¸ªåŒå­¦æ˜¯å­¦æ–‡è¿˜æ˜¯å­¦ç†ï¼Œè¾¹æƒä¸º ä»–/å¥¹ çš„æ»¡æ„åº¦ï¼Œè®°å¾—åœ¨è¿™ä¸¤ä¸ªç‚¹ä¹‹é—´è¿ä¸Šä¸€æ¡è¾¹æƒä¸ºINFçš„è¾¹ï¼Œå› ä¸ºåŒä¸€ç‚¹æ˜¯ä¸èƒ½åˆ†å‰²çš„ï¼ ç„¶åå¤„ç†ç»„åˆï¼Œ å¯¹äºæ¯ä¸ªç»„åˆï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªç»“ç‚¹ï¼Œç„¶åæŠŠå®ƒå½“åšä¸€ä¸ªæ™®é€šçš„èŠ‚ç‚¹å¤„ç† 1å’Œ2æ˜¯ä¸¤ä¸ªæ™®é€šç‚¹ï¼Œä¸ºäº†è¡¨ç¤º1å’Œ2çš„ç»„åˆå…³ç³»ï¼Œå°±å¼•å…¥ç»“ç‚¹3å½“åš ä¼ª1ç»“ç‚¹ å’Œ ä¼ª2ç»“ç‚¹ï¼Œä¸ $1â€™$ å’Œ $2â€™$ è¿è¾¹ $3â€™$ ä¹ŸåšåŒæ ·çš„å¤„ç† äºæ˜¯å°±å¾—åˆ°äº†ä¸‹å›¾ ä½†æ˜¯å…¶å®å¯ä»¥å‘ç°ï¼Œè¿™é‡Œæ‹†ç‚¹æ˜¯æ²¡å¿…è¦çš„ï¼Œå› ä¸ºæ‹†å‡ºçš„ä¸¤ç‚¹è‚¯å®šä¸ä¼šè¢«å‰²å»ï¼Œä¸”å»æ‰ä¸­é—´è¿™äº›å®¹é‡ä¸º $inf$ çš„è¾¹ï¼Œå¯¹é¢˜ç›®å¹¶æ²¡æœ‰å½±å“ å› æ­¤å¯ä»¥ä¸ç”¨æ‹†ç‚¹ å»ºå›¾ä¹‹åè·‘ä¸€éDinicå°±å¥½äº† ç”±äºæˆ‘ä»¬æ±‚çš„æ˜¯æœ€å°å‰² æ‰€ä»¥ç»“æœåº”è¯¥æ˜¯Ansâ€”â€”æ‰€æœ‰æƒ…å†µçš„æ»¡æ„åº¦æ€»å’Œï¼Œå‡å»Maxflowâ€”â€”è‡³å°‘åˆ å»å¤šå°‘è¾¹ï¼Œæ‰èƒ½æ»¡è¶³ä¸€ä¸ªåŒå­¦åªèƒ½é€‰ä¸€ç§‘ Warningï¼šæ–°å»ºç»“ç‚¹å¹¶è¿è¾¹çš„æ—¶å€™ï¼Œä¸è¦å¿˜è®°ä¸å½“å‰çš„ç‚¹ç›¸è¿ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define M 200010 #define N 40010 #define Mn 110 using namespace std; int Cx[4]={1,0,0,-1};//ä¸Šä¸‹å·¦å³ int Cy[4]={0,1,-1,0}; struct node{ int to,cap; int nxt; node(int a,int b):to(a),cap(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],deep[N]; int n,m,S,T,t=1,Ans,Maxflow,Max;//Ansç´¯è®¡æ»¡æ„åº¦ä¹‹å’Œ bool p[Mn][Mn]; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void add(int x,int y,int cap) { b[++t]=node(y,cap); b[t].nxt=head[x]; head[x]=t; b[++t]=node(x,0); b[t].nxt=head[y]; head[y]=t; return; } int Cag(int x,int y)//äºŒç»´è½¬åŒ–ä¸ºä¸€ç»´ { return (x-1)*m+y; } bool BFS() { int i,cur; int to,cap; queue&lt;int&gt;p; memset(deep,0,sizeof(deep)); deep[S]=1;p.push(S); while(!p.empty()) { cur=p.front();p.pop(); for(i=head[cur];i;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;!deep[to]) { deep[to]=deep[cur]+1; p.push(to); if(to==T) return 1; } } } return 0; } int Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0; b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } int main() { int i,j,k; int to,cap,flow; int Tx,Ty; n=read();m=read(); Max=n*m;T=4*Max+1; for(i=1;i&lt;=n;i++) p[i][0]=p[i][m+1]=1; for(i=1;i&lt;=m;i++) p[0][i]=p[n+1][i]=1; for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) { Ans+=cap=read(); add(S,Cag(i,j),cap);//é€‰æ–‡ç§‘ add(Cag(i,j),Cag(i,j)+Max,INF);//è‡ªå·±çš„ä¸¤ä¸ªç»“ç‚¹ç›¸è¿ } for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) { Ans+=cap=read(); add(Cag(i,j)+Max,T,cap);//é€‰ç†ç§‘ } for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) { Ans+=cap=read(); to=Cag(i,j)+Max+Max; add(S,to,cap); add(to,Cag(i,j),INF);//åˆ«å¿˜äº†è‡ªå·± for(k=0;k&lt;4;k++)//ç»„åˆ { Tx=i+Cx[k];Ty=j+Cy[k]; if(!p[Tx][Ty]) add(to,Cag(Tx,Ty),INF); } } for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) { Ans+=cap=read(); to=Cag(i,j)+Max+Max+Max; add(to,T,cap); add(Cag(i,j)+Max,to,INF); for(k=0;k&lt;4;k++) { Tx=i+Cx[k];Ty=j+Cy[k]; if(!p[Tx][Ty]) add(Cag(Tx,Ty)+Max,to,INF); } } while(BFS()) while((flow=Dinic(S,INF))) Maxflow+=flow; printf(&quot;%d&quot;,Ans-Maxflow);//æœ€åè¿˜æ˜¯æŒºå®¹æ˜“çš„ return 0; } æ¨èé¢˜ç›®ï¼šLuogu P2057 [SHOI2007]å–„æ„çš„æŠ•ç¥¨","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"http://hovnySiLenCe.github.io/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P4987ã€å›æ–‡é¡¹é“¾ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P4987-ReverseNecklace-Solution","date":"2019-03-27T13:51:11.000Z","updated":"2019-12-01T07:28:22.044Z","comments":true,"path":"2019/03/27/Luogu_P4987-ReverseNecklace-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P4987-ReverseNecklace-Solution/","excerpt":"","text":"é¢˜é¢æ±‚ç¯ä¸­çš„é•¿åº¦ä¸ºkï¼ˆkä¸ºå¥‡æ•°ï¼‰ä¸”å›æ–‡ä¸­å¿ƒä¸åŒçš„å›æ–‡ä¸²ä¸ªæ•° æ€è·¯ï¼šåˆšå­¦manacherç®—æ³•ï¼Œå°±é€ä¸Šä¸€é“æ¨¡æ¿é¢˜ï¼Œæ­¤é¢˜æ³¨é‡å¯¹manacherç®—æ³•çš„ç†è§£ Manacherï¼Œä½†æ˜¯ä¸ç”¨æ’å…¥å…¶ä»–ç¬¦å·ï¼Œå› ä¸ºkæ˜¯å¥‡æ•°ï¼Œä¸­å¿ƒä¸€å®šåœ¨å­—ç¬¦ä¸Šä¸çŸ¥é“Manacherï¼Ÿ æ´›è°·æ—¥æŠ¥ä¸Šæœ‰è®²ï¼Œä½†æ˜¯æ¯”è¾ƒéš¾æ‡‚ï¼Œå»ºè®®ä¸ŠBç«™æ›´æ·±å…¥äº†è§£ä¸‹$\\to$ å¯ä»¥å…ˆæŠŠä»£ç æŠ„ä¸‹æ¥ï¼Œç„¶åä¸€è¾¹çœ‹è®²è§£ä¸€è¾¹ç†è§£ä»£ç å«ä¹‰ï¼Œè¿™æ ·æ›´èƒ½ç†è§£ åæ­£æˆ‘ç¬¬ä¸€éå·²ç»çœ‹è’™äº† è¡¥å……å’Œçº æ­£ï¼šå…³äºå‰å‡ ç¯‡é¢˜è§£ï¼Œä¸€äº›å°ç»†èŠ‚çº æ­£ä¸€ä¸‹ æ–‡æœ«çš„ä»£ç æ›´åŠ ç®€æ´æ˜“æ‡‚ 1ã€è¿™æ˜¯ä¸€ä¸ªç¯ï¼Œè¦åšManacherå°±åº”è¯¥æ‹†ç¯ä¸ºé“¾ï¼Œç¬¬ä¸€ç¯‡é¢˜è§£è¯´ï¼šåº”è¯¥é‡å¤å¤åˆ¶ä¸‰æ¬¡ï¼ˆæ‰©å±•ä¸ºåŸæ¥çš„ä¸‰å€ï¼‰ï¼Œä½†æ˜¯å®é™…ä¸Šä¸¤æ¬¡ï¼ˆæ‰©å±•ä¸ºåŸæ¥çš„ä¸¤å€ï¼‰å°±å¤Ÿäº† 2ã€pæ•°ç»„ï¼ˆp[i]ï¼‰è¡¨ç¤ºçš„æ˜¯ä»¥iä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²çš„åŠå¾„ï¼ˆåŒ…æ‹¬iè¿™ä¸ªå­—ç¬¦ï¼‰ï¼ŒåŸæœ¬çš„Manacherç®—æ³•å› ä¸ºåŠ å…¥çš„é¢å¤–çš„#å·ï¼Œè€Œæ˜¯p[i]è¡¨ç¤ºçš„æ˜¯å°±æ˜¯åŸæœ¬æœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦+1ï¼Œå› æ­¤æ±‚Ansçš„æ—¶å€™åº”è¯¥ç”¨p[i]-1ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬ä¸åŠ #å·äº†ï¼Œp[i]è¡¨ç¤ºçš„å°±æ˜¯ä»¥iä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²çš„åŠå¾„ï¼Œæ­¤æ—¶é•¿åº¦å°±åº”è¯¥è¡¨ç¤ºä¸ºp[i]*2-1ï¼Œæ„æ€æ˜¯åŠå¾„*2-å›æ–‡ä¸­å¿ƒé‡å¤è®¡ç®—çš„å­—ç¬¦ Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 1000010//N&lt;&lt;1è¡¨ç¤ºé•¿åº¦æ‰©å±•ä¸ºåŸæ¥çš„ä¸¤å€ using namespace std; int n,k,p[N&lt;&lt;1],ans,res; char s[N&lt;&lt;1]; void manacher()//æ ‡å‡†çš„Manacherç®—æ³•ï¼Œå°±æ˜¯æ²¡æœ‰åŠ &#39;#&#39;å·ï¼Œè€Œä¸”èµ·ç‚¹ä¸º1 { s[0]=&#39;?&#39;; s[2*n+1]=&#39;!&#39;; int id=0,mx=0;//idè¡¨ç¤ºç›®å‰æœ€é•¿å›æ–‡ä¸²çš„ä¸­å¿ƒï¼Œmxåˆ™æ˜¯å³è¾¹ç•Œ for(int i=1;i&lt;=2*n;i++) { if(i&lt;mx) p[i]=min(p[2*id-i],mx-i);//å¦‚æœä¸­å¿ƒåœ¨mxèŒƒå›´å†…ï¼Œç”¨mxå»æ›´æ–°p[i] else p[i]=1; while(s[i-p[i]]==s[i+p[i]])//ç„¶åæš´åŠ› p[i]++; if(mx&lt;i+p[i])//æ›´æ–°mxå’Œid { id=i; mx=i+p[i]; } } return; } int main() { int i; scanf(&quot;%d%d&quot;,&amp;n,&amp;k); scanf(&quot;%s&quot;,s+1); for(i=1;i&lt;=n;i++)//å¤åˆ¶ s[i+n]=s[i]; manacher();//è·‘ä¸€éManacher res=(k+1)&gt;&gt;1;//è¡¨ç¤ºèµ·å§‹çš„ä¸­å¿ƒiçš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®æ˜¯ç¬¬ä¸€ä¸ªæœ‰å¯èƒ½é•¿åº¦ä¸ºkçš„å›æ–‡ä¸²çš„ä¸­å¿ƒï¼ˆä¸²s[1-k]çš„ä¸­å¿ƒï¼‰ for(i=res;i&lt;=res+n-1;i++)//å¯¹äºæ¯ä¸€ä¸ªç‚¹éå†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ˜¯res+n-1 if(p[i]*2-1&gt;=k)//çœŸæ­£çš„é•¿åº¦åªè¦å¤§äºç­‰äºkå°±æ˜¯å¯ä»¥çš„ï¼ˆå¤§äºkçš„å¯ä»¥æŠŠä»–ç æˆkå•Š~ï¼‰ ans++; printf(&quot;%d&quot;,ans); return 0; } æ¨èé¢˜ç›®ï¼šä¸€é“æœ‰è¶£çš„é»„é¢˜ P1210 å›æ–‡æ£€æµ‹","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Manacher","slug":"Manacher","permalink":"http://hovnySiLenCe.github.io/tags/Manacher/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3866ã€[TJOI2009]æˆ˜äº‰æ¸¸æˆ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3866-[TJOI2009]WarGame-Solution","date":"2019-03-27T13:50:41.000Z","updated":"2019-12-01T07:28:27.224Z","comments":true,"path":"2019/03/27/Luogu_P3866-[TJOI2009]WarGame-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P3866-[TJOI2009]WarGame-Solution/","excerpt":"","text":"é¢˜é¢å¥½éš¾è¡¨è¿°å•Š~ åœ¨n*mçš„çŸ©é˜µä¸Šï¼Œæœ‰ä¸€äº›å¤§å…µï¼ˆä¸º0ï¼‰ï¼Œä¸€äº›ç©ºåœ°ï¼ˆä¸€ä¸ªæ­£æ•´æ•°ï¼‰ï¼Œéšœç¢ç‰©ï¼ˆ-1ï¼‰ï¼Œç°åœ¨æ‘§æ¯ä¸€äº›ç©ºåœ°ï¼Œä½¿æ‰€æœ‰å¤§å…µä¸èƒ½èµ°å‡ºçŸ©é˜µå»ï¼ˆä»£ä»·ä¸ºè¡¨ç¤ºç©ºåœ°çš„æ•´æ•°ï¼‰ï¼Œæ±‚æœ€å°ä»£ä»· æ€è·¯ï¼šç½‘ç»œæµæœ€å°å‰²â€œé˜»æ­¢â€ï¼Œâ€œæœ€å°â€ï¼Œçœ‹åˆ°è¿™æ ·çš„å­—çœ¼ï¼Œè‚¯å®šå°±è¦æƒ³åˆ°æœ€å°å‰²å•Š åœ¨äº’ç›¸èƒ½åˆ°è¾¾çš„ç‚¹ä¹‹é—´å»ºè¾¹ï¼Œå®¹é‡ä¸ºINFï¼Œå› ä¸ºâ€”â€”å®ƒä¸èƒ½ç‚¸â€¦â€¦ ç„¶åæŠŠæ¯ä¸ªç‚¹æ‹†æˆå…¥ç‚¹å’Œå‡ºç‚¹ï¼Œæ¯ä¸ªå…µæ‰€åœ¨çš„å‡ºç‚¹å’Œæºç‚¹Sç›´æ¥ç›¸è¿ï¼Œåœ¨æœ€å¤–é¢çš„ç‚¹çš„å‡ºç‚¹å’Œæ±‡ç‚¹Tç›´æ¥ç›¸è¿ æœ€åå¥—æ¨¡æ¿ï¼ŒOKäº† æœ€é‡è¦çš„è¿˜æ˜¯å»ºè¾¹ï¼Œèƒ½å¤Ÿç†è§£é¢˜ç›®çš„æ„æ€ï¼Œæƒ³å‡ºå¯¹åº”çš„ç­–ç•¥ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define M 5010 #define N 2010 #define Mn 31 using namespace std; int Cx[4]={1,0,0,-1};//é¢„å¤„ç†ç§»åŠ¨çš„æ–¹å‘ int Cy[4]={0,1,-1,0}; struct node{ int to,cap; int nxt; node(int a,int b):to(a),cap(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],deep[N],a[Mn][Mn]; int n,m,S,T,Maxflow,Max,t=1; bool p[Mn][Mn]; int read() { int s=0,p=1; char c=getchar(); while(!isdigit(c)) { if(c==&#39;-&#39;) p=-1; c=getchar(); } while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s*p; } int Cag(int x,int y) { return (x-1)*m+y; } void add(int x,int y,int cap) { b[++t]=node(y,cap); b[t].nxt=head[x]; head[x]=t; b[++t]=node(x,0); b[t].nxt=head[y]; head[y]=t; return; } void Add(int x,int y) { int Tx,Ty; for(int i=0;i&lt;4;i++) { Tx=x+Cx[i];Ty=y+Cy[i]; if(p[Tx][Ty])//è¾¹æ¡†çš„ç”¨å¤„ add(Cag(x,y)+Max,T,INF);//åœ¨çŸ©é˜µå¤–å°±å’Œæ±‡ç‚¹Tç›¸è¿ else add(Cag(x,y)+Max,Cag(Tx,Ty),INF);//å¦åˆ™å‡ºç‚¹å’Œå…¥ç‚¹ç›¸è¿ } return; } bool BFS() { int i,cur; int to,cap; queue&lt;int&gt;p; memset(deep,0,sizeof(deep)); p.push(S);deep[S]=1; while(!p.empty()) { cur=p.front();p.pop(); for(i=head[cur];i;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;!deep[to]) { deep[to]=deep[cur]+1; p.push(to); if(to==T) return 1; } } } return 0; } int Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0; b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } int main() { int i,j,flow; n=read();m=read(); Max=n*m;T=Max+Max+1;//æ±‡ç‚¹T for(i=1;i&lt;=n;i++)//è£±ä¸ªæ¡†ï¼Œæ–¹ä¾¿åˆ¤æ–­ p[i][0]=p[i][m+1]=1; for(i=1;i&lt;=m;i++) p[0][i]=p[n+1][i]=1; for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) a[i][j]=read(); for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) { if(a[i][j]==-1)//å¦‚æœæ˜¯éšœç¢å°±ä¸å»ºè¾¹ continue; if(a[i][j]==0)//å¦‚æœæ˜¯å¤§å…µå°±ä¸æºç‚¹å»ºè¾¹ï¼Œæ³¨æ„ï¼Œæ˜¯å‡ºç‚¹ï¼å¦åˆ™éƒ½è¦ä¸ºzeroäº†â€¦â€¦ add(S,Cag(i,j)+Max,INF); else//å¦‚æœæ˜¯ç©ºåœ°ï¼Œé‚£ä¹ˆåœ¨è‡ªå·±çš„å…¥ç‚¹å’Œå‡ºç‚¹ä¹‹é—´å»ºè¾¹ add(Cag(i,j),Cag(i,j)+Max,a[i][j]);//æ³¨æ„ï¼Œè¿™é‡Œçš„å®¹é‡æ˜¯a[i][j]ï¼Œå°±æ˜¯è¦ç‚¸å¤šå°‘æ¬¡ Add(i,j);//æ”¾ä¸ªå‡½æ•°é‡Œçœ‹çœ‹èƒ½ä¸èƒ½å’Œå››å‘¨ç›¸è¿ } while(BFS())//Dinicæ¨¡æ¿ while((flow=Dinic(S,INF))) Maxflow+=flow; printf(&quot;%d&quot;,Maxflow); return 0; } æ¨èé¢˜ç›®Luogu P2472 [SCOI2007]èœ¥èœ´æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†å¾ˆä¸ç›¸åŒï¼","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"http://hovnySiLenCe.github.io/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3866ã€SAC E#1 - ä¸€é“éš¾é¢˜ Tree è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3931-SAC_E#1_-_ADifficultProblem_Tree-Solution","date":"2019-03-27T13:50:41.000Z","updated":"2019-12-01T07:28:26.405Z","comments":true,"path":"2019/03/27/Luogu_P3931-SAC_E#1_-_ADifficultProblem_Tree-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P3931-SAC_E#1_-_ADifficultProblem_Tree-Solution/","excerpt":"","text":"åœ†åŸé¢˜é¢æˆ‘ç¯é¡¾å››å‘¨ï¼Œå‘ç°å¤§ä½¬ä»¬çš„å†™æ³•éƒ½å¥½é«˜ç«¯ï¼ æ¯”è¾ƒå·®åŠ²çš„æˆ‘ï¼Œåªèƒ½äº¤ä¸Šä¸€ä»½DFSçš„é¢˜è§£ æ€è·¯ï¼šDFSï¼ˆå½“ç„¶äº†ï¼Œå…¶ä»–ç®—æ³•ä¹Ÿè¡Œï¼‰è¦æƒ³åˆ‡æ–­å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è¿æ¥ å°±æ˜¯åœ¨å¶å­èŠ‚ç‚¹å’Œæ ¹èŠ‚ç‚¹ä¹‹é—´ç æ‰ä¸€æ¡è¾¹ è¿™æ˜æ˜¾å°±å¾ˆç¬¦åˆDFSçš„æ€§è´¨ï¼Œä¸€æ¡è·¯ä¸€ç›´èµ°ä¸‹å»ï¼Œé‡åˆ°åˆ†æå°±åˆ†å¼€èµ° äºæ˜¯æˆ‘ä»¬DFSæ¯ä¸€æ¡è·¯å¾„ï¼Œç„¶åæ±‚ç­”æ¡ˆ å¤æ‚åº¦ä¸ºO(n) ä½†æ˜¯â€”â€”è¿˜æ²¡å®Œï¼æˆ‘ä»¬å¯ä»¥å‘ç°DFSæœ‰ä¸‰ç§æƒ…å†µ 1ã€è¯¥èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œæ­¤æ—¶åªèƒ½åˆ å»è¿æ¥å®ƒå’Œçˆ¶èŠ‚ç‚¹çš„è¾¹ 2ã€è¯¥èŠ‚ç‚¹ä¸ºæèŠ‚ç‚¹ï¼Œæœ‰çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œéœ€è¦é€‰æ‹©æ€§çš„åˆ é™¤ 3ã€è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œåªæœ‰å­èŠ‚ç‚¹ï¼Œåªèƒ½åˆ å»è¿æ¥å®ƒå’Œå­èŠ‚ç‚¹çš„è¾¹ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f using namespace std; struct node{ int to,cost; int nxt; node(int a,int b):to(a),cost(b){ } node(){ } }b[200010]; int n,t,r; int head[100010]; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void add(int x,int y,int cost)//å»ºè¾¹ { b[++t]=node(y,cost); b[t].nxt=head[x]; head[x]=t; b[++t]=node(x,cost); b[t].nxt=head[y]; head[y]=t; return; } int Get(int k,int in) { int i; int res=0; for(i=head[k];i;i=b[i].nxt) if(i!=(in^1))//æˆå¯¹å˜æ¢åŸç†ï¼Œå¼‚æˆ–å€¼ç›¸åŒä½†æ–¹å‘ç›¸åçš„è¾¹ä¸ºä¸€ç»„ï¼Œé¿å…é‡å¤ res+=Get(b[i].to,i); if(!b[head[k]].nxt&amp;&amp;k!=r)//ç¡®å®šæ˜¯å¶å­èŠ‚ç‚¹ res=b[in].cost; else res=min(res,b[in].cost);//å¦åˆ™ä¸¤ç§æ–¹æ³•é€‰å…¶ä¸€ return res; } int main() { int i; int x,y,cost; n=read();r=read(); t=1;//åˆå§‹èµ‹1ï¼Œåˆ©äºæˆå¯¹å˜æ¢ for(i=1;i&lt;n;i++) { x=read();y=read();cost=read(); add(x,y,cost); } b[0].cost=INF;//å¯¹äºæ ¹èŠ‚ç‚¹çš„åŒé‡ä¿é™©ï¼Œé˜²æ­¢å‡ºä»€ä¹ˆå²”å­ï¼Œæ¯”å¦‚ç»“æœä¸º0 printf(&quot;%d&quot;,Get(r,0)); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"http://hovnySiLenCe.github.io/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO15FEBã€Censoring (Silver) å®¡æŸ¥(é“¶) è§£é¢˜æŠ¥å‘Š","slug":"USACO15FEB-Censoring (Silver)-Solution","date":"2019-03-27T13:50:30.000Z","updated":"2019-12-01T07:28:07.763Z","comments":true,"path":"2019/03/27/USACO15FEB-Censoring (Silver)-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/USACO15FEB-Censoring (Silver)-Solution/","excerpt":"","text":"$\\mathtt{Update\\ 2019.11.08}$ é¢˜é¢åœ¨å­—ç¬¦ä¸² $A$ ä¸­ï¼Œå¦‚æœå­—ç¬¦ä¸² $B$ æ˜¯ $A$ çš„å­ä¸²ï¼Œé‚£ä¹ˆå°±åˆ é™¤åœ¨ $A$ ä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„ $B$ï¼Œç„¶åæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä¸€ç›´é‡å¤ä¸Šè¿°æ­¥éª¤ç›´åˆ° $B$ ä¸å†æ˜¯ $A$ çš„å­ä¸² |A|$\\le 10^6$ è§£é¢˜æ€è·¯KMP+æ ˆ åˆ†æ1ã€å­—ç¬¦ä¸²åŒ¹é…çš„é—®é¢˜ï¼Œæƒ³åˆ° $KMP$ 2ã€åœ¨åŒ¹é…è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåŒ¹é…æˆåŠŸäº†ï¼Œå°±å°†å­ä¸² $B$ åˆ é™¤ï¼Œå¯ä»¥è¯æ˜ï¼Œå¯¹ä¹‹å‰ä¸ä¼šäº§ç”Ÿå½±å“ 3ã€åˆ äº†å†åŠ å…¥ï¼Œç±»ä¼¼æ ˆçš„æ“ä½œï¼Œå› æ­¤ç”¨æ ˆç»´æŠ¤ä¸Šè¿°æ“ä½œè¿‡ç¨‹ä¸­çš„å­—ä¸²å³å¯ è¿‡ç¨‹1ã€$KMP$ æ¿å­è·‘ä¸€é 2ã€åœ¨ $KMP$ è¿‡ç¨‹ä¸­ï¼ŒæŠŠéå†åˆ°çš„ $i$ï¼ˆä¸æ˜¯å­—ç¬¦ï¼Œè€Œæ˜¯ä¸‹æ ‡ï¼‰å…¥æ ˆï¼Œå½“åŒ¹é…ä¸Š $B$ æ—¶ï¼Œå°±æŠŠåŒ¹é…çš„éƒ¨åˆ†å‡ºæ ˆï¼Œç„¶å $j$ ä»æ ˆé¡¶çš„ $i$ æ‰€èƒ½åŒ¹é…åˆ°çš„æœ€å¤§çš„ä½ç½®å¼€å§‹ï¼ˆå°±æ˜¯ f[i] è®°å½•çš„å€¼ï¼‰ï¼Œç»§ç»­åš $KMP$ æ—¶é—´å¤æ‚åº¦ï¼š$B$ è‡ªèº«åŒ¹é…ä¸€æ¬¡ $+A$ ä¸ $B$ åŒ¹é…ä¸€æ¬¡$+A$ ä¸­æœ€å¤šæ¯ä¸ªå­—ç¬¦è¿›å‡ºæ ˆä¸€æ¬¡ï¼Œä¸º $O(|A|)$ Code#include&lt;bits/stdc++.h&gt; #define N 1000010 using namespace std; int la,lb,res; char a[N],b[N]; int p[N],f[N];//åˆ†åˆ«è¡¨ç¤ºBä¸²è‡ªèº«åŒ¹é…çš„ç»“æœã€Aä¸²ä¸Bä¸²åŒ¹é…çš„ç»“æœ int St[N],top; int main() { int i,j; scanf(&quot;%s&quot;,a+1); scanf(&quot;%s&quot;,b+1); la=strlen(a+1); lb=strlen(b+1); for(i=2,j=0;i&lt;=lb;i++) {//è‡ªèº«åŒ¹é… while(j&amp;&amp;b[i]!=b[j+1]) j=p[j]; if(b[i]==b[j+1]) j++; p[i]=j; } for(i=1,j=0;i&lt;=la;i++) {//Aä¸BåŒ¹é… while(j&amp;&amp;a[i]!=b[j+1]) j=p[j]; if(a[i]==b[j+1]) j++; f[i]=j;//è®°å½•ç»“æœ St[++top]=i;//å…¥æ ˆ if(j==lb)//å¦‚æœåŒ¹é…æˆåŠŸï¼Œå¼¹å‡ºï¼Œå¹¶æ›´æ–°jå€¼ top-=lb,j=f[St[top]]; } for(i=1;i&lt;=top;i++)//å¤§åŠŸç‡è¾“å‡º printf(&quot;%c&quot;,a[St[i]]); return 0; } å†æ‰”é“é¢˜ Luogu P3121 [USACO15FEB]å®¡æŸ¥ï¼ˆé»„é‡‘ï¼‰Censoring (Gold)","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"KMP","slug":"KMP","permalink":"http://hovnySiLenCe.github.io/tags/KMP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO08JANã€ç”µè¯çº¿Telephone Lines è§£é¢˜æŠ¥å‘Š","slug":"USACO08JAN-Telephone_Lines-Solution","date":"2019-03-27T13:50:25.000Z","updated":"2019-12-01T07:28:08.333Z","comments":true,"path":"2019/03/27/USACO08JAN-Telephone_Lines-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/USACO08JAN-Telephone_Lines-Solution/","excerpt":"","text":"é¢˜é¢å¤§æ„ï¼šåœ¨åŠ æƒæ— å‘å›¾ä¸Šæ±‚å‡ºä¸€æ¡ä» $1$ å·ç»“ç‚¹åˆ° $N$ å·ç»“ç‚¹çš„è·¯å¾„ï¼Œä½¿è·¯å¾„ä¸Šç¬¬ $K + 1$ å¤§çš„è¾¹æƒå°½é‡å°ã€‚ æ€è·¯ï¼šç”±äºæˆ‘ä»¬åªèƒ½ç›´æ¥æ±‚æœ€çŸ­è·¯ï¼Œä¸èƒ½è®°å½•è¿‡ç¨‹ä¸­çš„å…·ä½“çš„è¾¹â€”â€”é‚£æ ·ä¼šç‰¹åˆ«éº»çƒ¦ æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å°è¯•ç€å»æƒ³æ›´ä¼˜çš„åŠæ³• é¢˜ç›®ä¸­æ‰€è¯´ï¼Œèƒ½å¤Ÿå…å» $K$ æ¡è¾¹çš„è´¹ç”¨ï¼Œé‚£ä¹ˆå¯¹äºè¦å»ºè®¾çš„è¾¹ä¸­ï¼Œè‚¯å®šå…å»è´¹ç”¨æœ€å¤§ $K $ æ¡è¾¹æ›´ä¼˜ æˆ‘ä»¬å…³æ³¨çš„åº”è¯¥æ˜¯ç¬¬ $K+1$ å¤§è¾¹çš„è¾¹æƒï¼Œå› ä¸ºå…¶ä»–è¾¹æƒå¤§äºè¿™æ¡è¾¹è¾¹æƒçš„è¾¹éƒ½ä¼šè¢«ç•¥å» è¿™æ¡è¾¹å¯ä»¥æšä¸¾å—ï¼Ÿä¼¼ä¹ä¸è¡Œï¼Œæšä¸¾çš„å¤æ‚åº¦è¿˜è¦åœ¨æœ€çŸ­è·¯çš„åŸºç¡€ä¸Šï¼Œä¹˜ä¸Šä¸€ä¸ª $M$ ï¼Œä¸å°±TLEï¼ˆTime Limit Enoughï¼‰äº†å—â€¦â€¦ é‚£ä¹ˆâ€”â€”å¯¹äºè¿™ä¸ªè¾¹çš„è¾¹æƒï¼Œèƒ½ä¸èƒ½äºŒåˆ†å‘¢ï¼Ÿé¦–å…ˆï¼ŒäºŒåˆ†éœ€è¦æ»¡è¶³å•è°ƒæ€§ é¢˜ç›®ä¸­ï¼Œè¿™æ¡ç¬¬ $K+1$ å¤§çš„è¾¹è¾¹æƒè¶Šå°ï¼Œèƒ½å¤Ÿæ»¡è¶³çš„æƒ…å†µè¶Šå°‘ï¼Œåä¹‹äº¦ç„¶ å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†çš„æ–¹æ³•æ¥æŸ¥æ‰¾ç­”æ¡ˆ æ€ä¹ˆåˆ¤æ–­æ»¡è¶³æˆ–ä¸æ»¡è¶³å¯¹äºè¾¹æƒå¤§äº $mid$ çš„è¾¹ï¼Œæˆ‘ä»¬æ”¹å˜å®ƒçš„è¾¹æƒä¸º1ï¼Œå¦åˆ™ä¸º0ï¼Œç„¶åå†è·‘æœ€çŸ­è·¯ï¼Œè¿™æ ·å¾—å‡ºæ¥çš„ç»“æœåº”è¯¥æ˜¯ä» $1$ å·ç»“ç‚¹åˆ° $N $ å·ç»“ç‚¹è‡³å°‘è¦æœ‰å‡ æ¡å¤§äº $mid$ çš„è¾¹ï¼Œç„¶åä¸ $K$ æ¯”è¾ƒï¼Œå°äº $K$ åˆ™æ»¡è¶³ï¼Œå¦åˆ™ä¸æ»¡è¶³ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define M 10010 #define N 1010 using namespace std; struct node{ int to,cost; int nxt; node(int a,int b):to(a),cost(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],d[N],vis[N]; int n,m,res,t,ans=INF;//åˆå€¼ä¸€æ ·è¦ä¸ºINF int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void add(int x,int y,int cost)//å»ºè¾¹ï¼Œæ­£åä¸€èµ· { b[++t]=node(y,cost); b[t].nxt=head[x]; head[x]=t; b[++t]=node(x,cost); b[t].nxt=head[y]; head[y]=t; return; } bool BFS(int k)//å¥½å§ï¼Œè¿™é‡Œä¸ç®—ä¸¥æ ¼çš„æœ€çŸ­è·¯ï¼Œå› ä¸ºè¾¹æƒå˜æˆäº†0å’Œ1ï¼Œå¯ä»¥ç›´æ¥å®½æœæå®šï¼Œä½†æ˜¯ä¸‹é¢çš„ç¨‹åºï¼Œ {//æ˜æ˜æ˜¯ä¸€ä¸ªçœŸSPFAï¼Œå‡å®½æœ int i,to,cur,cost; for(i=1;i&lt;=n;i++) { d[i]=INF; vis[i]=0; } queue&lt;int&gt;p; p.push(1); vis[1]=1; d[1]=0; while(!p.empty()) { cur=p.front();p.pop(); vis[cur]=0; for(i=head[cur];i;i=b[i].nxt) { to=b[i].to; cost=d[cur]+(b[i].cost&gt;k);//å¤„ç†è¾¹æƒ if(cost&lt;d[to]) { d[to]=cost; if(!vis[to]) { vis[to]=1; p.push(to); } } } } if(d[n]&lt;=res)//åˆ¤æ–­ return 1; return 0; } int main() { int i; int x,y,cost; int l,r,mid; n=read();m=read();res=read(); l=r=0; for(i=1;i&lt;=m;i++) { x=read();y=read();cost=read(); add(x,y,cost);//å»ºè¾¹ï¼Œæ³¨æ„æ˜¯åŒå‘çš„ r=max(r,cost);//rçš„ä¸Šé™ï¼Œå¯ä»¥è‡ªå·±èµ‹ä¸º1e6ï¼Œè¿™æ˜¯é¢˜ç›®ä¸­ç»™çš„æœ€å¤§å€¼ } while(l&lt;=r) { mid=(l+r)&gt;&gt;1; if(BFS(mid))//åˆ¤æ–­ { ans=mid; r=mid-1; } else l=mid+1; } if(ans==INF)//åˆå€¼åº”è¯¥ä¸ºINFï¼Œä¸èƒ½ä¸º0ï¼Œå› ä¸ºæœ‰å¯èƒ½ç”µä¿¡å…¬å¸æ¯”è¾ƒå¤§æ–¹ï¼Œå…è´¹ä¹‹ç±»çš„â€”â€”ç»™æˆ‘å¤šå¥½ ans=-1; printf(&quot;%d&quot;,ans); return 0; } å¦å¤–æä¾›ä¸€ä¸ªæ¯”è¾ƒhighçš„è¯„æµ‹åœ¨æ´›è°·è¿‡äº†ï¼Œè¿™é‡Œä¸ä¸€å®šè¿‡å“¦ï¼","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"äºŒåˆ†","slug":"äºŒåˆ†","permalink":"http://hovnySiLenCe.github.io/tags/äºŒåˆ†/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"http://hovnySiLenCe.github.io/tags/æœ€çŸ­è·¯/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUSACO4.4ã€è¿½æŸ¥åç‰›å¥¶Pollutant Control è§£é¢˜æŠ¥å‘Š","slug":"USACO4.4-Pollutant_Control-Solution","date":"2019-03-27T13:49:25.000Z","updated":"2019-12-01T07:28:06.382Z","comments":true,"path":"2019/03/27/USACO4.4-Pollutant_Control-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/USACO4.4-Pollutant_Control-Solution/","excerpt":"","text":"$update: 2019.08.30$ é¢˜é¢æ±‚æœ€å°å‰²ï¼Œå¹¶ä¸”åœ¨æœ€å°å‰²çš„æƒ…å†µä¸‹æ±‚å‡ºæœ€å°‘è¦åˆ å»å‡ æ¡è¾¹ æ€è·¯ï¼šæœ€å°å‰² å°±æ˜¯åä¸€é—®ä¸å¤§å¥½æ±‚ æˆ–è®¸æˆ‘ä»¬è¦åœ¨æ¨¡æ¿é‡Œæ”¹æ¯”è¾ƒå›°éš¾ é‚£ä¹ˆæˆ‘ä»¬å°±æƒ³åŠæ³•åœ¨è¾¹ä¸Šåšå­¦é—® æ¯”å¦‚æˆ‘ä»¬å¯ä¸å¯ä»¥æŠŠè¾¹çš„å®¹é‡å…¨éƒ¨åŠ 1å‘¢ï¼Ÿ æœ‰äººé—®ï¼šè¿™æ ·æœ€å°å‰²ä¸å°±æ˜¯ä¸ä¸€æ ·äº†å—ï¼Ÿ ä½†æ˜¯ç»†æƒ³ä¸€ä¸‹å¯ä»¥å‘ç°ï¼šå…¶å®åœ¨åŠ 1çš„æƒ…å†µä¸‹ï¼ŒåŸæ¥çš„æœ€å°å‰²ç¡®å®å˜äº†ï¼Œä½†æ˜¯å¢å¤§äº†å¤šå°‘å°±ç­‰äºæœ€å°‘è¦åˆ å»çš„è¾¹æ•° å› ä¸ºå¯¹äºæ¯æ¡è¾¹ï¼Œå®¹é‡åˆå¤šäº†ä¸€ä¸ª1ï¼Œåœ¨æœ€å°å‰²çš„å‰æä¸‹ï¼Œè‚¯å®šæ˜¯åˆ å»è¶Šå°‘çš„è¾¹æ•°çš„æƒ…å†µæ›´ä¼˜ ä¸¾ä¸ªæ —å­ï¼š ä¸Šè¿°åˆ’å»çš„å†…å®¹éƒ½æ˜¯æœ‰ç‚¹ç‘•ç–µçš„ æ¯”å¦‚ä¸‹å›¾æƒ…å†µï¼Œå³å¯å°†è¿™ç§åšæ³• $hack$ ä¹Ÿå°±æ˜¯ï¼ŒæŠŠè¾¹çš„å®¹é‡ $+1$ ä¹‹åï¼Œä¼šå¯¹æœ€å°å‰²äº§ç”Ÿå½±å“ å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§å¯¹æœ€å°å‰²ä¸äº§ç”Ÿå½±å“ï¼Œå¹¶ä¸”å¯ä»¥è®¡ç®—å‡ºæœ€å°å‰²è¾¹æ•°çš„ä¿®æ”¹æ–¹æ³• å’Œä¸Šè¿°çš„æ–¹æ³•ä»æœ‰ä¸€ç‚¹ç›¸ä¼¼ï¼Œå¯ä»¥å°†è¾¹çš„å®¹é‡å˜æˆä¸€ä¸ª $m+1$ è¿›åˆ¶æ•°ï¼ˆ$m$ æ˜¯è¾¹æ•°ï¼‰ åä½ä¸ºåŸæ¥çš„å®¹é‡ï¼Œä¸ªä½ä¸º $1$ï¼Œè¡¨ç¤ºä¸€æ¡è¾¹çš„ä»£ä»·ï¼Œè¿™æ ·å¯ä»¥ä¸€æ¬¡æ€§æ±‚å‡ºæœ€å°å‰²å’Œæœ€å°å‰²çš„è¾¹æ•°ï¼Œ ç”±äºå˜æˆ $m+1$ è¿›åˆ¶æ•°åï¼Œå°±ç®—è¾¹æ•°å†å¤šï¼Œå¯ä¸ä¼šå¯¹æœ€å°å‰²äº§ç”Ÿå½±å“ï¼Œå› ä¸ºåä½å†³å®šçš„æ˜¯å¤§å‰æï¼Œä¸ªä½å†³å®šçš„æ˜¯ç»†èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¾¹æ•°ï¼Œä¸ä¼šå¯¹æœ€å°å‰²äº§ç”Ÿå½±å“ å¯ä»¥è¿™ä¹ˆæç«¯åœ°æƒ³ï¼Œå°±ç®—æ¯æ¡è¾¹éƒ½èµ°äº†ï¼Œå¯¹æœ€å°å‰²äº§ç”Ÿçš„å½±å“ä¹Ÿåªèƒ½å­˜åœ¨äºä¸ªä½ï¼Œä¸ä¼šè¿›ä¸€åˆ°åä½ æœ€åç­”æ¡ˆï¼Œæœ€å°å‰²å³ä¸ºè·‘ $Dinic$ å¾—å‡ºçš„ç»“æœåœ¨ $m+1$ è¿›åˆ¶ä¸‹çš„åä½ï¼Œè¾¹æ•°åˆ™ä¸ºä¸ªä½ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f #define ll long long #define M 1010 #define N 50 using namespace std; struct node{ int to,cap; int nxt; node(int a,int b):to(a),cap(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],deep[N]; int A,n,m,S,T,t=1; ll Maxflow; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void add(int x,int y,int cap) { b[++t]=node(y,cap); b[t].nxt=head[x]; head[x]=t; b[++t]=node(x,0); b[t].nxt=head[y]; head[y]=t; return; } bool BFS() { int i,cur; int to,cap; queue&lt;int&gt;p; memset(deep,0,sizeof(deep)); deep[S]=1;p.push(S); while(!p.empty()) { cur=p.front();p.pop(); for(i=head[cur];i;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;!deep[to]) { deep[to]=deep[cur]+1; p.push(to); if(to==T) return 1; } } } return 0; } ll Dinic(int k,ll flow) { if(k==T) return flow; int i,to,res; ll cap,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0; b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } int main() { int i,x,y,cap; ll flow; n=read();m=read(); S=1;T=n;A=m+1; for(i=1;i&lt;=m;i++) { x=read();y=read();cap=read(); add(x,y,cap*A+1);//å˜æˆm+1è¿›åˆ¶æ•° } while(BFS()) while((flow=Dinic(S,INF))) Maxflow+=flow; printf(&quot;%lld %lld&quot;,Maxflow/A,Maxflow%A); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æœ€å°å‰²","slug":"æœ€å°å‰²","permalink":"http://hovnySiLenCe.github.io/tags/æœ€å°å‰²/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUVA10810ã€Ultra-QuickSort è§£é¢˜æŠ¥å‘Š","slug":"UVA10810-Ultra-QuickSort-Solution","date":"2019-03-27T13:49:12.000Z","updated":"2019-12-01T07:28:05.236Z","comments":true,"path":"2019/03/27/UVA10810-Ultra-QuickSort-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/UVA10810-Ultra-QuickSort-Solution/","excerpt":"","text":"é¢˜é¢çœ‹ä¸æ‡‚ï¼Ÿï¼ å¤§æ¦‚çš„æ„æ€å°±æ˜¯ï¼šç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œç„¶åæ¯æ¬¡åªèƒ½äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œé—®æœ€å°éœ€è¦å‡ æ¬¡ä½¿åºåˆ—ä¸¥æ ¼ä¸Šå‡ ä¸æ–­è¯»å…¥nï¼Œç›´åˆ°n=0ç»“æŸ æ€è·¯ï¼šäº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œè¿™ä¸å°±ç±»ä¼¼å†’æ³¡æ’åºå—ï¼Ÿä½†æ˜¯n&lt;500000 ç®—äº†å§ï¼Œæˆ‘å›å»é¢“A+B äºæ˜¯æˆ‘ä»¬å°±å‘ç°ç”¨å†’æ³¡æ’åºç›´æ¥è®¡ç®—æ¬¡æ•°æ˜¯è¡Œä¸é€šçš„ ä½†æˆ‘ä»¬è¦çŸ¥é“ï¼š å†’æ³¡æ’åºçš„äº¤æ¢æ¬¡æ•°å°±æ˜¯åºåˆ—çš„é€†åºå¯¹æ•°ï¼ï¼ï¼ æ‰€ä»¥â€”â€”å°±ç®€å•äº†å§~ å¦‚ä½•æ±‚é€†åºå¯¹ï¼Ÿè¾ƒeasyç‰ˆçš„é€†åºå¯¹ 1ã€å½’å¹¶æ’åº æ€æƒ³æ˜¯åˆ†æ²»æ³• ä¸æ–­åˆ’åˆ†ä¸ºä¸¤å°æ®µ ç„¶åä¾æ¬¡ç”±å°åºåˆ—åˆå¹¶ä¸ºå¤§åºåˆ—ï¼ŒåŒæ—¶æ±‚å‡ºé€†åºæ•° 2ã€æ ‘çŠ¶æ•°ç»„ å› ä¸ºæ ‘çŠ¶æ•°ç»„çš„ä¿®æ”¹æŸ¥è¯¢æ˜¯logçº§çš„æ‰€ä»¥å¯ä»¥ä½¿ç”¨ï¼ˆå‰ç¼€å’Œçš„æ–¹æ³•ï¼‰ï¼Œæ²¡å­¦çš„å»ºè®®å…ˆå»å­¦ä¹ ä¸€ä¸‹ï¼Œä¸æ˜¯å¾ˆéš¾ Codeï¼š #include&lt;bits/stdc++.h&gt; #define ll long long using namespace std; struct node{ int x,i; }a[500010]; int n; int b[500010]; int f[500010]; ll ans; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void update(int x)//ä¿®æ”¹ { for(;x&lt;=n;x+=x&amp;(-x)) f[x]++; return; } ll sum(int x)//æ±‚å‰ç¼€å’Œ { ll res=0; for(;x;x-=x&amp;(-x)) res+=f[x]; return res; } bool cmp(node a,node b) { return a.x&gt;b.x; } int main() { int i,j; n=read(); while(n) { ans=0; memset(f,0,sizeof(f)); for(i=1;i&lt;=n;i++) { a[i].x=read(); a[i].i=i; } sort(a+1,a+n+1,cmp); for(i=1;i&lt;=n;i++)//å…ˆhashä¸€ä¸‹,æŒ‰æ•°å€¼ç»™å…¶æ ‡è®°ï¼Œæ–¹ä¾¿åé¢æ±‚é€†åºå¯¹ b[a[i].i]=i; for(i=1;i&lt;=n;i++) { update(b[i]);//ä¸€æ­¥ä¸€åš ans+=sum(b[i]-1); } printf(&quot;%lld\\n&quot;,ans); n=read(); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘çŠ¶æ•°ç»„/"},{"name":"å½’å¹¶æ’åº","slug":"å½’å¹¶æ’åº","permalink":"http://hovnySiLenCe.github.io/tags/å½’å¹¶æ’åº/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3395ã€è·¯éšœ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3395-Barricades-Solution","date":"2019-03-27T13:48:15.000Z","updated":"2019-12-01T07:28:28.885Z","comments":true,"path":"2019/03/27/Luogu_P3395-Barricades-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P3395-Barricades-Solution/","excerpt":"","text":"é¢˜é¢è¿™D1T1ç»™çš„å¾ˆæœ‰é¢å­ï¼ æˆ‘å±…ç„¶åšçš„æ¥ï¼ ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸Šè§’ ç„¶ån&lt;=1000 æ‰€ä»¥æœæ–­æ”¾å¼ƒDFSï¼Œé€‰æ‹©BFS æ€è·¯è¿˜æ˜¯ä¸€æ ·çš„BFS è¯æ˜ï¼šèµ°åˆ°ä¸€ä¸ªç‚¹çš„æ—¶é—´è¶Šæ—©è¶Šå¥½ï¼ˆå› ä¸ºæ—¶é—´è¶Šæ™šèƒ½èµ°åˆ°çš„ç‚¹è¶Šå°‘ï¼Œè·¯éšœå¤šäº†ï¼‰ æ‰€ä»¥ç”¨BFSï¼Œèµ°è¿‡çš„ç‚¹ä¸ç”¨å†æ¬¡èµ°ï¼Œç”¨ visæ•°ç»„è®°å½•å·²ç»æ˜¯å¦éå†è¿‡ ç„¶åä¸ºäº†é˜²æ­¢è·‘å‡ºæ£‹ç›˜å»ï¼ˆBå›çœ‹åˆ°äº†æ£‹ç›˜å¤–ç¾é“ï¼Ÿï¼ï¼‰ æˆ‘ä»¬å°±ç»™æ£‹ç›˜åŠ ä¸€ä¸ª â€˜1â€™çš„è¾¹æ¡†ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºå» ç„¶åè¿˜è¦è®°å½•ä¸€ä¸ªæ—¶é—´tã€xã€yï¼Œå¯ä»¥ç”¨ä¸€ä¸ªç»“æ„ä½“ æ„é€ ç”¨ struct node{ â€‹ int x,y,t; â€‹ node(int a,int b,int c):x(a),y(b),t(c) { } â€‹ node(){} }; node(x,y,t)//ç›´æ¥æ„é€  ä½†æ˜¯æœ¬èœè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢ç”¨ä¸¤ä¸ªqueue ä¸€ä¸ªå­˜pair(x,t)ï¼Œä¸€ä¸ªå­˜y è´´ä¸Šï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f using namespace std; int Cx[4]={1,0,0,-1};//å››ä¸ªæ–¹å‘ï¼Œå…«ä¸ªæ–¹å‘ä¹Ÿä¸€æ · int Cy[4]={0,1,-1,0};//åœ¨ä¸‹æœ‰å¼ºè¿«ç—‡ï¼Œæ‰€ä»¥ç”¨ä¸¤ä¸ªæ•°ç»„ int n,T; int x,y; int b[1010][1010]; bool vis[1010][1010]; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } bool BFS() { int i,t; int Tx,Ty; queue&lt;pair&lt;int,int&gt; &gt;px; queue&lt;int&gt;py; while(!py.empty()) px.pop(),py.pop(); px.push(make_pair(1,1)); py.push(1); vis[1][1]=1; while(!px.empty()) { x=px.front().first; t=px.front().second;px.pop(); y=py.front();py.pop(); if(x==n&amp;&amp;y==n)//æœ‰äº†è¿™å¥å°±ä¸ç”¨ç‰¹åˆ¤n=1çš„æƒ…å†µäº† return 1; for(i=0;i&lt;4;i++) { Tx=x+Cx[i]; Ty=y+Cy[i]; if(!vis[Tx][Ty]&amp;&amp;t&lt;=b[Tx][Ty]) { vis[Tx][Ty]=1; px.push(make_pair(Tx,t+1)); py.push(Ty); } } } return 0; } int main() { int i; T=read(); while(T--) { n=read(); memset(vis,0,sizeof(vis)); memset(b,INF,sizeof(b));//ä¸€å¼€å§‹èµ‹æ— ç©·å¤§æ¯”è¾ƒæ–¹ä¾¿ for(i=1;i&lt;=n;i++)//è£±æ¡† vis[i][0]=vis[0][i]=vis[n+1][i]=vis[i][n+1]=1; for(i=1;i&lt;=2*n-2;i++) { x=read();y=read(); b[x][y]=i; } if(BFS())//æ­¤å¤„çºªå¿µydkå¤§ä½¬æŠŠ&quot;Yes&quot;æ‰“æˆ&quot;YES&quot;ï¼Œæœ¬è’Ÿç‘Ÿç‘Ÿå‘æŠ– printf(&quot;Yes\\n&quot;); else printf(&quot;No\\n&quot;); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"BFS","slug":"BFS","permalink":"http://hovnySiLenCe.github.io/tags/BFS/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2508ã€[HAOI2008]åœ†ä¸Šçš„æ•´ç‚¹ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2508-[HAOI2008]CirclePoint-Solution","date":"2019-03-27T13:48:12.000Z","updated":"2019-12-01T07:28:33.116Z","comments":true,"path":"2019/03/27/Luogu_P2508-[HAOI2008]CirclePoint-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P2508-[HAOI2008]CirclePoint-Solution/","excerpt":"","text":"é¢˜é¢ç»™å®šåœ†çš„åŠå¾„ï¼Œæ±‚åœ†ä¸Šæ•´ç‚¹æ•° è¿™æ˜¯ä¸€é“å¾ˆ $Nice$ çš„æ•°å­¦é¢˜ï¼è¶…çˆ±ï¼å¥½å§ï¼Œç”±äºè¿™é“é¢˜ï¼Œæˆ‘å» $Study$ äº†ä¸€ä¸‹å¤æ•° $(complex\\ number)$ å¤æ‚çš„æ•° æœ‰å…´è¶£çš„æˆ³è¿™é‡Œï¼ï¼ï¼$\\large \\to$ è§£é¢˜æ€è·¯é«˜æ–¯ç´ æ•°çš„åŸç†ï¼Œå°†æ•´æ•°åˆ†è§£è´¨å› æ•°åï¼Œå†æŠŠæ¯ä¸ªè´¨å› æ•°åˆ†è§£æˆé«˜æ–¯ç´ æ•°ï¼Œå¯¹äºè´¨æ•° 4n+1 ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆçš„åˆ†è§£æˆé«˜æ–¯ç´ æ•°ï¼Œè€Œè´¨æ•° 4n+3 ä¸èƒ½ï¼Œå› ä¸º3æ— æ³•åˆ†è§£ä¸ºé«˜æ–¯ç´ æ•°ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªæ•°æœ‰å¥‡æ•°ä¸ª3å› å­æ—¶ï¼Œè¿™ä¸ªåœ†ä¸Šæ²¡æœ‰æ•´ç‚¹ï¼Œè€Œ3çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶ï¼Œç”±äºèƒ½åˆ†æˆä¸¤ç»„é…å¯¹ï¼Œæ‰€ä»¥æœ‰æ•´ç‚¹ï¼Œä½†3å¯¹Ansçš„å½±å“ä¸º0ï¼Œå› ä¸º $x\\times 1=x$ï¼Œå› æ­¤åªè¦ä¸å˜å°±è¡Œäº†ï¼Œå½“ç”±äº $2$ çš„é«˜æ–¯ç´ æ•°è¡¨ç¤ºä¸º 1-i $\\times$ 1+iï¼Œæ‰€ä»¥2çš„ä¸ªæ•°å¯¹Ansæ— å½±å“ å¯¹äº25å¦‚ä¸‹ï¼š \\large 25=5 \\times 5 \\large 25=(2-i)(2+i)(2-i)(2+i)æ‰€ä»¥ï¼š Left Right $\\large 1$ $\\large 1$ $\\large 2-i$ $\\large 2+i$ $\\large 2-i$ $\\large 2+i$ $\\large =3-4i$ $\\large =3+4i$ è¿™æ˜¯ä¸€ç§æƒ…å†µ$\\large (3,-4)$ Left Right $\\large 2-i$ $\\large 2-i$ $\\large 2+i$ $\\large 2+i$ $\\large =5$ $\\large =5$ è¿™æ˜¯ä¸€ç§æƒ…å†µ$\\large (5,0)$ Left Right $\\large 2+i$ $\\large 2+i$ $\\large 2+i$ $\\large 2+i$ $\\large =3+4i$ $\\large =3-4i$ è¿™æ˜¯ä¸€ç§æƒ…å†µ$\\large (3,-4)$ è€Œå¯¹äºä¸Šè¿° $\\large \\times$ $\\large 3-4i$ $\\large 5$ $\\large 3+4i$ $\\large -1$ $\\large -1+4i$ $-5$ $\\large -3-4i$ $\\large i$ $\\large 4+3i$ $\\large 5i$ $\\large -4+3i$ $\\large -i$ $\\large -4-3i$ $\\large -5i$ $\\large 4-3i$ æ‰€ä»¥ä¸€å…±æœ‰ç‚¹å¯¹12å¯¹ é‚£ä¹ˆé«˜æ–¯ç´ æ•°æ€ä¹ˆè¡¨ç¤ºç‚¹å‘¢ï¼Ÿå®ƒåªè¦ä¸€ä¸ªæ•°ï¼Œå°±å¯ä»¥è¡¨ç¤ºç‚¹çš„åæ ‡ï¼ŒRTï¼š Code#include&lt;bits/stdc++.h&gt; #define N 10000010 #define ll long long using namespace std; ll n,m,res,ans=4; ll a[N],t,T; ll p[N]; ll s[N]; bool b[N]; int main() { ll i,j; scanf(&quot;%lld&quot;,&amp;n); m=n; for(i=2;i*i&lt;=m;i++) { if(!b[i]) { a[++T]=i; if(m%i==0) { p[++t]=i; while(m%i==0) { m/=i; s[t]++; } } } for(j=1;j&lt;=T;j++) { if(a[j]*i*i*a[j]&gt;m) continue; b[a[j]*i]=1; if(i%a[j]==0) continue; } } if(m&gt;1) { p[++t]=m; s[t]=1; } for(i=1;i&lt;=t;i++) if((p[i]-1)%4==0) ans*=(2*s[i]+1); printf(&quot;%lld&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®º/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P3183ã€[HAOI2016]é£Ÿç‰©é“¾ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P3183-[HAOI2016]FoodLink-Solution","date":"2019-03-27T13:48:12.000Z","updated":"2019-12-01T07:28:30.561Z","comments":true,"path":"2019/03/27/Luogu_P3183-[HAOI2016]FoodLink-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P3183-[HAOI2016]FoodLink-Solution/","excerpt":"","text":"$\\mathtt{Update\\ 2019.11.08}$ é¢˜é¢æ±‚æœ‰å‘å›¾çš„è·¯å¾„æ•° è§£é¢˜æ€è·¯ç›´æ¥åœ¨æœ‰å‘å›¾ä¸Š $DP$ å³å¯ è¦æ³¨æ„çš„æ˜¯å•ç‹¬ä¸€ä¸ªç‚¹ä¸ç®—ä¸€æ¡é“¾ å­˜å›¾åæŠŠå…¥åº¦ä¸º $0$ ä¸”å‡ºåº¦ä¸ä¸º $0$ï¼ˆå³éå•ç‹¬ï¼‰çš„ç‚¹å…¥é˜Ÿï¼Œç±»ä¼¼æ‹“æ‰‘åœ°è·‘ä¸€ä¸ª $DP$ æ¯æ¬¡å¯¹ä¸€ä¸ªå‡ºç‚¹ $to$ æ›´æ–°ä¹‹çš„ç­”æ¡ˆ f[to]+=f[cur] å³åˆ©ç”¨åŠ æ³•åŸç†ï¼Œåˆ° $to$ ç‚¹çš„æ–¹æ¡ˆä¸ºå‘å®ƒè¿è¾¹ç‚¹çš„æ–¹æ¡ˆå’Œ å½“è¯¥å‡ºç‚¹ $to$ å…¥åº¦ä¸º $0$ æ—¶ï¼Œåˆ†æƒ…å†µè§†ä¹‹ å€˜è‹¥è¯¥å‡ºç‚¹å‡ºåº¦ä¸º0æ—¶ï¼Œç´¯åŠ ç­”æ¡ˆ ans+=f[to] å¦åˆ™å°±å…¥é˜Ÿç”¨æ¥æ›´æ–°å…¶ä»–ç‚¹ Code#include&lt;bits/stdc++.h&gt; #define rgt register #define rint rgt int #define N 100003 using namespace std; struct node{ int to,nxt; }b[N&lt;&lt;1]; int n,t,T,head[N]; int f[N],d[N],ans; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } inline void add(int x,int y) { b[++t].to=y,b[t].nxt=head[x],head[x]=t; } inline void solve() { rint i,cur,to;queue&lt;int&gt;p; for(i=1;i&lt;=n;i++)//åˆå§‹åŒ–å…¥åº¦ä¸º0çš„ç‚¹ï¼ˆä¸åŒ…æ‹¬å•ç‹¬çš„ç‚¹ï¼‰ if(!d[i]&amp;&amp;head[i])//åˆ†åˆ«åˆ¤æ–­å…¥åº¦ä¸º0å’Œæ˜¯å¦æ˜¯å•ç‹¬çš„ç‚¹ f[i]=1, p.push(i);//åˆå§‹åŒ–è·¯å¾„æ•°ï¼Œå¦åˆ™å…¨éƒ½æ˜¯0 while(!p.empty()) { cur=p.front(),p.pop(); for(i=head[cur];i;i=b[i].nxt) { to=b[i].to,d[to]--,f[to]+=f[cur]; if(d[to]==0) { if(!head[to]) ans+=f[to]; else p.push(to);//åªæœ‰å…¥åº¦ä¸º0ä¸”å‡ºåº¦ä¸ä¸º0æ—¶æ‰å…¥é˜Ÿ } } } } int main() { rint x,y;n=read(),T=read(); while(T--) x=read(),add(x,read()),d[y]++;//å…¥åº¦ solve(),printf(&quot;%d&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ‹“æ‰‘","slug":"æ‹“æ‰‘","permalink":"http://hovnySiLenCe.github.io/tags/æ‹“æ‰‘/"},{"name":"BFS","slug":"BFS","permalink":"http://hovnySiLenCe.github.io/tags/BFS/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2278ã€[HNOI2003]æ“ä½œç³»ç»Ÿ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2278-[HNOI2003]TheOperatingSystem-Solution","date":"2019-03-27T13:48:11.000Z","updated":"2019-12-01T07:28:34.812Z","comments":true,"path":"2019/03/27/Luogu_P2278-[HNOI2003]TheOperatingSystem-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P2278-[HNOI2003]TheOperatingSystem-Solution/","excerpt":"","text":"é¢˜é¢ä¸€é“æ¨¡æ‹Ÿé¢˜ï¼Œæ¨¡æ‹ŸCPUçš„å¤„ç†è¿‡ç¨‹ï¼Ÿï¼çœé€‰æ¨¡æ‹Ÿé¢˜ æ€è·¯ï¼šæ¨¡æ‹Ÿé€€ç«å¤§æ³•+ä¼˜å…ˆé˜Ÿåˆ—ä¹±æè¦æ³¨æ„çš„ç‚¹1ã€ç©ºé—²æ—¶ï¼ŒCPUè¦å¤„ç†è¿›ç¨‹ 2ã€å½“é˜Ÿåˆ—ä¸­æ²¡æœ‰è¿›ç¨‹æ—¶ï¼Œè¦å…ˆè¿›è¡Œåˆ¤æ–­ï¼Œç„¶åè®¿é—® 3ã€å½“ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹æ›¿æ¢æ‰åŸè¿›ç¨‹æ—¶ï¼ŒåŸè¿›ç¨‹å·²ç»å¤„ç†è¿‡çš„æ—¶é—´è¦å‡å» 4ã€ç»“æŸè¿›ç¨‹æ—¶è¦æ›´æ–°åé¢è¿›ç¨‹çš„æ—¶é—´ æ—¢ç„¶æ˜¯æ¨¡æ‹Ÿé¢˜ï¼Œé‚£å°±ä¸è®²å…·ä½“äº†h^ovnyï¼šæˆ‘æ‡’ Codeï¼š #include&lt;bits/stdc++.h&gt; using namespace std; struct node{ int i,S,l,p; node(int a,int b,int c,int d):i(a),S(b),l(c),p(d){ } node(){ } bool operator&lt;(const node X) const{//é‡è½½ if(p!=X.p) return p&lt;X.p; return S&gt;X.S; } }Now,cur;//Nowè¡¨ç¤ºå½“å‰å¤„ç†çš„è¿›ç¨‹ int i,S,l,p; priority_queue&lt;node&gt;P; int main() { int i; scanf(&quot;%d%d%d%d&quot;,&amp;i,&amp;S,&amp;l,&amp;p);//é¢„å…ˆè¯»å…¥ä¸€ç»„ Now=node(i,S,l,p); while(~scanf(&quot;%d%d%d%d&quot;,&amp;i,&amp;S,&amp;l,&amp;p)) { while(Now.S+Now.l&lt;=S&amp;&amp;!P.empty())//ä¸­é—´ç©ºé—²æ—¶é—´å…ˆå¤„ç†æ‰ { printf(&quot;%d %d\\n&quot;,Now.i,Now.S+Now.l); cur=P.top();P.pop(); if(cur.S&lt;Now.S+Now.l)//è®¡ç®—å½±å“ cur.l+=Now.S+Now.l-cur.S; Now=cur; } if(Now.S+Now.l&lt;=S)//å¦‚æœé˜Ÿåˆ—ç©ºäº†ï¼ŒNowå°±æ²¡æœ‰è¾“å‡º { printf(&quot;%d %d\\n&quot;,Now.i,Now.S+Now.l); Now=node(i,S,l,p); continue; } if(p&gt;Now.p)//æ›´é«˜çº§çš„ä»»åŠ¡ { Now.l=Now.l+Now.S-S; P.push(Now); Now=node(i,S,l,p); continue; } P.push(node(i,S,l,p)); } printf(&quot;%d %d\\n&quot;,Now.i,Now.S+Now.l);//é˜Ÿåˆ—ä¸­è¿˜æœ‰è¿›ç¨‹ï¼Œä½†Nowæ— æ³•è¢«æ›´æ–° while(!P.empty())//å¼¹å‡ºé˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ { cur=P.top();P.pop(); if(cur.S&lt;Now.S+Now.l)//å‰é¢è¿›ç¨‹å¯¹å½“å‰çš„å½±å“ cur.l+=Now.l+Now.S-cur.S; printf(&quot;%d %d\\n&quot;,cur.i,cur.S+cur.l); Now=cur; } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2201ã€æ•°åˆ—ç¼–è¾‘å™¨ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2201-TheArrayEditor-Solution","date":"2019-03-27T13:48:10.000Z","updated":"2019-12-01T07:28:35.644Z","comments":true,"path":"2019/03/27/Luogu_P2201-TheArrayEditor-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P2201-TheArrayEditor-Solution/","excerpt":"","text":"æ•°åˆ—ç¼–è¾‘å™¨æ€è·¯ï¼šæ€ä¹ˆè¯´é“¾è¡¨ä¹Ÿæ˜¯å¯ä»¥çš„å§ï¼Œè™½ç„¶æ¯”è¾ƒç¹ç ç„¶åæ¶‰åŠåˆ°äº†å‰ç¼€å’Œå’Œä¸€äº›ä¼˜åŒ–æ‰‹æ®µï¼ˆåº”è¯¥å¯ä»¥è¯´æ˜¯è®°å¿†åŒ–å§ï¼‰ï¼Ÿ ç”¨pè®°å½•å…‰æ ‡çš„ä½ç½® è™½ç„¶è¿™é“é¢˜çš„æ•°æ®èŒƒå›´æŒºå¤§çš„$(1~1,000,000)$ ä½†æ˜¯é¢˜ç›®ä¸­è¯´ï¼Œkä¸€å®šåœ¨pä¹‹å‰ æ‰€ä»¥å®é™…ä¸Šåªæœ‰på‰é¢çš„åºåˆ—æ˜¯æœ‰æ•ˆçš„ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ªåŠåœ¨çº¿åŠç¦»çº¿çš„ç®—æ³• ç”¨é“¾è¡¨æ¨¡æ‹Ÿæ•°åˆ— å½“ç„¶äº†ï¼Œä¸ç”¨æŒ‰ç…§é¡ºåºï¼Œæˆ‘ä»¬åªç”¨æŠŠæ•°å­—å­˜ä¸€ä¸‹ï¼Œç„¶åé¡ºåºä»€ä¹ˆçš„ä¸€åˆ‡é é“¾è¡¨è§£å†³ ç”¨ fæ•°ç»„ å­˜iç‚¹ï¼ˆè¿™é‡Œçš„iä¸æ˜¯æ•°åˆ—ä¸­çš„é¡ºåºï¼Œè€Œæ˜¯å®é™…è¯»å…¥çš„é¡ºåºï¼Œä¸‹åŒï¼Œå…·ä½“è§ä»£ç ï¼‰çš„æœ€å¤§å‰ç¼€å’Œï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥æŸ¥è¯¢ ç”¨ sæ•°ç»„ å­˜iç‚¹çš„å‰ç¼€å’Œï¼Œæ–¹ä¾¿æ›´æ–°fæ•°ç»„ ç„¶åç”¨ ordæ•°ç»„ è®°å½•ä¸€ä¸‹æ¯ä¸ªæ•°åœ¨æ•°åˆ—ä¸­çš„ç¼–å·ï¼ˆä¸æ˜¯å®é™…çš„ç¼–å·ï¼Œæœ‰ç‚¹ç±»ä¼¼hashçš„æ ·å­ï¼‰ æ¯æ¥å—ä¸€ä¸ªæ“ä½œå°±åšä¸€æ¬¡æ›´æ–° ä»£ç å¦‚ä¸‹ï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f using namespace std; struct node{ int f,t;//fè¡¨ç¤ºå‰é©±ï¼Œtè¡¨ç¤ºåç»§ï¼ˆç”±äºæœ¬èœé¸Ÿä¸å–œæ¬¢frontå’Œnextâ€¦â€¦è¯·è°…è§£~ï¼‰ int s; }b[1000010]; int T,t,p,n; int s[1000010]; int f[1000010]; int ord[1000010]; int read()//æœ‰è´Ÿæ•°ï¼Œå¿«è¯»ä¸è¦å¿˜è®°ç¬¦å·çš„é—®é¢˜ { int s=0,p=1; char c=getchar(); while(!isdigit(c)) { if(c==&#39;-&#39;) p=-1; c=getchar(); } while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s*p; } int main() { char c; T=read(); f[0]=-INF;//å› ä¸ºæœ‰è´Ÿæ•°å˜›ï¼Œæ‰€ä»¥ä¸€å¼€å§‹å‰ç¼€å’Œçš„æœ€å¤§å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæå°æ•° while(T--) { c=getchar(); while(c!=&#39;I&#39;&amp;&amp;c!=&#39;D&#39;&amp;&amp;c!=&#39;L&#39;&amp;&amp;c!=&#39;R&#39;&amp;&amp;c!=&#39;Q&#39;) c=getchar();//getchar()æ¯”è¾ƒå¿«ï¼ˆä¼˜åŒ–åè¿˜æœ‰æ›´å¿«çš„ï¼‰ï¼Œå†™c==&#39;\\n&#39;||c==&#39;\\r&#39;||c==&#39; &#39;ï¼Œå…³ç³»ä¹Ÿä¸å¤§ if(c==&#39;I&#39;) { b[++t].s=read(); b[t].f=p; b[b[p].t].f=t; b[t].t=b[p].t; b[p].t=t; s[t]=s[p]+b[t].s;//æ’å…¥èŠ‚ç‚¹ f[t]=max(f[p],s[t]);//æ›´æ–°å½“å‰çš„å‰ç¼€å’Œæœ€å¤§å€¼ p=t;//æ›´æ–°å…‰æ ‡ä½ç½® ord[++n]=p;//åŠ å…¥æœ‰ä»·å€¼çš„æ•°åˆ—ï¼Œå¹¶hashä¸€ä¸‹ç¼–å· } if(c==&#39;D&#39;) { b[b[p].t].f=b[p].f; b[b[p].f].t=b[p].t;//åˆ é™¤èŠ‚ç‚¹ p=b[p].f; n--; } if(c==&#39;L&#39;) { p=b[p].f; n--; } if(c==&#39;R&#39;) { s[b[p].t]=s[p]+b[b[p].t].s; f[b[p].t]=max(f[p],s[b[p].t]); p=b[p].t; ord[++n]=p; } if(c==&#39;Q&#39;) printf(&quot;%d\\n&quot;,f[ord[read()]]);//è¿™é‡Œå¯ä»¥å¥½å¥½ç†è§£ä¸€ä¸‹ }//å…¶å®è¿™é‡Œçš„äº”ä¸ªæ“ä½œå¯ä»¥åˆå¹¶èµ·æ¥å†™ï¼Œæ”¾åœ¨å‡½æ•°é‡Œï¼Œç„¶åå¯ä»¥è°ƒç”¨ //æ¯”å¦‚è¯´åœ¨&#39;I&#39;çš„æ“ä½œé‡Œï¼Œå¯ä»¥çœ‹æˆæ˜¯æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååœ¨å³ç§»å…‰æ ‡ä¸€ä½ è¿™ä¸¤æ­¥ //æ¯”è¾ƒæ–¹ä¾¿ï¼ˆå…¶å®ä¹Ÿæ²¡æ–¹ä¾¿å¤šå°‘ï¼‰ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P2015ã€äºŒå‰è‹¹æœæ ‘ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P2015-BinaryAppleTree-Solution","date":"2019-03-27T13:48:09.000Z","updated":"2019-12-01T07:28:36.070Z","comments":true,"path":"2019/03/27/Luogu_P2015-BinaryAppleTree-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P2015-BinaryAppleTree-Solution/","excerpt":"","text":"é¢˜é¢ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¾¹æ•°ä¸ºn $(2&lt; n\\le 100)â€‹$ï¼Œæ¯æ¡è¾¹æœ‰ä¸€ä¸ªæƒå€¼ï¼Œæ±‚å‰ªæåå‰©ä¸‹ $p(1&lt; p&lt; n)â€‹$ æ¡è¾¹ï¼Œä½¿ $p$ æ¡è¾¹çš„æƒå€¼å’Œæœ€å¤§ è¿˜çœ‹ä¸æ‡‚ï¼Ÿâ€¦â€¦ 2 5 input:5 2 output:21 \\ / 1 3 1 3 4 1 4 10 \\ / 2 3 20 1 3 5 20 èƒ½ç†è§£äº†å§ï¼ è§£é¢˜æ€è·¯æ ‘å½¢DP å¾ˆåŸºç¡€çš„ä¸€é“æ ‘å½¢DP å¯¹äºæ¯ä¸ªç‚¹ï¼Œç”¨f[k][i]è®°å½•åœ¨ä»¥kä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œå–iæ¡æçš„æœ€å¤§å€¼ Warning1ã€è¦æ³¨æ„å¶å­èŠ‚ç‚¹çš„åˆ¤æ–­ 2ã€æœ‰å¯èƒ½åªå–ä¸€ä¾§çš„å­æ ‘ Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 110 using namespace std; int b[N][5],s[N]; int n,p; int a[N][N],f[N][N]; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } void DFS(int k,int fa) { if(s[k]==1)//å¶å­èŠ‚ç‚¹ç›´æ¥è¿”å› return; int i,j; int l,r,value; l=r=0; for(i=1;i&lt;=s[k];i++)//æŠŠlå„¿å­å’Œrå„¿å­å¤„ç†å‡ºæ¥ï¼Œå…¶å®ä¸ç”¨ä¸¥æ ¼åŒºåˆ†lå’Œrï¼Œå› ä¸ºæ•ˆæœæ˜¯ä¸€æ ·çš„ if(b[k][i]!=fa) { if(!l) l=b[k][i]; else r=b[k][i]; } DFS(l,k);DFS(r,k); f[k][1]=max(a[k][l],a[k][r]);// for(i=0;i&lt;=p-2;i++)//ç”±äºé»˜è®¤è¦é€‰å·¦æå’Œå³æï¼Œæ‰€ä»¥iè¦-2 { f[k][i+2]=max(f[l][i+1]+a[k][l],f[r][i+1]+a[k][r]);//å¯èƒ½ç›´é€‰ä¸€è¾¹ for(j=0;j&lt;=i;j++)//åˆ†é…å·¦å­æ ‘å¤šå°‘ï¼Œå³å­æ ‘å»å¤šå°‘æï¼Œä¸ç”¨åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿå–æ»¡ï¼Œå› ä¸ºå–æ»¡çš„æ€»æ˜¯æœ€ä¼˜çš„ {//ä¸ä¼šå½±å“ value=f[l][j]+a[k][l]+f[r][i-j]+a[k][r]; f[k][i+2]=max(f[k][i+2],value); } } return; } int main() { int i,x,y; n=read();p=read(); for(i=1;i&lt;n;i++) { x=read(),y=read(),a[x][y]=read();//çŸ©é˜µå­˜è¾¹æƒ b[x][++s[x]]=y;b[y][++s[y]]=x;//å­˜è¾¹ï¼Œç”±äºè¾¹æ•°ä¸å¤šï¼Œç›´æ¥ç”¨é‚»æ¥è¡¨å­˜ï¼Œä¸ç”¨é“¾å¼å‰å‘æ˜Ÿ } DFS(1,0);//ä»¥1ä¸ºæ ¹éå†æ•° printf(&quot;%d&quot;,f[1][p]);//è¾“å‡ºæœ€åç»“æœ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ ‘å½¢DP","slug":"æ ‘å½¢DP","permalink":"http://hovnySiLenCe.github.io/tags/æ ‘å½¢DP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1435ã€å›æ–‡å­—ä¸² è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P1435-ReverseChar-Solution","date":"2019-03-27T13:48:07.000Z","updated":"2019-12-01T07:28:37.420Z","comments":true,"path":"2019/03/27/Luogu_P1435-ReverseChar-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P1435-ReverseChar-Solution/","excerpt":"","text":"é¢˜é¢ä¸»è¦å¤§è¡£å¤§æ„ï¼š ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚è‡³å°‘åŠ å…¥å¤šå°‘ä¸ªå­—ç¬¦æ‰èƒ½ä½¿å­—ç¬¦ä¸²å˜æˆå›æ–‡å­—ç¬¦ä¸² ä¸‹é¢å°±æ˜¯æˆ‘ä¸€æœ¬æ­£ç»çš„èƒ¡è¯´å…«é“é¢˜è§£ æ€è·¯ï¼šå¾ˆæ˜¾ç„¶ï¼Œè¿™åº”è¯¥æ˜¯ä¸€é“å…¸å‹çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é¢˜ç›® å› æ­¤ï¼Œä¸»è¦æ€æƒ³å°±æ˜¯DP æ–¹ç¨‹å¼ä¹ŸæŒºå¥½æ¨çš„ äºæ˜¯æˆ‘ä»¬å°±æ¥è®²ä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™é¢˜èƒ½ç”¨æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰æ±‚è§£ è¯æ˜ï¼šæ±‚çš„æ˜¯ä»€ä¹ˆï¼Ÿæƒ³è¦ä½¿è¿™ä¸ªå­—ç¬¦ä¸²åŠ å…¥æœ€å°‘çš„å­—ç¬¦å˜æˆä¸€ä¸ªå›æ–‡ä¸²ï¼Œé‚£ä¹ˆè‚¯å®šå°±æ˜¯è¦æ˜¯å­—ç¬¦ä¸²ä¸­ä¸èƒ½å›æ–‡çš„éƒ¨åˆ†å›æ–‡ è¯´èµ·æ¥æ¯”è¾ƒéš¾ç†è§£ï¼Œæ¯”å¦‚ï¼šAb3bdæœ€å°‘æ·»çš„å­—ç¬¦å°±æ˜¯Aå¯¹åº”çš„ä¸€ä¸ªAï¼Œæœ€ådå¯¹åº”çš„ä¸€ä¸ªd æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæœ€å°‘è¦æ·»çš„å­—ç¬¦å°±æ˜¯ä¸èƒ½åŒ¹é…çš„å­—ç¬¦æ•°=åŸå­—ç¬¦ä¸²é•¿åº¦len-æœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦ è¿™å°±å˜æˆäº†æ±‚æœ€é•¿å›æ–‡ä¸²çš„é¢˜ç›® æ€ä¹ˆæ±‚ï¼Ÿåˆç»éªŒçš„äººè‚¯å®šå°±ä¼šç”¨æœ€é•¿å…¬å…±å­åºåˆ—å»è§£ï¼Œä½†æ˜¯ä¸€äº›äººå¯èƒ½è¦é—®ä¸ºä»€ä¹ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œå°±æ¥è¯æ˜ä¸€ä¸‹ ç”±äºå›æ–‡ä¸²æ˜¯å›æ–‡çš„ï¼ˆåºŸè¯)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠåŸæ¥çš„å­—ç¬¦ä¸²åè½¬ä¸€éï¼Œæœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦è¿˜æ˜¯ä¸å˜çš„ äºæ˜¯æˆ‘ä»¬å°±å˜æˆäº†æ±‚ä¸¤ä¸²çš„å…¬å…±å­åºåˆ—çš„é•¿åº¦â€”â€”å…¶å®æ€æƒ³å°±æ˜¯å›æ–‡ä¸²æ­£ç€å’Œåç€çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯æŠ“ä½è¿™ä¸ªç‰¹æ€§ï¼Œå»æ±‚å…¬å…±ç³»åºåˆ—çš„é•¿åº¦ è½¬ç§»æ–¹ç¨‹ï¼ˆæœ€å¥½è‡ªå·±å»æ¨ä¸€ä¸‹ï¼‰ï¼š if(a[i]==b[j])//ç›®æ ‡çŠ¶æ€æ˜¯f[len][len] f[i][j]=f[i-1][j-1]+1;//è¡¨ç¤ºiï¼Œjä¸¤ä½ç½®ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±ç”±i-1ï¼Œj-1çš„çŠ¶æ€ï¼ˆæœ€ä¼˜è§£ï¼‰+1å¾—åˆ° else f[i][j]=max(f[i-1][j],f[i][j-1]);//å¦åˆ™å»æ‰iæˆ–jï¼Œè½¬ç§»æœ€ä¼˜è§£ Codeï¼š #include&lt;bits/stdc++.h&gt; #define N 1010 using namespace std; int len; char a[N],b[N]; int f[N][N]; int main() { int i,j; scanf(&quot;%s&quot;,a+1); len=strlen(a+1); for(i=1;i&lt;=len;i++) b[i]=a[len-i+1];//åè½¬ for(i=1;i&lt;=len;i++) for(j=1;j&lt;=len;j++) if(a[i]==b[j]) f[i][j]=f[i-1][j-1]+1; else f[i][j]=max(f[i-1][j],f[i][j-1]); printf(&quot;%d&quot;,len-f[len][len]);//é•¿åº¦å‡å»æœ€é•¿å›æ–‡ä¸²é•¿åº¦ return 0; } æ‹“å±•çŸ¥è¯†ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆLISï¼‰ æ¨èé¢˜ç›®ï¼ˆè¿›é˜¶ï¼Œå°±æ˜¯æ¯”è¾ƒéš¾çš„æ„æ€ï¼‰ï¼šã€æ¨¡æ¿ã€‘æœ€é•¿å…¬å…±å­åºåˆ—","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Manacher","slug":"Manacher","permalink":"http://hovnySiLenCe.github.io/tags/Manacher/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒLuogu P1210ã€å›æ–‡æ£€æµ‹ è§£é¢˜æŠ¥å‘Š","slug":"Luogu_P1210-ReverseCheck-Solution","date":"2019-03-27T13:48:06.000Z","updated":"2019-12-01T07:28:37.860Z","comments":true,"path":"2019/03/27/Luogu_P1210-ReverseCheck-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/Luogu_P1210-ReverseCheck-Solution/","excerpt":"","text":"é¢˜é¢è¿™æ˜¯ä¸€é“è¯¡å¼‚çš„é»„é¢˜ å±…ç„¶è®©ä½ æ±‚ä¸€ä¸²å§å•¦å§å•¦çš„ä¸œè¥¿ä¸­ å­—æ¯ï¼ˆå¤§å°å†™ï¼‰æœ€é•¿çš„å›æ–‡ä¸²çš„é•¿åº¦ï¼Œè¿˜è¦è¾“å‡ºå®Œæ•´çš„ä¸² åè¡€ æ€è·¯ï¼šä¿æŒæ·¡å®šï¼Œæˆ‘ä»¬å•¥éƒ½ä¸ä¼šï¼Œå°±ä¼šManacherï¼Œé‚£å°±ç”¨Manacherå¤§æ³•ï¼ 1ã€æŠŠå­—ç¬¦ä¸²å¤„ç†æˆåªæœ‰å­—æ¯ï¼ˆå»çš®ï¼‰ 2ã€æŠŠå­—ç¬¦ä¸²ä¸­æ’å…¥#å·ï¼ˆæºå‡ï¼‰ 3ã€Manacherè·‘ä¸€è·‘æœ€é•¿å›æ–‡ä¸²é•¿åº¦ï¼ˆå¸‚åœºæ£€æŸ¥ï¼‰ 4ã€æ±‚å‡ºæœ€é•¿é•¿åº¦åå†é‡æ–°ä»£å…¥åŸæ¥çš„å­—ç¬¦ä¸²ï¼ˆæ‰“å›åŸå½¢ï¼å¦–å­½ï¼ï¼‰ ç„¶åï¼Œå°±å®Œäº†~ å°±æ˜¯å»çš®çš„æ—¶å€™ï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹å­—ç¬¦çš„ä½ç½®ï¼Œè¿™æ ·é‡æ–°ä»£å…¥æ—¶å°±æ¯”è¾ƒæ–¹ä¾¿ å¹¶ä¸”ç”±äºå­—ç¬¦ä¸²æœ‰å¾ˆå¤šè¡Œï¼Œè¯»å…¥æ—¶å°±è¦ç”¨getchar()ï¼Œç›´åˆ°EOFä¸ºæ­¢ ä¼¼ä¹Noip2018æ™®åŠT1æœ‰äººå› ä¸ºè¿™ä¸ªWAï¼Ÿ Codeï¼š #include&lt;bits/stdc++.h&gt; #define M 20010 using namespace std; struct node{ char c; int id; }a[M&lt;&lt;1]; char st[M],s[M&lt;&lt;1]; int l1,l2,len,ans,res; int p[M&lt;&lt;1]; bool check(char c) { return (c&gt;=&#39;a&#39;&amp;&amp;c&lt;=&#39;z&#39;)||(c&gt;=&#39;A&#39;&amp;&amp;c&lt;=&#39;Z&#39;); } void init() { int i; for(i=0;i&lt;l1;i++) if(check(st[i])) { a[l2].c=(st[i]&gt;=&#39;a&#39;&amp;&amp;st[i]&lt;=&#39;z&#39;)? st[i]:st[i]-&#39;A&#39;+&#39;a&#39;; a[l2++].id=i;//è®°å½•ç¼–å·ï¼ˆä½ç½®ï¼‰ } s[0]=&#39;!&#39;; s[1]=&#39;#&#39;; for(i=0;i&lt;l2;i++) { s[i*2+2]=a[i].c; s[i*2+3]=&#39;#&#39;; } len=l2*2+2; s[len]=&#39;?&#39;; return; } void manacher()//å¤§æ³•ä¸è§£é‡Š { int id=0,mx=0; for(int i=0;i&lt;len;i++) { if(i&lt;mx) p[i]=min(p[id*2-i],mx-i); else p[i]=1; while(s[i-p[i]]==s[i+p[i]]) p[i]++; if(i+p[i]&gt;mx) { id=i; mx=i+p[i]; } } return; } void Print(int l,int r) { if(l&amp;1)//ç”±æ‰©å±•åçš„sæ•°ç»„å˜å›aæ•°ç»„ l=(l-3)/2; else l=(l-2)/2; if(r&amp;1) r=(r-3)/2; else r=(r-2)/2; for(int k=a[l].id;k&lt;=a[r].id;k++) printf(&quot;%c&quot;,st[k]); return; } int main() { int i; char c=getchar();//è¯»å…¥ while(c!=EOF) { st[l1++]=c; c=getchar(); } init();//åˆå§‹åŒ– manacher();//å¤§æ³• for(i=0;i&lt;len;i++)//æ±‚æœ€é•¿ ans=max(ans,p[i]); for(i=0;i&lt;len;i++)//æ±‚ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® if(p[i]==ans) break; ans--; printf(&quot;%d\\n&quot;,ans); Print(i-ans+1,i+ans-1);//é‡æ–°ä»£å…¥ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"Manacher","slug":"Manacher","permalink":"http://hovnySiLenCe.github.io/tags/Manacher/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF86Dã€Powerful array è§£é¢˜æŠ¥å‘Š","slug":"CF86D-Powerful_array-Solution","date":"2019-03-27T13:48:05.000Z","updated":"2019-12-01T07:28:38.822Z","comments":true,"path":"2019/03/27/CF86D-Powerful_array-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/CF86D-Powerful_array-Solution/","excerpt":"","text":"é¢˜é¢ç»™å‡ºä¸€ä¸ª$n$ä¸ªæ•°ç»„æˆçš„æ•°åˆ—$a$ï¼Œæœ‰$t$æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸ºä¸€ä¸ª$[l,r]$çš„åŒºé—´ï¼Œæ±‚åŒºé—´å†…æ¯ç§æ•°å­—å‡ºç°æ¬¡æ•°çš„å¹³æ–¹Ã—æ•°å­—çš„å€¼ çš„å’Œ æ€è·¯ï¼šç›´æ¥ä¸Šè«é˜Ÿå’¯ ç„¶åå°±Täº†æ²¡å­¦è¿‡è«é˜Ÿï¼Ÿï¼æˆ‘ä¹Ÿæ²¡åŠæ³• è¿™é“é¢˜çš„æ•°æ®èŒƒå›´åœ¨$2e5$çš„çº§åˆ«ï¼Œæœ‰äººä¼šé—®è«é˜Ÿè‚¯å®šè¦ç‚¸å•Š æ~ æ—¶é™5000msï¼Œé‚£å°±å¯ä»¥ä¹±æäº†ä½†æ˜¯ï¼è¿˜æ˜¯è¦åŠ ä¸€äº›ä¼˜åŒ– å¦‚ä½•ä¼˜åŒ–ï¼Ÿ1.å¯¹äºç®—æ³•æœ¬èº«çš„ä¼˜åŒ– ç”±äºè«é˜Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå—çŠ¶æš´åŠ›çš„ç®—æ³•ï¼Œå°±æ˜¯æŠŠåŒºé—´åˆ’åˆ†ä¸º$\\sqrt n$å—ç„¶ååœ¨å—å†…æš´åŠ›ï¼ˆåˆ°å¤´è¿˜æ˜¯æš´åŠ›ï¼‰ æˆ‘ä»¬å¯ä»¥æŠŠè¦æŸ¥è¯¢çš„åŒºé—´å½“åšç‚¹è¡¨ç¤ºåœ¨å¹³é¢ç›´è§’åæ ‡ç³»ä¸Šï¼ŒRTï¼š å°±åƒè¿™æ ·æŠŠè¯¢é—®æ”¾åœ¨å¹³é¢ç›´è§’åæ ‡ç³»ä¸Šï¼Œ$\\large x$è½´ä¸ºè¯¢é—®è¯¥åŒºé—´çš„é¡ºåºï¼Œ$\\large y$è½´è¡¨ç¤ºè¯¥åŒºé—´çš„å³ç«¯ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬å¿½ç•¥åŒºé—´çš„$L$å€¼çš„å½±å“ï¼Œä¸éš¾çœ‹å‡ºï¼Œè™½ç„¶æˆ‘ä»¬å·²ç»æŠŠåŒºé—´åˆ’åˆ†åœ¨ä¸€ä¸ªå—é‡Œäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šå†—ä½™çš„æ“ä½œï¼Œå¦‚æœè¦æ˜¯è¿™äº›å†—ä½™çš„æ“ä½œå°‘ä¸€ç‚¹å°±å¥½äº†ï¼Œè¿™å½“ç„¶å¯ä»¥å•¦ï¼ æˆ‘ä»¬å¯ä»¥è®©å—å†…çš„åŒºé—´æŒ‰$\\large R$ é€’å¢ï¼Œè¿™æ ·èƒ½çœå¾ˆå¤šæ—¶é—´ï¼Œä½†æ˜¯åœ¨åŒºé—´è¿‡æ¸¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¼šåšå¾ˆå¤šå¤šä½™çš„æ“ä½œï¼Œå› ä¸ºåŒºé—´éƒ½æ˜¯é€’å¢çš„ï¼Œè¿™æ ·æ”¹å˜å—çš„æ—¶å€™å°±å¯èƒ½æœ‰ä¸€ä¸ªå¾ˆå¤§çš„è½å·®ï¼Œå°±æ‰äº†ä¸‹å»ï¼Œå¯ä»¥è‡ªå·±æƒ³è±¡ä¸€ä¸‹ ä¸ºäº†é¿å…ä¸Šè¿°çš„ç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è®©åŒºé—´åƒä¸€ä¸ªæ³¢æµªä¸€æ ·ï¼Œè¿™æ ·å°±å¾ˆé«˜æ•ˆäº†ï¼Œè¿™æ ·çš„åˆ’åˆ†æ–¹å¼å«åšå¥‡å¶åˆ’åˆ†åº”è¯¥æ˜¯è¿™ä¹ˆå«çš„å§ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å¥‡å¶æ€§å‰ªæ inline bool cmp(node a,node b){//ä»£ç æ˜¯å…³é”®ï¼Œè®²äº†å•¥ä¸é‡è¦(æ‰‹åŠ¨åˆ’çº¿) return (pos[a.l]==pos[b.l])?(pos[a.l]&amp;1)?a.r&lt;b.r:a.r&gt;b.r : a.l&lt;b.l; }//åƒä¸‡ä¸è¦å†™ifï¼Œä¼šTï¼ æ¥ç€å°±æ˜¯å—çš„å¤§å°ï¼ŒåŒæ ·å½±å“é€Ÿåº¦ï¼Œä¸€èˆ¬æ™®é€šçš„å—çš„å¤§å°åº”è¯¥æ˜¯$\\large \\sqrt n$ï¼Œä½†æ˜¯ï¼Œæ ¹æ®æŸå¥†ä½¬ç ”ç©¶ï¼Œå¤§å°ä¸º$\\large n^{0.54}$æ—¶æ›´å¿«ï¼ŒOrz 2.å¯¹äºç¨‹åºæœ¬èº«ä¼˜åŒ–ï¼Œè¯´äººè¯å°±æ˜¯å¡å¡å¸¸ æ¯”å¦‚ï¼š åŠ ç‚¹register éé€’å½’å‡½æ•°å‰åŠ ä¸ªinline ä¸ç”¨å¿«è¯»ç”¨fread è¿˜æœ‰ï¼ä¹˜æ³•å˜åŠ æ³•â€¦â€¦ ç„¶åå°±æŠŠæœ€å¤§æ—¶é—´å¡åˆ°äº†622ms å•Šå“ˆå“ˆå“ˆå“ˆå“ˆ Codeï¼š #include&lt;bits/stdc++.h&gt; #define getchar() *(p++)//åœ¨å¿«è¯»åŸºç¡€ä¸Šæ”¹ä¸€ç‚¹å°±è¡Œäº† #define Re register//å¡å¸¸å¿…å¤‡ #define ll long long #define M 1000010 #define N 200010 using namespace std; struct node{ int l,r,i; }b[N];//sumæ˜¯æ•°çš„å¤šå°‘ï¼Œposè¡¨ç¤ºåœ¨å“ªå— int a[N],pos[N],n,m,sum[M],l,r,block; ll Ans[N],ans; char bf[1&lt;&lt;25],*p; int read(){ Re int s=0; Re char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } inline bool cmp(node a,node b){//å¥‡å¶åˆ’åˆ† return (pos[a.l]==pos[b.l])?(pos[a.l]&amp;1)?a.r&lt;b.r:a.r&gt;b.r : a.l&lt;b.l; }//æ³¨æ„ï¼Œè¿™é‡Œä¸è¦å†™ifè¯­å¥ï¼Œä¼šT inline void Add(Re ll x) { sum[x]++;//æœ‰äº›äººå†™åœ¨å‰é¢ï¼Œé‚£æ ·çš„è¯å°±åº”è¯¥æ˜¯+1 ans+=(sum[x]+sum[x]-1)*x;//å°±æ˜¯ç”±åŸæ¥çš„ä¹˜å˜æˆäº†åŠ ï¼Œæ‰‹ç®—ä¸€å°éƒ¨åˆ†ä¹Ÿæ²¡æœ‰å…³ç³»å•¦ } inline void Del(Re ll x) { ans-=(sum[x]+sum[x]-1)*x;//è¿™é‡Œå’Œä¸Šé¢ä¹Ÿæ˜¯ä¸€æ ·çš„ sum[x]--;//ä¸ºä»€ä¹ˆæˆ‘æ„Ÿè§‰ä¸Šé¢-1ä¼šæ›´æ…¢å‘¢~ } int main() { Re int i; bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;;p=bf;//freadå¤§æ³• n=read();m=read();block=pow(n,0.54);//ç¥å¥‡çš„å—çš„å¤§å° for(i=1;i&lt;=n;i++) a[i]=read(),pos[i]=i/block; for(i=1;i&lt;=m;i++) b[i].l=read(),b[i].r=read(),b[i].i=i; sort(b+1,b+1+m,cmp);l=1; for(i=1;i&lt;=m;i++)//ç„¶åä¸Šè«é˜Ÿ { while(r&lt;b[i].r) Add(a[++r]); while(r&gt;b[i].r) Del(a[r--]); while(l&lt;b[i].l) Del(a[l++]); while(l&gt;b[i].l) Add(a[--l]); Ans[b[i].i]=ans; } for(i=1;i&lt;=m;i++) printf(&quot;%lld\\n&quot;,Ans[i]); return 0; } å†è¯´ä¸€éæœ€åæ³¨æ„ï¼Œsortçš„æ—¶å€™ï¼Œå¦‚æœæ•°ç»„æœ¬æ¥å°±æœ‰åºäº†ï¼Œsortä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥åƒä¸‡ä¸è¦åœ¨é‡Œé¢åŠ ifäº†ï¼Œå®¹æ˜“T","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"è«é˜Ÿ","slug":"è«é˜Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/è«é˜Ÿ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF656Bã€Scrambled è§£é¢˜æŠ¥å‘Š","slug":"CF656B-Scrambled-Solution","date":"2019-03-27T13:48:01.000Z","updated":"2019-12-01T07:28:39.692Z","comments":true,"path":"2019/03/27/CF656B-Scrambled-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/CF656B-Scrambled-Solution/","excerpt":"","text":"å’³å’³~è¿™â€¦â€¦ä¸æ˜¯ä¸€é“æ¶æ„è¯„åˆ†é¢˜ï¼Ÿ å…¶å®è¿™ä¹Ÿæ˜¯ä¸€ç¯‡ä¸æ­£å„¿å…«ç»çš„é¢˜è§£è¿™ä¸æ˜¯ä¸€ç¯‡ç§‘æ™®æ–‡å—ï¼Ÿï¼ å¥½å§ï¼Œé¦–å…ˆæ•°æ®éƒ½å¾ˆå°ï¼Œç«‹é©¬æƒ³åˆ°æš´åŠ› é‚£ä¹ˆï¼Œæ€ä¹ˆæš´åŠ›å‘¢ï¼Ÿ/æ‘¸ä¸‹å·´ å…ˆçœ‹é¢˜ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚å¾ˆå°â€”â€”ä¹Ÿå°±æ˜¯$10^{-4}$ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥çŒ¥çé±¼å°¾ ä¸ºæ‰€æ¬²ä¸º ç”¨å„ç§ç¥å¥‡çš„æ–¹æ³•æ±‚è§£ ä½œä¸ºä¸€åä½å­¦å†çš„OIerï¼Œæˆ‘æƒ³å¼•ç”¨åˆä¸­æ•°å­¦å…«ä¸Šï¼Ÿå…«ä¸‹ï¼Ÿçš„å†…å®¹â€”â€”ç”¨é¢‘æ•°ä¼°è®¡é¢‘ç‡ è¿˜è®°å¾—é‚£ä¸ªæŠ›ç¡¬å¸çš„å®éªŒå—ï¼Ÿ å®è·µå‡ºçœŸçŸ¥å¯æ˜¯å°å¹³çˆ·çˆ·è¯´çš„ï¼ ç§‰æ‰¿ç€ä¼˜è‰¯çš„ä¼ ç»Ÿï¼Œæˆ‘ä»¬å°±æ¥ æšä¸¾å§ï¼æšä¸¾ä»å½“å‰å¾€å1,000,000ï¼ˆåˆ«æ•°äº†ï¼Œåä¸‡ï¼Œä¸€ç™¾ä¸‡~ï¼‰å¤©åŒ…æ‹¬å½“å‰å¤©,æ‰€ä»¥å¾ªç¯å†™ï¼ˆå…¶å®é—®é¢˜ä¹Ÿä¸å¤§ï¼‰ i = 0 to Max-1 æˆ‘è¯ä¸å¤šï¼Œä¸Šä»£ç  #include&lt;bits/stdc++.h&gt; #define Max 1000000 using namespace std; int n; int a[20]; int b[20]; int ans; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } int main() { int i,j; n=read(); for(i=1;i&lt;=n;i++) a[i]=read(); for(i=1;i&lt;=n;i++) b[i]=read(); for(j=0;j&lt;Max;j++)//å®è·µå‡ºçœŸçŸ¥ï¼ for(i=1;i&lt;=n;i++) if(j%a[i]==b[i]) { ans++; break; } printf(&quot;%lf&quot;,ans/1000000.0);//å°±è¿™æ ·~~æ°´äº†~~è¿‡å»ï¼Ÿï¼ return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æš´åŠ›","slug":"æš´åŠ›","permalink":"http://hovnySiLenCe.github.io/tags/æš´åŠ›/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF1102Fã€Elongated Matrix è§£é¢˜æŠ¥å‘Š","slug":"CF1102F-Elongated_Matrix-Solution","date":"2019-03-27T13:48:00.000Z","updated":"2019-12-01T07:28:41.502Z","comments":true,"path":"2019/03/27/CF1102F-Elongated_Matrix-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/CF1102F-Elongated_Matrix-Solution/","excerpt":"","text":"é¢˜é¢ç»™å‡º$n*m$ä¸ªçŸ©é˜µï¼Œä»ç¬¬ä¸€åˆ—å¼€å§‹ï¼Œä¸€åˆ—ä¸€åˆ—è®¿é—®å…ƒç´ ï¼Œä¾æ¬¡è®°å…ƒç´ ä¸º$S1,S_2,â€¦S{nm}$ï¼Œåˆ™$k$çš„ä»·å€¼ä¸ºç›¸é‚»ä¸¤ä¸ªå…ƒç´ å·®çš„ç»å¯¹å€¼çš„æœ€å°å€¼ï¼Œå³$k=min{|S1 - S_2|,|S_2 - S_3|,â€¦,|S{nm-1} - S_{nm}|}$ ç°åœ¨å¯ä»¥æ”¹å˜ä»»æ„è¡Œçš„é¡ºåºï¼Œæ±‚$k$çš„æœ€å¤§å€¼ è§£é¢˜æ€è·¯æ­£è§£åº”è¯¥æ˜¯çŠ¶å‹DP ä½†æ˜¯ä»¥ä¸‹è®²çš„æ˜¯å¦ä¸€ç§ç„å­¦åšæ³•â€”â€”æœç´¢ å½“ç„¶å•¦~ï¼Œç›´æ¥çˆ†æœæ˜¯ä¸è¡Œçš„ï¼Œåœ¨ä¸€åˆ‡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç ”ç©¶ä¸€ä¸‹é¢˜ç›® ç„¶ååšä¸€äº›é¢„å¤„ç† æ¯”å¦‚ï¼š 1ã€æ”¹å˜çš„æ˜¯è¡Œçš„é¡ºåºï¼Œå› æ­¤ä»»æ„ä¸¤è¡Œä¹‹é—´çš„æœ€å°å·®å€¼å¯ä»¥é¢„å…ˆæ±‚å‡ºæ¥ 9 9 10 8 $\\large \\color{red}5$ $\\large \\color{red}3$ $\\large \\color{red}4$ $\\large \\color{red}3$ å›¾ä¸­ä¸¤è¡Œçš„å·®å€¼å°±æ˜¯ $0$ å§ï¼Œç„¶åç±»ä¼¼å¤„ç†å…¶ä»–è¡Œ å°±æ˜¯å…ˆæŠŠä¸€äº›å›ºå®šçš„å€¼å¤„ç†å‡ºæ¥ 2ã€å¯ä»¥æŠŠä¸¤è¡Œåˆ†åˆ«åœ¨å¤´å°¾çš„ä»£ä»·å¤„ç†å‡ºæ¥ 5 $\\large \\color{red}3$ 9 9 10 8 $\\large \\color{red}4$ 3 è¿™é‡Œçš„é¡ºåºå’Œå…ˆå‰ä¸ä¸€æ ·æ˜¯æƒ³è¯´æ˜è¡Œçš„é¡ºåºæ˜¯å¯ä»¥æ”¹å˜çš„ï¼è¿™æ—¶è¦å¤„ç†çš„æ¯”è¾ƒç‰¹æ®Šï¼Œæƒ³è±¡ä¸€ä¸‹è½¬æ¢æˆä¸€æ¡é“¾åï¼Œæ ‡çº¢çš„æ˜¯ç›¸é‚»çš„ï¼Œæˆ‘ä»¬ä¹Ÿä¾æ¬¡æŠŠè¿™æ ·çš„å·®å€¼å¤„ç†å‡ºæ¥ é¢„å¤„ç†å®Œå åŸæœ¬å’Œ $m$ æœ‰å…³çš„æ•°æ®å°±åªå’Œ $n$ æœ‰å…³äº†ï¼Œè€Œ $n$ çš„èŒƒå›´æœ‰é‚£ä¹ˆå°ï¼Œäºæ˜¯å¼€å§‹ä¹±æ ç„¶åæˆ‘ä»¬å°±æœç´¢ï¼Œæšä¸¾ $n$ çš„å…¨æ’åˆ— å½“ç„¶è¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œä¸ç‚¸å°±æ€ªï¼Œè‚¯å®šè¦åŠ å‰ªæ ç„¶åå°±åŠ â€”â€”æœ€ä¼˜æ€§å‰ªæ å…¶å®æˆ‘æ²¡å­¦è¿‡æ·±æœçš„ä¼˜åŒ–æŠ€å·§ å¹¶ä¸”åŠ å…¥ä¸€ä¸ªçº¿æ®µæ ‘çš„ $lowbit$ æ“ä½œï¼Œå·®ä¸å¤šå°±æŒºå¿«çš„äº† å…¶å®å¤§è‡´ç®—ä¸€ä¸‹ï¼š 16!=20\\ 9227\\ 8988\\ 8000ä¹Ÿä¸å¤šå•¦~ åŠ äº†ä¼˜åŒ–ä¹‹åï¼Œæœ‰å¾ˆå¤§çš„å‡å°‘çš„ å…ˆä¸Šä»£ç ï¼Œæ³¨é‡Šæ‰çš„è¯»ä¼˜ä¸ç”¨ç®¡ Codeï¼š #include&lt;bits/stdc++.h&gt; #define INF 0x7f7f7f7f //#define getchar() *(pos++) #define N 20 #define M 10010 using namespace std; struct node{ int to,nxt,cost; node(int a,int b):to(a),cost(b){ } node(){ } }b[M&lt;&lt;1]; int head[N],n,m,a[N][M],s[N][N],p[N][N],res,ans,bef,Total; int f[1&lt;&lt;20][20],C[100010]; //char bf[1&lt;&lt;25],*pos; //int read(){int s=0;char c=getchar(); // while(!isdigit(c))c=getchar(); // while(isdigit(c)){s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;;c=getchar();} // return s; //} void DFS(int k,int res,int t,int last) {//kè¡¨ç¤ºåš if(res&lt;=ans) return;//ansè¡¨ç¤ºç›®å‰çš„æœ€å¤§å€¼ if(k==n){ ans=max(ans,min(res,p[bef][last])); return; } int cur=Total-t,j; while(cur){//æ ‘çŠ¶æ•°ç»„çš„lowbit j=C[cur&amp;(-cur)];//å¯¹åº”åˆ°å›åŸæ¥çš„ç¼–å·-1ï¼Œå› ä¸ºç¬¬ä¸€ä½ 1=2^0 if(s[last][j+1]&gt;ans) DFS(k+1,min(res,s[last][j+1]),t|(1&lt;&lt;j),j+1); cur-=cur&amp;(-cur); } } int main() { int i,j,k; // bf[fread(bf,1,1&lt;&lt;25,stdin)]=&#39;\\0&#39;,pos=bf; n=read();m=read();k=1; for(i=0;i&lt;=16;i++)//2^kå¯¹åº”åˆ°kï¼Œæ–¹ä¾¿åé¢çŸ¥é“æ˜¯å“ªä¸€ä½ C[k]=i,k&lt;&lt;=1; for(i=1;i&lt;=n;i++) for(j=1;j&lt;=m;j++) a[i][j]=read(); for(i=1;i&lt;=n;i++)//é¢„å¤„ç† ç¬¬1æ¡ for(j=1;j&lt;i;j++) { res=INF; for(k=1;k&lt;=m;k++) res=min(res,abs(a[i][k]-a[j][k])); s[i][j]=s[j][i]=res; } for(i=1;i&lt;=n;i++)//é¢„å¤„ç† ç¬¬äºŒæ¡ for(j=1;j&lt;=n;j++) { res=INF; for(k=1;k&lt;m;k++) res=min(res,abs(a[i][k+1]-a[j][k])); p[i][j]=res; } if(n==1){printf(&quot;%d&quot;,p[1][1]);return 0;}//è¿™ç§æƒ…å†µä¸ç‰¹åˆ¤ä¹Ÿæ²¡å…³ç³» Total=(1&lt;&lt;n)-1;//ç”¨äºDFSä¸­å–åæ“ä½œï¼Œæ˜¯æˆ‘å¤ªèœäº†ï¼Œåªä¼šè¿™ç§æ–¹æ³• for(i=1;i&lt;=n;i++)//befè¡¨ç¤ºè®°å½•é¦–è¡Œï¼Œæ–¹ä¾¿æœ€ååˆ¤æ–­ bef=i,DFS(1,INF,1&lt;&lt;(i-1),i); printf(&quot;%d&quot;,ans); return 0; } å…³äºæ—¶é—´å¤æ‚åº¦-&gt;Sinner è¿™ä½å¤§ä½¬è¯´ï¼šæ—¶é—´å¤æ‚åº¦æ˜¯ä¸æ­£ç¡®çš„ï¼ æˆ‘ï¼ˆç‘Ÿç‘Ÿå‘æŠ–ï¼‰ï¼šæ ¹æ®ç„å­¦ï¼Œè·‘å¾—è¶…å¿«çš„ï¼Œå› ä¸ºä¸¤è¡Œä¹‹é—´çš„æœ€å°å€¼æ¯”è¾ƒéš¾å¡ï¼Œæ‰€ä»¥æ—¶é—´è¿˜æ˜¯æ¯”è¾ƒç¨³å®šçš„æˆ‘ä»¬ä¸æ˜¯ç†è®ºæ´¾ å¥½å§ï¼Œæ­¤ä»½é¢˜è§£ä»…ä¾›å‚è€ƒ","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çŠ¶å‹DP","slug":"çŠ¶å‹DP","permalink":"http://hovnySiLenCe.github.io/tags/çŠ¶å‹DP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF1082Cã€Multi-Subject Competition è§£é¢˜æŠ¥å‘Š","slug":"CF1082C-Multi-Subject_Competition-Solution","date":"2019-03-27T13:15:00.000Z","updated":"2019-12-01T07:28:41.984Z","comments":true,"path":"2019/03/27/CF1082C-Multi-Subject_Competition-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/27/CF1082C-Multi-Subject_Competition-Solution/","excerpt":"","text":"äººç”Ÿç¬¬ä¸€ç¯‡é¢˜è§£ï¼Œè™½ç„¶è¿™é“é¢˜åšçš„äººæš‚æ—¶ä¸å¤šï¼Œä½†æˆ‘ç›¸ä¿¡å®ƒâ€”â€”è¿Ÿæ—©æœ‰ä¸€å¤©ä¼šå‘æ‰¬å…‰å¤§çš„ï¼ï¼ï¼è¯´å®ŒåºŸè¯æ­¥å…¥æ­£é¢˜ é¢˜æ„ï¼šä¼ é€é—¨æ€è·¯ï¼šæ¨¡æ‹Ÿã€æšä¸¾å¯¹äºæ¯ä¸ªç»„é‡Œçš„æ•°å­—ï¼Œå…ˆæ’åºï¼Œç„¶åä»ä¸€åˆ°æœ€å¤§å¯èƒ½çš„æƒ…å†µï¼Œæšä¸¾è¦é€‰å‡ ä¸ªæ•°è®°å½•é€‰å–çš„å’Œï¼ˆç”¨å‰ç¼€å’Œä¼šæ›´æ–¹ä¾¿ï¼‰ï¼Œç„¶åå°±æ˜¯é€‰æ‹©é‚£äº›å‰ç¼€å’Œä¸º æ­£æ•°çš„ç»„ åŠ è¿›æ¥ä¸º è´Ÿæ•°çš„ç»„ èˆå»ï¼ˆå› ä¸ºå‡ºç°è´Ÿæ•°çš„æƒ…å†µè¯´æ˜è¿™ç»„è¿˜æœªé€‰è¿›æ¥çš„æ•°éƒ½æ˜¯è´Ÿæ•°ï¼Œæ²¡æœ‰åˆ©ç”¨ä»·å€¼äº†ï¼Œæ•…èˆå»ï¼‰å…·ä½“å®ç°èµ·æ¥æ¯”è¾ƒéº»çƒ¦æŠŠæ¯ä¸ªæ•°åˆ†åˆ°ç›¸åº”çš„ç»„ï¼Œå¹¶æŠŠæ¯ä¸ªç»„é‡Œçš„æ•°æ’åº â€”â€”ã€‹ å…ˆå¯¹å…¨éƒ¨çš„æ•°æ’åºï¼Œå†ç”¨é“¾å¼å‰å‘æ˜Ÿåˆ†ç»„æšä¸¾ æ•°çš„ä¸ªæ•°ï¼š $\\to$ ç”¨queueè®°å½•éå†çš„é¡ºåºï¼Œå†ç”¨ä¸¤ä¸ªwhileå¾ªç¯éå†ï¼Œresè¡¨ç¤ºæœ‰ä»·å€¼çš„ç»„çš„ä¸ªæ•°ï¼Œé‡Œé¢çš„numè¡¨ç¤ºè¿™ä¸€æ¬¡éå†äº†å‡ ä¸ªç»„ï¼ˆæ–¹ä¾¿ç»ˆæ­¢ï¼‰å…·ä½“è§ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; struct node{ int s,r; }a[100010]; int nxt[100010]; int head[100010]; int s[100010]; int sum,cur,ans,num,res; int n,m; int read()//å¿«è¯»ä¸è§£é‡Š { int s=0,p=1; char c=getchar(); while(!isdigit(c)) { if(c==&#39;-&#39;) p=-1; c=getchar(); } while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s*p; } bool cmp(node x,node y) { return x.r&lt;y.r; } int main() { int i; n=read();m=read(); for(i=1;i&lt;=n;i++) a[i].s=read(),a[i].r=read(); sort(a+1,a+1+n,cmp);//å…ˆè¿›è¡Œæ’åº for(i=1;i&lt;=n;i++)//åˆ†ç»„ { nxt[i]=head[a[i].s]; head[a[i].s]=i; } queue&lt;int&gt;p; for(i=1;i&lt;=m;i++)//èµ·å§‹éå†é¡ºåºå°±æ˜¯ç»„å· p.push(i); res=m; while(res)//æœ‰ä»·å€¼çš„ç»„æ•° { num=res;//æ›´æ–°ä¸‹æ¬¡ sum=0;//è®°å½•è¿™æ¬¡çš„ç»“æœ while(num--) { cur=p.front();p.pop(); s[cur]+=a[head[cur]].r;//å‰ç¼€å’Œ sum+=max(s[cur],0); head[cur]=nxt[head[cur]];//æ›´æ–°å¤´ç»“ç‚¹ if(head[cur]&amp;&amp;s[cur]&gt;0)//å¦‚æœè¿˜æœ‰åˆ©ç”¨ä»·å€¼å°±åŠ å…¥ä¸‹ä¸€æ¬¡çš„éå†åºåˆ— p.push(cur); else//å¦åˆ™æ›´æ–°ç»„æ•° res--; } ans=max(ans,sum);//å…¨éƒ¨çš„ç­”æ¡ˆ } printf(&quot;%d&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","permalink":"http://hovnySiLenCe.github.io/tags/æ¨¡æ‹Ÿ/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒZJOI2019çˆ†é›¶è®°ã€","slug":"ZJOI2019-Travel-Notes","date":"2019-03-24T14:21:08.000Z","updated":"2020-01-30T09:40:17.578Z","comments":true,"path":"2019/03/24/ZJOI2019-Travel-Notes/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/24/ZJOI2019-Travel-Notes/","excerpt":"","text":"2019.3.24 å‘¨æ—¥ Day0ä¸Šåˆ8ç‚¹ä»$YWHS$é—¨å£åè½¦å‡ºå‘ï¼Œä¸€è·¯æŠ–å•ŠæŠ–å•ŠæŠ–å•Š ç›®çš„åœ°ï¼šå®æ³¢é•‡æµ·ä¸­å­¦-&gt;è¿™ä¸ªç‰›é€¼çš„åœ°æ–¹ ä¸‹è½¦ç©ºæ°”æ ¼å¤–æ–°é²œ ç„¶ååˆ·è„¸ï¼Œå¼€æˆ¿ï¼Œåƒé¥­ è¢«æ‹‰å»ç¬¬ä¸€æŠ¥å‘Šå…â€”â€”é¼“æŒ~ â€‹ $\\large \\uparrow$è¿™ä¸ªåº”è¯¥æ˜¯$Judge$? ç«Ÿç„¶æœ‰ç‚¹å‹åŠ›äº†ï¼Œåˆ°åº•æ˜¯æˆ‘å¤ªèœäº†ï¼Œç©ºæ‰‹å»çš„ï¼Œå›æ¥å¤šäº†ä¸€å—é«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡çš„é¼ æ ‡å«å¥–ç‰Œ æ™šä¸Šåƒå®Œæ”¾ï¼Œåˆšè¿ˆå‡ºé¥­åº—å‘ç°å‡†è€ƒè¯forgottenäº†ï¼Œç„¶åå’ŒJudgeè¿˜æœ‰Yang Xiaoå·¨ä½¬ä»¥åŠYdk-&gt; å†²å•Š ç„¶åå°±æ‰¾ä¸åˆ°è·¯äº† æ™šé¥­å›æ¥ï¼Œä¸€ç›´åœ¨é¢“$blog$ï¼Œ-&gt;å¤šå¤šæŒ‡æ•™ h^ovnyâ€™s blog $19:00$ $luogu$çš„$fans$è§é¢ä¼š $21:35$ å¤–å– å¾ˆå¿«å°±åˆ†å®Œäº† æ˜å¤©è¦å¼€å§‹ä¸Šè¯¾äº†ï¼Œæœ‰ç‚¹ç´§å¼ ï¼Œä¸€å®šè¦å¬æ‡‚ï¼Œè™½ç„¶æˆ‘æ˜¯ä¸€ä¸ªæ•°è®ºèœé¸¡ï¼Œè·Ÿç€$Sinner$å·¨ä½¬å†™æ¸¸è®°ï¼Œå‡†å¤‡æ¯å¤©å°†è‡ªå·±çš„æ‰€å­¦æ•´ç†åˆ°æ¸¸è®°é‡Œï¼Œå…¶å®æ˜¯ç¬”è®°æœ¬å¿˜åœ¨å­¦æ ¡é‡Œäº†ï¼Œä»Šæ—¥å®Œ 2019.3.25 å‘¨ä¸€ Day1æ˜¯çš„ï¼Œå°±æ˜¯ä»Šå¤©ï¼Œé›†è®­å¼€å§‹äº† ç„¶åä¸Šåˆå’Œä¸‹åˆä¸¤èŠ‚è¯¾ï¼Œå¬å¾—å®Œå…¨æœ‰ç‚¹æ‡µé€¼ï¼Œæ·±æ·±åœ°æ„Ÿå—åˆ°è‡ªå·±çš„å¼±å° ä¸Šåˆè®²çš„å¤§å¤šéƒ½æ˜¯å¤šé¡¹å¼ï¼Œè€Œæˆ‘å¤šé¡¹å¼åªå­¦äº†ä¹˜æ³•â€¦å…¨ç¨‹æŒ‚æœºï¼Œé™¤äº†ä¸€å¼€å§‹æ€ä¹ˆå˜æ¢çš„ç¯èŠ‚å¬æ‡‚â€¦ ä¸‹åˆå°±çœŸçš„åŸåœ°æŒ‚æœºäº†ï¼Œå°è±¡æ·±åˆ»çš„ä¸€é“é¢˜ $this$ $CF3300$ ç„¶åæœ‰ç¬ç§’çš„å¤§ä½¬ï¼Œç‘Ÿç‘Ÿå‘æŠ– æ™šä¸Šå»è¯•æœºäº†ï¼Œä¸€å¼€å§‹è¿˜ä»¥ä¸º$Dev$æœ‰é”…ï¼Œç»“æœæ˜¯$main$æ‰“æˆäº†$mian$ï¼Œæ„£æ˜¯æ‰“äº†ä¸ªæ ‘å‰–ï¼Œæ„Ÿè§‰é”®ç›˜é™¤äº†æœ‰ç‚¹ç¡¬ä¹‹å¤–ï¼Œä¸€åˆ‡éƒ½è¿˜å¥½ï¼Œå¸Œæœ›çœé€‰çš„æ—¶å€™ä¸è¦åƒå¹³æ—¶æ¨¡æ‹Ÿèµ›æ¥ä¸åŠå†™â€¦â€¦ æ˜¨å¤©çš„å¸Œæœ›å¹¶æ²¡æœ‰è¾¾æˆï¼Œæ˜¯è‡ªå·±èƒ½åŠ›è¿˜ä¸å¤Ÿï¼Œçœ‹å„ä½å¤§ä½¬çœ‹é½ï¼ŒçœŸçš„è¿˜æœ‰å¥½å¤šå¥½å¤šçŸ¥è¯†æ²¡æœ‰å­¦ï¼Œä»Šæ—¥å®Œ 2019.3.26 å‘¨äºŒ Day2æœ‰ç‚¹å°å¤æ‚ï¼Œä»Šå¤©ä¸Šåˆè®²çš„æ˜¯æ•°æ®ç»“æ„ï¼Œ$LCT$æœ‰ç‚¹æ²¡å¬æ‡‚â€¦è¦å­¦çš„è¿˜æœ‰å¥½å¤šå¥½å¤š ä¸‹åˆè®²çš„æ˜¯éšæœºç®—æ³•ï¼ŒçœŸçš„å¥½å¥‡å¦™ï¼Œä½†æ˜¯å·¨å¼±çš„æˆ‘å¹¶ä¸ä¼š æ™šä¸Šè€å¸ˆè®²äº†ä¸‹æ˜å¤©çš„æ³¨æ„äº‹é¡¹ï¼Œæœ‰ç‚¹ç´§å¼ ï¼Œéƒ½è¿˜å¥½ï¼Œå»å¤–é¢ä¹°äº†ç‚¹æ˜å¤©çš„é›¶é£Ÿ æ˜å¤©å°±çœé€‰äº†ï¼Œè™½ç„¶å¸Œæœ›å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯å¸Œæœ›èƒ½æ¯”åœ¨è¡¢å·çš„æ—¶å€™å¥½å§ï¼Œäº‹å…ˆæé†’è‡ªå·±ï¼ŒæŠŠæ¡å¥½æ—¶é—´ï¼Œå°½åŠ›æ‹¿åˆ†ï¼Œå¤šå¤šæ£€æŸ¥ï¼Œæˆ‘å¯ä»¥çš„ï¼ŒåŠ æ²¹ï¼ 2019.3.27 å‘¨ä¸‰ Day3 The Endç„¶è€Œï¼Œä»Šå¤©ï¼Œæ˜¯æ‚²æƒ¨çš„ä¸€å¤©ï¼Œ$8:00-13:00$æµ™æ±Ÿçœé€‰ å‹ç¼©åŒ…ï¼Œå¯†ç $JYB@Xzc!!3Yue*$ï¼Œ$5$éè¿é”™ï¼Œæ„Ÿè§‰å‡‰å‡‰ ç¬¬ä¸€é¢˜ï¼Œéº»å°†â€¦ä»æ¥æ²¡æœ‰ç©è¿‡éº»å°†çš„äººï¼Œçœ‹å®Œé¢˜ç›®ï¼Œæ²¡æ€è·¯ï¼Œè·³ ç¬¬äºŒé¢˜ï¼Œçº¿æ®µæ ‘â€¦ç„¶åæƒ³åˆ°äº†æ—©ä¸Š$louhc$è¯´çš„å‰å¸æœºçº¿æ®µæ ‘ï¼Œå¼€å§‹æƒ³æ­£è§£ï¼Œç”¨äº†ä¸¤ä¸ªå°æ—¶ï¼Œå…ˆåœ¨è‰ç¨¿çº¸ä¸Šæ‰‹æ¨äº†ä¸€æ³¢ï¼Œå‘ç°äº†ä¸€ç‚¹å°è§„å¾‹ï¼Œç„¶ååœ¨ç”µè„‘ä¸Šæ‰“äº†$10$è¡Œçš„è¡¨ï¼ŒæƒŠå¥‡çš„å‘ç°æ˜¯æ¨è¾‰ä¸‰è§’&amp;ç»„åˆæ•°ï¼Œå†å¤„ç†äº†ä¸€ä¸‹ç»†èŠ‚ï¼Œä¿©ä¸ªå°æ—¶è¿‡å»äº† å¼€å§‹å†™æ­£è§£ï¼Œ$77$è¡Œï¼Œæ„Ÿè§‰ä¸å¤§å¯¹åŠ²ï¼Œè·‘äº†ä¸€éæ ·ä¾‹ï¼Œæœ€åä¸€ä¸ª$case$ $WA$äº†ï¼Œçªç„¶å‘ç°æ‰‹æ¨çš„æ—¶å€™æ¨é”™äº†â€¦â€¦å¿ƒæ€ç‚¸äº† å¿ƒæ€çˆ†ç‚¸å†™ä¸ä¸‹å»ï¼Œç²—ç•¥çœ‹äº†çœ‹ç¬¬ä¸‰é¢˜ï¼Œæ²¡æœ‰æ€è·¯ ä¹±æƒ³ï¼ŒåŸæœ¬æƒ³å…ˆæ‹¿ç¬¬äºŒé¢˜çš„å››ååˆ†ï¼Œç„¶åå°±æŠŠè‡ªå·±$hack$æ‰äº†ï¼Œç…ç†¬ å¿ƒæ€çˆ†ç‚¸ï¼Œæƒ³äº†å¾ˆå¤šï¼Œæ²¡æœ‰åšæŒä¸‹å»ï¼Œä¸€ã€ä¸‰é¢˜éƒ½æ²¡æœ‰æ€è·¯ï¼ŒåŒ†åŒ†åœ°æ‰“äº†ä¸ªè¡¨ï¼Œäº¤äº†ä¸ªé”™æ¥ï¼Œæ ·ä¾‹éƒ½æ²¡æµ‹ ç„¶åæ‰“ç¬¬äºŒé¢˜çš„æš´åŠ›ï¼Œè¿‡äº†æ ·ä¾‹ï¼Œæ²¡æœ‰æ£€æŸ¥ï¼Œæ‰”åœ¨äº†ä¸€è¾¹ï¼Œ$11ï¼š30$ï¼Œè¾¹åƒå·§å…‹åŠ›è¾¹æ€è€ƒï¼Œå®Œå…¨æ²¡æœ‰æ€è·¯ $12:20$ï¼Œäº¤äº†å¦å¤–ä¸¤é¢˜çš„æ ·ä¾‹ï¼Œæ”¾å¼ƒï¼Œå¿ƒæ€çˆ†ç‚¸ æ„Ÿè§‰å‡‰å‡‰ï¼Œåˆ†æ•°$20$å°é¡¶ï¼Œè‡ªæˆ‘æ„Ÿè§‰çˆ†é›¶é¢„å®š æ˜¯è‡ªå·±å­¦çš„å¤ªå°‘äº†ï¼Œä¸€åˆ°è€ƒåœºä¸Šï¼Œä»€ä¹ˆéƒ½ä¸ä¼š å›ä¹‰ä¹Œï¼Œè½¦ä¸Š å›°ã€‚$ZJOI2019$çˆ†é›¶é¢„å®šã€‚å®Œâ€¦â€¦","categories":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/categories/æ¸¸è®°/"}],"tags":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/tags/æ¸¸è®°/"}],"keywords":[{"name":"æ¸¸è®°","slug":"æ¸¸è®°","permalink":"http://hovnySiLenCe.github.io/categories/æ¸¸è®°/"}]},{"title":"ã€ŒPOJ1845ã€ Sumdiv è§£é¢˜æŠ¥å‘Š","slug":"POJ1845-Sumdiv-Solution","date":"2019-03-24T10:15:28.000Z","updated":"2019-11-14T10:11:22.152Z","comments":true,"path":"2019/03/24/POJ1845-Sumdiv-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/24/POJ1845-Sumdiv-Solution/","excerpt":"","text":"é¢˜é¢$a^b$ æ‰€æœ‰çš„å› æ•°çš„å’Œ è§£é¢˜æ€è·¯å¯¹ $a^b$ è¿›è¡Œå”¯ä¸€åˆ†è§£å®šç†ï¼Œå¯ä»¥å†™æˆï¼š \\large (\\prod {p_i}^{c_i})^bé‚£ä¹ˆå°±æ˜¯ï¼š \\large \\prod p_i^{c_i\\times b}æ˜¾ç„¶ï¼Œçº¦æ•°å’Œä¸ºï¼š \\large (1+p_1+p_1^2+\\cdots+p_1^{c_1\\times b})\\times (1+p_2+p_2^2+\\cdots+p_2^{c_2\\times b})\\times \\cdots\\times(1+p_i+p_i^2+\\cdots+p_i^{c_i\\times b})ä»¤ $k_i=c_i\\times b$ï¼Œé‚£ä¹ˆç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•æ±‚ï¼š \\large 1+p_i+p_i^2+\\cdots+p_i^{k_i}å¦‚æœæ‚¨å­¦è¿‡æ•°åˆ—çš„è¯ï¼Œå¯ä»¥ç›´æ¥ç­‰æ¯”æ•°åˆ—æ±‚å’Œï¼Œé€†å…ƒæ±‚å³å¯ ä½†åŒæ ·ä¹Ÿå¯ä»¥ç”¨åˆ†æ²»æ³•çš„æ€æƒ³æ±‚è§£ å½“ $k\\in2n+1(n\\in\\mathbb{N})$ æ—¶ $f(k)=1+p+p^2+p^3+â€¦+p^k$ $= (1+p+â€¦+p^{\\frac k 2})+(p^{\\frac k 2+1}+â€¦+p^k)$ $= (1+p+â€¦+p^{\\frac k 2})+p^{\\frac k 2+1}*(1+p+â€¦+p^{\\frac k 2})$ $= (p^{\\frac k 2+1}+1)*(1+p+â€¦+p^{\\frac k 2})$ å½“ $k\\in2n(n\\in\\mathbb{N}_+)$ æ—¶ $f(k)=f(k-1)*p^k$ é…åˆå¿«é€Ÿå¹‚å¯¹ $9901$ å– $\\%$ Code#include&lt;cstdio&gt; #include&lt;iostream&gt; #define rgt register #define rint rgt int #define LL long long #define rll rgt LL #define N 10003 #define M 31 #define p 9901 using namespace std; LL a[M],s[M],n,m,ans=1; int t;bool b[N]; inline int read() { rint s=0; rgt char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;,c=getchar(); return s; } LL Pow(rll a,rll b) { rll res=1; for(;b;b&gt;&gt;=1,a=a*a%p) if(b&amp;1) res=res*a%p; return res; } LL solve(rll p,rll k) { if(k==1) return (p+1)%p; if(k==0) return 1; if(k&amp;1) return solve(p,k/2)*(Pow(p,k/2+1)+1)%p; return ((solve(p,k/2-1)*(Pow(p,k/2)+1))%p+Pow(p,k))%p; } int main() { rint i,j; n=read(),m=read(); if(n%2==0) { a[++t]=2; while(n%2==0) s[t]++,n/=2; } for(i=3;i*i&lt;=n;i+=2) if(!b[i]) { if(n%i==0) { a[++t]=i; while(n%i==0) s[t]++,n/=i; } j=i+i; while(j*j&lt;=n) b[j]=1,j+=i; } if(n&gt;1) a[++t]=n,s[t]=1; for(i=1;i&lt;=t;i++) ans=(ans*solve(a[i],s[i]*m))%p; printf(&quot;%lld&quot;,ans); return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"æ•°è®º","slug":"æ•°è®º","permalink":"http://hovnySiLenCe.github.io/tags/æ•°è®º/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒCF670Cã€ Cinema è§£é¢˜æŠ¥å‘Š","slug":"CF670C-Cinema-Solution","date":"2019-03-24T09:05:12.000Z","updated":"2019-12-01T07:28:39.244Z","comments":true,"path":"2019/03/24/CF670C-Cinema-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/24/CF670C-Cinema-Solution/","excerpt":"","text":"é¢˜é¢ä¼ é€é—¨æ€è·¯ï¼šç¦»æ•£åŒ–ã€hashå¯¹äºè¿™æ ·ä¸€ä¸ªæ˜æ˜¾çš„ç»Ÿè®¡æ’åºçš„é¢˜ç›®ï¼Œå½“ç„¶è½»è€Œæ˜“ä¸¾å•¦~ ä½†æ˜¯ï¼çœ‹ï¼è¯­è¨€çš„ç¼–å· aæ•°ç»„å’Œ bæ•°ç»„çš„å€¼æœ€å¤§åœ¨$10^9$çš„çº§åˆ«ï¼Œæ‰€ä»¥å¼€ä¸ªæ•°ç»„æ¥å­˜â€”â€”â€”Thatâ€™s impossible! æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸Šç¦»æ•£åŒ–ï¼ˆä¹Ÿå°±æ˜¯hashï¼‰ ç¦»æ•£åŒ–ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§å†™æ³• ç¬¬ä¸€ç§æ˜¯è‡ªå·±æ‰‹ç ä»£ç å…ˆæ’åºï¼Œç„¶åå»é‡ï¼Œæ¥ç€ç”¨äºŒåˆ†ä¸€ä¸€å¯¹åº”ï¼Œè¾¾åˆ°ç¦»æ•£åŒ–çš„ç›®çš„ æ¿å­ï¼š sort(b+1,b+n+1,cmp); n=unique(b+1,b+n+1)-b-1; for(i=1;i&lt;=n;i++) a[i]=lower_bound(b+1,b+n+1,a[i])-b; ç¬¬äºŒç§æ˜¯ä½¿ç”¨STLåº“çš„mapå¤´æ–‡ä»¶ï¼š#include &lt;map&gt; å®šä¹‰æ–¹å¼ï¼šmap&lt;type,type&gt; p;è¡¨ç¤ºå°†å‰ä¸€ç§typeæ˜ å°„åˆ°åä¸€ç§type å…¶ä¸­çš„ç±»å‹å¯ä»¥å¾ˆå¤šï¼Œæ¯”å¦‚doubleï¼Œstringï¼Œintï¼Œboolç­‰åŸºæœ¬ç±»å‹ï¼Œä¹ŸåŒ…æ‹¬pairè¿™ç§ å¦‚map&lt;pair&lt;int,int&gt;,bool&gt;p;å…è®¸çš„ æ“ä½œï¼šä¸€èˆ¬ç”¨æ•°ç»„çš„å½¢å¼ï¼Œç›´æ¥p[x]è®¿é—®ã€å†™å…¥ PSï¼šä½†æ˜¯mapçš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæƒ³è¿›ä¸€æ­¥æé«˜å¯ä»¥ä½¿ç”¨unordered_map æ­¤å¤„ä¸æ‰ä¸åšè®²è§£ï¼Œå…·ä½“è¯¦è§æ´›è°·æ—¥æŠ¥ Code: #include&lt;bits/stdc++.h&gt; using namespace std; int n,m; int b; int a[200010]; map&lt;int,int&gt; p; int cur,res,ans; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } int main() { int i; int x; n=read(); for(i=1;i&lt;=n;i++) p[read()]++;//ç§‘ï¼ˆç‚ï¼‰å­¦å®¶ä»¬èƒ½å¬æ‡‚çš„è¯­è¨€ m=read(); for(i=1;i&lt;=m;i++)//ç”µå½±é…éŸ³ a[i]=read(); b=p[read()]; ans=1;//ä¸€å¼€å§‹é»˜è®¤ç¬¬ä¸€ç§æ˜¯ç­”æ¡ˆ res=p[a[1]]; cur=b; for(i=2;i&lt;=m;i++) { b=p[read()]; x=p[a[i]]; if(x&gt;=res)//æ¯”è¾ƒå¬çš„æ‡‚é…éŸ³ï¼Œçœ‹çš„æ‡‚å­—å¹•çš„äººæ•° { if(x&gt;res) { res=x; cur=b; ans=i; } else if(cur&lt;b) { ans=i; cur=b; } } } printf(&quot;%d&quot;,ans); return 0; } æ¨èé¢˜ç›®ï¼šã€ŒLuoguã€[NOI2015]ç¨‹åºè‡ªåŠ¨åˆ†æ","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"ç¦»æ•£åŒ–","slug":"ç¦»æ•£åŒ–","permalink":"http://hovnySiLenCe.github.io/tags/ç¦»æ•£åŒ–/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒæŠ€æœ¯ã€LaTeXæ•°å­¦ç¬¦å·","slug":"LaTeX","date":"2019-03-24T09:05:10.000Z","updated":"2020-05-15T12:42:43.160Z","comments":true,"path":"2019/03/24/LaTeX/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/24/LaTeX/","excerpt":"","text":"ä¸€ä¸ªç¥å¥‡çš„ç½‘ç«™ ä¸Šæ ‡è¯­æ³•ï¼š x^2æ•ˆæœï¼š $x^2$ ä¸‹æ ‡è¯­æ³•ï¼š x_iæ•ˆæœï¼š $x_i$ æ•´ä½“è¯­æ³•ï¼š x^{2y}æ•ˆæœï¼š $x^{2y}$ å¤§æ‹¬å·è¯­æ³•ï¼š\\{\\}æ•ˆæœï¼š$\\{\\}$ åˆ†æ•°çº¿è¯­æ³•ï¼š \\frac12 \\frac{12}{23}æ•ˆæœï¼š \\frac12\\ , \\ \\frac{12}{23}å¼€æ–¹è¯­æ³•ï¼š \\sqrt{x} \\sqrt[3]{x}æ•ˆæœï¼š $\\sqrt{x}$ $\\sqrt[3]{x}$ çœç•¥å·è¯­æ³•ï¼š \\ldots \\cdotsæ•ˆæœï¼š $\\ldots \\cdots$ çŸ¢é‡è¯­æ³•ï¼š \\vec{ a }æ•ˆæœï¼š $\\vec{ a }$ ç§¯åˆ†è¯­æ³•ï¼š \\int_0^2 x^2 {\\rm d}xæ•ˆæœï¼š $\\int_0^2 x^2 {\\rm d}x$ æé™è¯­æ³•ï¼š \\lim\\limits_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)}æ•ˆæœï¼š $\\lim\\limits_{n \\rightarrow +\\infty} \\frac{1}{n(n+1)}$ ç´¯åŠ è¯­æ³•ï¼š \\sum_{i=0}^n i^2 \\Sigma_{i=0}^n i^2æ•ˆæœï¼š \\sum_{i=0}^n i^2\\ ,\\ \\Sigma_{i=0}^n i^2ç´¯ä¹˜è¯­æ³•ï¼š \\prod_{i=1}^n i^2 \\Pi_{i=1}^n i^2æ•ˆæœï¼š \\prod_{i=1}^ni^2\\ ,\\ \\Pi_{i=1}^ni^2å¸Œè…Šå­—æ¯ è¯­æ³•(å¤§å†™) æ•ˆæœ(å¤§å†™) è¯­æ³•(å°å†™) æ•ˆæœ(å°å†™) \\Alpha $\\Alpha$ \\alpha $\\alpha$ \\Beta $\\Beta$ \\beta $\\beta$ \\Gamma $\\Gamma$ \\gamma $\\gamma$ \\Delta $\\Delta$ \\delta $\\delta$ \\Epsilon $\\Epsilon$ \\epsilon $\\epsilon$ \\Zeta $\\Zeta$ \\zeta $\\zeta$ \\Eta $\\Eta$ \\eta $\\eta$ \\Theta $\\Theta$ \\theta $\\theta$ \\Iota $\\Iota$ \\iota $\\iota$ \\Kappa $\\Kappa$ \\kappa $\\kappa$ \\Lambda $\\Lambda$ \\lambda $\\lambda$ \\Mu $\\Mu$ \\mu $\\mu$ \\Nu $\\Nu$ \\nu $\\nu$ \\Xi $\\Xi$ \\xi $\\xi$ \\Omicron $\\Omicron$ \\omicron $\\omicron$ \\Pi $\\Pi$ \\pi $\\pi$ \\Rho $\\Rho$ \\rho $\\rho$ \\Sigma $\\Sigma$ \\sigma $\\sigma$ \\Tau $\\Tau$ \\tau $\\tau$ \\Upsilon $\\Upsilon$ \\upsilon $\\upsilon$ \\Phi $\\Phi$ \\phi $\\phi$ \\Chi $Chi$ \\chi $\\chi$ \\Psi $\\Psi$ \\psi $\\psi$ \\Omega $\\Omega$ \\omega $\\omega$ å…³ç³»è¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\pm $\\pm$ \\times $\\times$ \\div $\\div$ \\mid $\\mid$ \\nmid $\\nmid$ \\cdot $\\cdot$ \\circ $\\circ$ \\ast $\\ast$ \\bigodot $\\bigodot$ \\bigotimes $\\bigotimes$ \\bigoplus $\\bigoplus$ \\le $\\le$ \\ge $\\ge$ \\ne $\\ne$ \\approx $\\approx$ \\equiv $\\equiv$ \\sum $\\sum$ \\prod $\\prod$ \\coprod $\\coprod$ é›†åˆè¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\emptyset $\\emptyset$ \\in $\\in$ \\notin $\\notin$ \\subset $\\subset$ \\supset $\\supset$ \\subseteq $\\subseteq$ \\supseteq $\\supseteq$ \\bigcap $\\bigcap$ \\bigcup $\\bigcup$ \\bigvee $\\bigvee$ \\bigwedge $\\bigwedge$ \\biguplus $\\biguplus$ \\bigsqcup $\\bigsqcup$ å¯¹æ•°è¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\log $\\log$ \\lg $\\lg$ \\ln $\\ln$ ä¸‰è§’è¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\bot $\\bot$ \\angle $\\angle$ 30^\\circ $30^\\circ$ \\sin $\\sin$ \\cos $\\cos$ \\tan $\\tan$ \\cot $\\cot$ \\sec $\\sec$ \\csc $\\csc$ å¾®ç§¯åˆ†è¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\prime $\\prime$ \\int $\\int$ \\iint $\\iint$ \\iiint $\\iiint$ \\iiiint $\\iiiint$ \\oint $\\oint$ \\lim $\\lim$ \\infty $\\infty$ \\nabla $\\nabla$ é€»è¾‘è¿ç®—ç¬¦ è¯­æ³• æ•ˆæœ \\because $\\because$ \\therefore $\\therefore$ \\forall $\\forall$ \\exists $\\exists$ \\not= $\\not=$ \\not&gt; $\\not&gt;$ \\not\\subset $\\not\\subset$ æˆ´å¸½ç¬¦å· è¯­æ³• æ•ˆæœ \\hat{y} $\\hat{y}$ \\check{y} $\\check{y}$ \\breve{y} $\\breve{y}$ è¿çº¿ç¬¦å· è¯­æ³• æ•ˆæœ \\overline{a+b+c+d} $\\overline{a+b+c+d}$ \\underline{a+b+c+d} $\\underline{a+b+c+d}$ \\overbrace{a+b+c+d} $\\overbrace{a+b+c+d}$ \\underbrace{a+b+c+d} $\\underbrace{a+b+c+d}$ ç®­å¤´ç¬¦å· è¯­æ³• æ•ˆæœ \\uparrow $\\uparrow$ \\downarrow $\\downarrow$ \\Uparrow $\\Uparrow$ \\Downarrow $\\Downarrow$ \\rightarrow $\\rightarrow$ \\leftarrow $\\leftarrow$ \\Rightarrow $\\Rightarrow$ \\Leftarrow $\\Leftarrow$ \\longrightarrow $\\longrightarrow$ \\longleftarrow $\\longleftarrow$ \\Longrightarrow $\\Longrightarrow$ \\Longleftarrow $\\Longleftarrow$ more$\\downarrow$","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://hovnySiLenCe.github.io/categories/æŠ€æœ¯/"}],"tags":[{"name":"LaTeX","slug":"LaTeX","permalink":"http://hovnySiLenCe.github.io/tags/LaTeX/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://hovnySiLenCe.github.io/categories/æŠ€æœ¯/"}]},{"title":"ã€ŒCF444Cã€ DZY Loves Colors è§£é¢˜æŠ¥å‘Š","slug":"CF444C-DZY-Loves-Colors-Solution","date":"2019-03-24T08:25:45.000Z","updated":"2019-12-01T07:28:41.056Z","comments":true,"path":"2019/03/24/CF444C-DZY-Loves-Colors-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/24/CF444C-DZY-Loves-Colors-Solution/","excerpt":"","text":"é¢˜é¢é¢˜ç›®æè¿°DZYå–œæ¬¢è‰²å½©ï¼Œä»–çƒ­çˆ±ç»˜ç”»ã€‚ åœ¨ä¸€ä¸ªå¤šå§¿å¤šå½©çš„æ—¥å­é‡Œï¼Œ$DZY$å¾—åˆ°äº†ä¸€ä¸ªå½©è‰²çš„ç¼å¸¦ï¼Œå®ƒç”±$N$ä¸ªå•å…ƒç»„æˆï¼ˆä»å·¦åˆ°å³ä»$1$åˆ°$n$ç¼–å·ï¼‰ã€‚è‰²å¸¦çš„ç¬¬$i$ä¸ªå•ä½çš„æœ€åˆé¢œè‰²æ˜¯$i$ã€‚è™½ç„¶é¢œè‰²è¶³å¤Ÿä¸°å¯Œï¼Œä½†æˆ‘ä»¬ä»ç„¶è®¤ä¸ºæ¯ä¸ªå•å…ƒçš„é¢œè‰²æ•°é‡æœ€åˆæ˜¯$0$ã€‚ æˆ‘ä»¬çŸ¥é“$DZY$çƒ­è¡·äºç»˜ç”»ã€‚ä»–æ‹¿èµ·ä¸€æŠŠå½©è‰²ç¬”ï¼Œç”¨å®ƒåœ¨ç¼å¸¦ä¸Šç”»ä¸€æ¡çº¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»–å°±ç»˜åˆ¶äº†ä¸€æ®µè¿ç»­çš„å•å…ƒã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå•ä½$i$è¢«æ¶‚ä¹‹å‰é¢œè‰²æ˜¯$y$ã€‚è¢«æ¶‚ä¹‹åæ—¶ï¼Œå•å…ƒçš„é¢œè‰²å˜ä¸º$x$ï¼Œä»¤å•ä½çš„é¢œè‰²å¢åŠ äº†$|x-y|$ã€‚ $DZY$æƒ³è¦æ‰§è¡Œ$M$ä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œå¯ä»¥æ˜¯ä¸‹åˆ—æ“ä½œä¹‹ä¸€ï¼š 1ã€å°†åŒºé—´$[L,R]$å†…å•å…ƒç»˜åˆ¶ä¸ºé¢œè‰²$x$ã€‚ 2ã€è¯¢é—®$[L,R]$ä¹‹é—´çš„å•ä½é¢œè‰²çš„æ€»å’Œï¼ˆåŒ…æ‹¬ä¸¤è€…ï¼‰ã€‚ ä½ èƒ½å¸®åŠ©$DZY$å—ï¼Ÿ è¾“å…¥ï¼šç¬¬ä¸€è¡ŒåŒ…å«ç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°$n,m$ï¼ˆ$1 \\leq n\\leq m \\leq 10^5$ï¼‰ã€‚ æ¥ä¸‹æ¥$m$è¡Œä¸­çš„æ¯ä¸€è¡Œéƒ½ä»¥ä¸€ä¸ªæ•´æ•°å¼€å¤´ï¼ˆ$1\\leq tyqe \\leq 2$ï¼‰å¼€å§‹ï¼Œè¡¨ç¤ºè¯¥æ“ä½œçš„ç±»å‹ã€‚ å¦‚æœ$type = 1$ï¼Œåˆ™åœ¨è¯¥è¡Œä¸­ï¼Œæœ‰$3$ä¸ªæ•´æ•°$L,R,x(1 \\leq L \\leq R \\leq n; 1\\leq x \\leq 10^8)$ï¼Œè¡¨ç¤ºæ“ä½œ$1$ã€‚ å¦‚æœ$type=2$ï¼Œåˆ™è¿™ä¸€è¡Œï¼Œæœ‰$2$ä¸ªæ•´æ•°$L,R,(1 \\leq L \\leq R \\leq n)$ï¼Œè¡¨ç¤ºæ“ä½œ$2$ã€‚ è¾“å‡ºï¼šå¯¹äºæ¯ä¸ªæ“ä½œ$2$ï¼Œè¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«ç€è‰²æ•°é‡çš„å’Œã€‚ æ€è·¯ï¼šè¿™æ˜¯ä¸€ä¸ªåŒºé—´è¦†ç›–çš„é¢˜ï¼Œä¸ç»è¿‡æ€è€ƒå°±æƒ³åˆ°äº†$Old\\ Driver\\ Tree$ï¼Œç„¶åé…åˆç€çº¿æ®µæ ‘ï¼Œå°±ç”¨æ•°æ®ç»“æ„è¿‡å»äº†qaq æ—¶é—´å¤æ‚åº¦åˆ†æO(ç„å­¦)æœ€åçš„æŸ¥è¯¢æ˜¯$log$çº§çš„ï¼Œæ˜¾ç„¶ä¸æ˜¯å½±å“æ—¶é—´å¤æ‚åº¦å…³é”®ï¼Œå‡è®¾æ‰€æœ‰éƒ½æ˜¯ä¿®æ”¹æ“ä½œï¼Œä¿®æ”¹ç»å¤§å¤šæ•°çš„æ—¶å€™éƒ½æ˜¯ä½¿åŸæœ¬$n$ä¸ªç‚¹å˜å°‘çš„ï¼Œæœ€åçš„æƒ…å†µåº”è¯¥æ˜¯æŠŠåŒä¸€ä¸ªåŒºé—´åˆ†è£‚æˆä¸‰ä¸ªä¸åŒçš„åŒºé—´ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡æŠŠä¸‰ä¸ªè¿åœ¨ä¸€èµ·ï¼Œå†æŠŠä¸€ä¸ªåŒºé—´åˆ†å¼€ä¸‰ä¸ªï¼Œä¼¼ä¹å¤æ‚åº¦ä¹Ÿä¸ä¼šå¾ˆé«˜ï¼Œæœ€å¤šä¸‰å€ï¼ŒåŠ ä¸Š$lower_bound$çš„$log$å’Œçº¿æ®µæ ‘çš„$log$ï¼Œæ—¶é—´å¤æ‚åº¦$O(èƒ½è¿‡)$ï¼Œç»“æŸï¼Œcheer Codeï¼š #include&lt;bits/stdc++.h&gt; #define It set&lt;node&gt;::iterator #define N 100010 #define ll long long using namespace std; struct node{//ç”¨äºODT int l,r; mutable int val; node(int a,int b=-1,int c=0):l(a),r(b),val(c){ } node(){ } bool operator&lt; (const node x) const{ return l&lt;x.l; } }; int n,T,L,R,val,y; ll f[N&lt;&lt;2],tag[N&lt;&lt;2],ans;//çº¿æ®µæ ‘ï¼Œåˆ«å¿˜äº†å¼€ll set&lt;node&gt;s; It Itl,Itr,it;//è¿­ä»£å™¨ inline int read(){ register int s=0; register char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } It Split(int pos)//åˆ†ç¦» { it=s.lower_bound(node(pos)); if(it!=s.end() &amp;&amp; it-&gt;l ==pos) return it; --it; int l=it-&gt;l,r=it-&gt;r,val=it-&gt;val; s.erase(it); s.insert(node(l,pos-1,val)); return s.insert(node(pos,r,val)).first;//è¿”å›çš„æ˜¯pairç±»å‹ï¼Œç¬¬ä¸€æ®µå…³é”®å­—æ˜¯æ’å…¥ä½ç½®çš„è¿­ä»£å™¨ } void push(int k,int l,int r) { f[k]+=tag[k]*(r-l+1); if(l!=r) { int cur=k&lt;&lt;1; tag[cur]+=tag[k]; tag[cur|1]+=tag[k]; } tag[k]=0; } void Modify(int k,int l,int r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R) { tag[k]=y; push(k,l,r); return; } int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Modify(cur,l,mid); Modify(cur|1,mid+1,r); f[k]=f[cur]+f[cur|1]; } void Cov(int l,int r) { Itr=Split(r+1);it=Itl=Split(l); for(;it!=Itr;++it) { L=it-&gt;l;R=it-&gt;r;y=abs(val- it-&gt;val); Modify(1,1,n); } s.erase(Itl,Itr); s.insert(node(l,r,val));//è®°å¾—è¿™é‡Œè¦é‡æ–°æ’å…¥è¿‡ } void Query(int k,int l,int r) { if(tag[k]) push(k,l,r); if(r&lt;L||R&lt;l) return; if(L&lt;=l&amp;&amp;r&lt;=R){ans+=f[k];return;} int mid=(l+r)&gt;&gt;1,cur=k&lt;&lt;1; Query(cur,l,mid); Query(cur|1,mid+1,r); } int main() { int i; n=read();T=read(); for(i=1;i&lt;=n;i++) s.insert(node(i,i,i)); while(T--) { if(read()==1) { L=read(),R=read(),val=read(); Cov(L,R); } else ans=0,L=read(),R=read(),Query(1,1,n),printf(&quot;%lld\\n&quot;,ans); } return 0; }","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","permalink":"http://hovnySiLenCe.github.io/tags/çº¿æ®µæ ‘/"},{"name":"ODT","slug":"ODT","permalink":"http://hovnySiLenCe.github.io/tags/ODT/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€ŒUVA1328ã€Period è§£é¢˜æŠ¥å‘Š","slug":"UVA1328-Period-Solution","date":"2019-03-11T12:55:12.000Z","updated":"2019-12-01T07:28:02.713Z","comments":true,"path":"2019/03/11/UVA1328-Period-Solution/","link":"","permalink":"http://hovnySiLenCe.github.io/2019/03/11/UVA1328-Period-Solution/","excerpt":"","text":"Englishé¢˜é¢é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œä¾æ¬¡å–å­—ç¬¦ä¸²å‰iä¸ªï¼ˆå‰ç¼€ï¼‰ï¼Œå¦‚æœå‰ç¼€ç”±k(k&gt;0)ä¸ªç›¸åŒçœŸå­ä¸²æ„æˆï¼Œé‚£ä¹ˆè¾“å‡ºiå’Œk ç›´åˆ°nä¸º0ç»“æŸï¼Œæ¯ç»„æ•°æ®åè¦æœ‰ä¸€è¡Œç©ºç™½ æ€è·¯ï¼šKMP+ä¸€ç‚¹ç‚¹åˆ¤æ–­å…¶å®è¿™é“é¢˜å¹¶ä¸æ˜¯å¾ˆéš¾ å¯ä»¥å…ˆç”¨KMPæ±‚å‡ºæœ€é•¿çš„ æ˜¯s[1~i]çš„å‰ç¼€å’Œåç¼€çš„çœŸå­ä¸²çš„é•¿åº¦j è¯è¯´çš„æœ‰ç‚¹å¤æ‚ï¼Œåˆ†å¼€æ¥ç† 1ã€çœŸå­ä¸²ï¼šä¸æ˜¯å­—ç¬¦ä¸²æœ¬èº«çš„å­ä¸² 2ã€æ˜¯s[1~i]çš„å‰ç¼€å’Œåç¼€ï¼šä»¥aabaabä¸ºä¾‹ aabaab aabaab aabæ˜¯aabaabçš„å‰ç¼€ï¼Œåˆæ˜¯åç¼€ j=3 ä¸¤ç§æ¡ä»¶ä¸‹ï¼šä»¥aaaä¸ºä¾‹ å°±åº”è¯¥æ˜¯ aaa aaa aaæ˜¯aaaçš„å‰ç¼€&amp;åç¼€&amp;çœŸå­ä¸² j=2 åˆ¤æ–­æ–¹æ³• if(i%(i-j)==0) //è¯´æ˜å¾ªç¯çš„å­ä¸²é•¿åº¦ä¸ºi-jï¼Œå¾ªç¯æ¬¡æ•°ä¸ºi/(i-j) è¯æ˜ï¼š RTï¼š $\\because$ l=r $\\therefore$ â‘ =â‘ ï¼Œâ‘¡=â‘¡ï¼Œâ‘¢=â‘¢ $\\therefore$ â‘ =â‘¡=â‘¢ å…¶ä»–æƒ…å†µæ— è®ºå¤šå°‘éƒ½å¯ä»¥è¿™æ · è¿ç­‰ï¼Œåªè¦i-jèƒ½å¤Ÿæ•´é™¤ié‚£ä¹ˆå°±æ˜¯æˆç«‹çš„ Codeï¼š #include&lt;bits/stdc++.h&gt; using namespace std; string s; int n,t; int len,cur; int p[1000010]; int read() { int s=0; char c=getchar(); while(!isdigit(c)) c=getchar(); while(isdigit(c)) { s=(s&lt;&lt;1)+(s&lt;&lt;3)+c-&#39;0&#39;; c=getchar(); } return s; } int main() { int i,j; n=read(); while(n) { printf(&quot;Test case #%d\\n&quot;,++t); cin&gt;&gt;s; len=s.size(); for(i=len;i;i--) s[i]=s[i-1]; for(i=2,j=0;i&lt;=len;i++)//KMPå¤§æ³• { while(j&amp;&amp;s[i]!=s[j+1])//æ±‚å‰ç¼€çš„é‚£ä¸ªä¸œä¸œ j=p[j]; if(s[i]==s[j+1]) j++; p[i]=j; if(j&gt;=(i&gt;&gt;1)&amp;&amp;i%(i-j)==0)//åˆ¤æ–­ä¸€ä¸‹ printf(&quot;%d %d\\n&quot;,i,i/(i-j)); } printf(&quot;\\n&quot;); n=read(); } return 0; } å‹æƒ…é“¾æ¥KMPç™¾åº¦ç™¾ç§‘ ã€æ¨¡æ¿ã€‘KMPå­—ç¬¦ä¸²åŒ¹é…","categories":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}],"tags":[{"name":"KMP","slug":"KMP","permalink":"http://hovnySiLenCe.github.io/tags/KMP/"}],"keywords":[{"name":"è§£é¢˜æŠ¥å‘Š","slug":"è§£é¢˜æŠ¥å‘Š","permalink":"http://hovnySiLenCe.github.io/categories/è§£é¢˜æŠ¥å‘Š/"}]},{"title":"ã€Œç½‘ç»œæµæŒ–å‘å¤§å…¨ã€æœ€å¤§æµæœ€å°å‰² é”™è¯¯ç‚¹è®°å½•","slug":"Maxflow-Mistakes","date":"2018-12-27T10:15:01.000Z","updated":"2019-12-01T07:28:10.678Z","comments":true,"path":"2018/12/27/Maxflow-Mistakes/","link":"","permalink":"http://hovnySiLenCe.github.io/2018/12/27/Maxflow-Mistakes/","excerpt":"","text":"2018å¹´12æœˆ27æ—¥ å¤©æ°”ï¼šé˜´ å¿ƒæƒ…ï¼šä¸€èˆ¬because!â€”â€”å­¦ç½‘ç»œæµç¬¬äºŒã€ä¸‰é“é¢˜å°±WAï¼ŒæŸ¥é”™èŠ±äº†INFçš„æ—¶é—´ ä»Šå¤©ä½œä¸ºå­¦ä¹ ç½‘ç»œæµçš„ç¬¬äºŒå¤©ï¼Œæœ¬äººå†³å®šæ½œå¿ƒç ”ç©¶è®°å½•ç½‘ç»œæµçš„é”™é¢˜ é¡ºä¾¿è¡¥ä¸Šæ˜¨å¤©çš„é”™é¢˜ â… ã€ç‚¸ç‚¹ä¼˜åŒ–å¯¹è±¡ç‚¸å¼„é”™äº†[BJOI2006]ç‹¼æŠ“å…”å­WA Codeï¼šint Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[res]=0;//å®ƒé”™åœ¨è¿™é‡Œï¼ï¼ï¼ç‚¸ç‚¹ç‚¸çš„åº”è¯¥æ˜¯toä¸æ˜¯resï¼ b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } AC Codeï¼šint Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt) { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0;//å°±æ˜¯è¿™é‡Œï¼å“¼~ä¸é«˜å…´! b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } â…¡ã€å»ºè¾¹æ²¡çœ‹æ–¹å‘ çœ¼ç›å‘¢ï¼[BJOI2006]ç‹¼æŠ“å…”å­WA Codeï¼š for(i=1;i&lt;=n;i++) for(j=1;j&lt;m;j++) { cap=read(); add(TtO(i,j),TtO(i,j+1),cap);//è¿™é‡Œï¼ } for(i=1;i&lt;n;i++) for(j=1;j&lt;=m;j++) { cap=read(); add(TtO(i,j),TtO(i+1,j),cap);//è¿™é‡Œï¼ï¼ } for(i=1;i&lt;n;i++) for(j=1;j&lt;m;j++) { cap=read(); add(TtO(i,j),TtO(i+1,j+1),cap);//è¿˜æœ‰è¿™é‡Œï¼ï¼ï¼ }//åˆ«çœ‹äº†ï¼Œæˆ‘ç é‡å¤§~ AC Codeï¼š for(i=1;i&lt;=n;i++) for(j=1;j&lt;m;j++) { cap=read(); add(TtO(i,j),TtO(i,j+1),cap); add(TtO(i,j+1),TtO(i,j),cap);//è¿™æ ·å°±å¯¹äº† } for(i=1;i&lt;n;i++) for(j=1;j&lt;=m;j++) { cap=read(); add(TtO(i,j),TtO(i+1,j),cap); add(TtO(i+1,j),TtO(i,j),cap);//å—¯ï¼Œå°±æ˜¯è¿™æ · } for(i=1;i&lt;n;i++) for(j=1;j&lt;m;j++) { cap=read(); add(TtO(i,j),TtO(i+1,j+1),cap); add(TtO(i+1,j+1),TtO(i,j),cap);//ä¸é”™ï¼Œè¿™æ ·å¾ˆNice } ä¸è¿‡è¿™ä½å¤§ä½¬æƒ³å‡ºäº†çœä¸€åŠç©ºé—´çš„æ–¹æ³•ç‘Ÿç‘Ÿå‘æŠ– è¿™ä¸ªäº‹æƒ…å‘Šè¯‰æˆ‘ä»¬ï¼šçæƒœæ—¶é—´ï¼Œå¥½å¥½çœ‹é¢˜ â…¢ã€è¾¹çš„æ–¹å‘å¼„é”™[CQOI2009]è·³èˆWA Codeï¼š for(i=1;i&lt;=(n&lt;&lt;1);i++)//å·æ‡’è€Œå·²â€¦â€¦ { add(i,i+(n&lt;&lt;1),n); add(i,i+(n&lt;&lt;2),k); } AC Codeï¼š for(i=1;i&lt;=n;i++) { add(i,i+(n&lt;&lt;1),n); add(i,i+(n&lt;&lt;2),k); } for(i=n+1;i&lt;=(n&lt;&lt;1);i++)//åè¿‡æ¥å°±å¯¹äº†ï¼ { add(i+(n&lt;&lt;1),i,n); add(i+(n&lt;&lt;2),i,k); } è¿™ä¸ªäº‹æƒ…å‘Šè¯‰æˆ‘ä»¬ï¼šå¹´è½»äººåˆ‡è«å·æ‡’ â…£ã€éå†è¾¹çš„æ—¶å€™å†™é”™[CQOI2009]è·³èˆWA Codeï¼šint Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].to)//å‰å®³å§~ { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0; b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } AC Codeï¼šint Dinic(int k,int flow) { if(k==T) return flow; int i,to,cap,res,rest=flow; for(i=head[k];i&amp;&amp;rest;i=b[i].nxt)//è¿™æ ·æ‰å¯¹å˜›ï¼ä¼—äººï¼šæ™ºéšœï¼ { to=b[i].to;cap=b[i].cap; if(cap&amp;&amp;deep[to]==deep[k]+1) { res=Dinic(to,min(rest,cap)); if(!res) deep[to]=0; b[i].cap-=res; b[i^1].cap+=res; rest-=res; } } return flow-rest; } 13:04ï¼Œè¿™æ˜¯ä»Šå¤©ç¬¬äºŒæ¬¡ï¼ŒæŸ¥é”™æŸ¥äº†åŠå¤©ï¼Œæˆ‘æ‰å­¦äº†ä¸¤å¤©å•Šï¼â…¤ã€æ±‡ç‚¹å˜é‡Tæ··ç”¨æ•™è¾…çš„ç»„æˆWA Codeï¼š S=n1+n1+n2+n3+1;T=n1+n1+n2+n3+2;//Tæ˜¯æ±‡ç‚¹~ for(i=1;i&lt;=n3;i++) add(S,i+n1+n2,1); for(i=1;i&lt;=n2;i++) add(i+n1,T,1); for(i=1;i&lt;=n1;i++) add(i+n1+n2+n3,i,1); T=read();//Tè®°å½•è¾¹æ•°â€¦â€¦é»‘è„¸ while(T--) { x=read();y=read()+n1; add(x,y,1); } T=read();//è¿˜æœ‰è¿™é‡Œâ€¦â€¦å±…ç„¶ï¼åè¡€ while(T--) { x=read()+n1+n2+n3;y=read()+n1+n2; add(y,x,1); } AC Codeï¼š S=n1+n1+n2+n3+1;T=n1+n1+n2+n3+2; for(i=1;i&lt;=n3;i++) add(S,i+n1+n2,1); for(i=1;i&lt;=n2;i++) add(i+n1,T,1); for(i=1;i&lt;=n1;i++) add(i+n1+n2+n3,i,1); m=read();//æ¢ä¸ªå˜é‡å°±è¡Œäº†â€¦â€¦ while(m--) { x=read();y=read()+n1; add(x,y,1); } m=read();//æˆ‘è‚¯å®šæ˜¯å‚»äº†â€¦â€¦ while(m--) { x=read()+n1+n2+n3;y=read()+n1+n2; add(y,x,1); } â…¥ã€è¾¹çš„æ•°ç»„èŒƒå›´å¼€å°æ•™è¾…çš„ç»„æˆWA Codeï¼š#define M 50010//å°‘äº†20000ï¼ using namespace std; struct node{ int to,cap; int nxt; node(int a,int b):to(a),cap(b){ } node(){ } }b[M&lt;&lt;1]; AC Codeï¼š#define M 70010//çœ‹æ¥çœŸçš„è¦å¤šåŠ ä¸€ä¸ªzeroæ‰è¡Œï¼ using namespace std; struct node{ int to,cap; int nxt; node(int a,int b):to(a),cap(b){ } node(){ } }b[M&lt;&lt;1]; 13:53 ä»Šå¤©ç¬¬ä¸‰æ¬¡ Orzç½‘ç»œæµâ…¦ã€å»ºè¾¹äº¤é”™æ··æ‚å¼„å h^ovnyï¼š@#%&amp;ï¼Ÿï¼[USACO07OPEN]åƒé¥­DiningWA Codeï¼š for(i=1;i&lt;=F;i++)//çœ‹å‡ºæ¥å“ªé‡Œé”™äº†å—ï¼Ÿ add(S,n+i,1); for(i=1;i&lt;=D;i++)//æ··æ‚å¼„åemmm add(n+F+i,T,1); for(i=1;i&lt;=n;i++)//è¾¹å¼„å add(i,n+F+D+i,1); AC Codeï¼š for(i=1;i&lt;=D;i++)//è¿™æ‰æ˜¯æ­£è§£å˜›ï¼ add(S,n+F+i,1); for(i=1;i&lt;=F;i++) add(n+i,T,1); for(i=1;i&lt;=n;i++) add(n+F+D+i,i,1); h^ovnyï¼šè„‘ç™½é‡‘ï¼Ÿï¼","categories":[{"name":"é”™è¯¯ç‚¹è®°å½•","slug":"é”™è¯¯ç‚¹è®°å½•","permalink":"http://hovnySiLenCe.github.io/categories/é”™è¯¯ç‚¹è®°å½•/"}],"tags":[{"name":"ç½‘ç»œæµ","slug":"ç½‘ç»œæµ","permalink":"http://hovnySiLenCe.github.io/tags/ç½‘ç»œæµ/"}],"keywords":[{"name":"é”™è¯¯ç‚¹è®°å½•","slug":"é”™è¯¯ç‚¹è®°å½•","permalink":"http://hovnySiLenCe.github.io/categories/é”™è¯¯ç‚¹è®°å½•/"}]}]}